(function(e){var b=e.Jx,k={},n={},g={NO_DEBUG:0,SHOW_ALL:1},j={debug:1},d=function(h,o,p){h=String(h);if(j.debug)if(this.console)this.console.out?this.console.out(h,o,p):alert(h+" - \u6d88\u606f\u7c7b\u578b["+p+"]");return h};try{if(typeof b==="undefined"||b.mark&&b.mark==="JxMark"){if(b){k=b.VERSIONS;n=b.PACKAGES}b=function(h,o){var p=this;if(o)if(p&&p.hasOwnProperty&&p instanceof b)p._init();else p=new b(h);else if(h){h=String(h);try{if(b.VERSIONS[h])p=b.VERSIONS[h];else{p=b.VERSIONS[b.DEFAULT_VERSION];
throw Error("\u6ca1\u6709\u627e\u5230 JET version "+h+", \u6240\u4ee5\u8fd4\u56de\u9ed8\u8ba4\u7248\u672c JET version "+b.DEFAULT_VERSION+"!");}}catch(s){p.out("A.\u9519\u8bef\uff1a["+s.name+"] "+s.message+", "+s.fileName+", \u884c\u53f7:"+s.lineNumber+"; stack:"+typeof s.stack,2)}}else p=b.VERSIONS[b.DEFAULT_VERSION];return p};b.prototype={version:"1.0.%Version%",DEBUG:g,option:j,_init:function(){this.constructor=b},$namespace:function(h){if(!h)return e;h=String(h);var o,p=h.split("."),s=e;for(h=
0;h<p.length;h+=1){o=p[h];s[o]=s[o]||{};s=s[p[h]]}return s},$package:function(){var h=arguments[0],o=arguments[arguments.length-1],p=e,s;if(typeof o==="function"){if(typeof h==="string"){p=this.$namespace(h);b.PACKAGES[h]||(b.PACKAGES[h]={isLoaded:true,returnValue:s});p.packageName=h}else if(typeof h==="object")p=h;s=o.call(p,this);typeof h==="string"&&(b.PACKAGES[h].returnValue=s)}else throw Error("Function required");},checkPackage:function(h){return b.PACKAGES[h]},out:d,debug:function(){},profile:function(){},
warn:function(){},error:function(){},startTime:+new Date,about:function(){return this.out("JET (Javascript Extend Tools)\nversion: "+this.version+"\n\nCopyright (c) 2009, All rights reserved.")},toString:function(){return"JET version "+this.version+" !"}};b.VERSIONS=k;b.PACKAGES=n;b.VERSIONS["1.0.%Version%"]=new b("1.0.%Version%",true);b.DEFAULT_VERSION="1.0.%Version%";b.mark="JxMark";e.Jet=e.Jx=b}else throw Error('"Jx" name is defined in other javascript code !!!');}catch(f){d("JET \u5fae\u5185\u6838\u521d\u59cb\u5316\u5931\u8d25! B.\u9519\u8bef\uff1a["+
f.name+"] "+f.message+", "+f.fileName+", \u884c\u53f7:"+f.lineNumber+"; stack:"+typeof f.stack,1)}})(this);
Jx().$package(function(e){var b,k,n,g,j,d,f,h,o,p,s;b=function(a){return typeof a==="undefined"};k=function(a){return a===null};n=function(a){return(a===0||a)&&a.constructor===Number};j=function(a){return(a===false||a)&&a.constructor===Boolean};g=function(a){return(a===""||a)&&a.constructor===String};d=function(a){return a&&a.constructor===Object||String(a)==="[object Object]"};f=function(a){return a&&a.constructor===Array||Object.prototype.toString.call(a)==="[object Array]"};h=function(a){return a&&
a.callee&&n(a.length)?true:false};o=function(a){return a&&a.constructor===Function};p=function(a){var c=arguments,l,m;if(c.length===1){a=this;c=0}else{a=c[0]||{};c=1}for(;c<arguments.length;c++){m=arguments[c];for(l in m){var r=a[l],u=m[l];if(r!==u)if(u&&d(u)&&!f(u)&&!u.nodeType&&!o(u)){r=a[l]||{};a[l]=p(r,u||(u.length!=null?[]:{}))}else if(u!==undefined)a[l]=u}}return a};s=function(){var a=arguments.length,c=arguments[a-1];c.init=c.init||function(){};if(a===2){a=arguments[0].extend;var l=function(){};
l.prototype=a.prototype;var m=function(){this.init.apply(this,arguments)};m.superClass=a.prototype;m.callSuper=function(r,u){var x=Array.prototype.slice,v=x.call(arguments,2);(u=m.superClass[u])&&u.apply(r,v.concat(x.call(arguments)))};m.prototype=new l;m.prototype.constructor=m;e.extend(m.prototype,c);m.prototype.init=function(){c.init.apply(this,arguments)};return m}else if(a===1){a=function(){return this.init.apply(this,arguments)};a.prototype=c;return a}};var i=new s({init:function(a,c,l,m,r){var u=
a.concat();if(m)u=a;this.timeout=window.setTimeout(function(){var x=+new Date;do c.call(l,u.shift());while(u.length>0&&+new Date-x<50);if(u.length>0)this.timeout=window.setTimeout(arguments.callee,25);else r&&r(a)},25)},stop:function(){clearTimeout(this.timeout)}});e.isUndefined=b;e.isNull=k;e.isNumber=n;e.isString=g;e.isBoolean=j;e.isObject=d;e.isArray=f;e.isArguments=h;e.isFunction=o;e.$typeof=function(a){return b(a)?"undefined":k(a)?"null":n(a)?"number":j(a)?"boolean":g(a)?"string":d(a)?"object":
f(a)?"array":h(a)?"arguments":o(a)?"function":"other"};e.$return=function(a){return e.isFunction(a)?a:function(){return a}};e.$try=function(){var a,c=arguments.length,l;for(a=0;a<c;a++)try{l=arguments[a]();break}catch(m){e.out("C.\u9519\u8bef\uff1a["+m.name+"] "+m.message+", "+m.fileName+", \u884c\u53f7:"+m.lineNumber+"; stack:"+typeof m.stack,2)}return l};e.emptyFunc=function(){};e.clone=function(a){var c=function(){};c.prototype=a;return new c};e.getLength=function(a){var c,l=0;for(c in a)a.hasOwnProperty(c)&&
l++;return l};e.checkJSON=function(){return true};e.random=function(a,c){return Math.floor(Math.random()*(c-a+1)+a)};e.extend=p;e.now=function(){return+new Date};e.timedChunk=function(a,c,l,m,r){var u=a.concat();if(m)u=a;window.setTimeout(function(){var x=+new Date;do c.call(l,u.shift());while(u.length>0&&+new Date-x<50);if(u.length>0)window.setTimeout(arguments.callee,25);else r&&r(a)},25)};e.rebuild=function(a,c){c=c||{};a.$$rebuildedFunc=a.$$rebuildedFunc||function(){var l,m;l=c.contextObj||this;
m=Array.prototype.slice.call(arguments,0);if(m!==undefined)m=m.concat(c.arguments);if(c.event===false)m=m.slice(1);return a.apply(l,m)};return a.$$rebuildedFunc};e.pass=function(a){var c=Array.prototype.slice,l=c.call(arguments,1);return function(){return a.apply(this,l.concat(c.call(arguments)))}};e.bind=function(a,c){var l=Array.prototype.slice,m=l.call(arguments,2);return function(){return a.apply(c,m.concat(l.call(arguments)))}};e.bindNoEvent=void 0;e.Class=s;e.Chunk=i});
Jx().$package(function(e){e.array=e.array||{};var b=e.array,k,n,g,j,d,f,h,o,p,s,i,a;k=Array.prototype.indexOf?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.indexOf.apply(arguments[0],c)}:function(c,l,m){if(m==null)m=0;else if(m<0)m=Math.max(0,c.length+m);for(m=m;m<c.length;m++)if(c[m]===l)return m;return-1};n=Array.prototype.lastIndexOf?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.lastIndexOf.apply(arguments[0],c)}:function(c,l,
m){if(m==null)m=c.length-1;else if(m<0)m=Math.max(0,c.length+m);for(m=m;m>=0;m--)if(c[m]===l)return m;return-1};g=Array.prototype.forEach?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.forEach.apply(arguments[0],c)}:function(c,l,m){var r=c.length;if(typeof l!="function")throw new TypeError;for(var u=0;u<r;u++)u in c&&l.call(m,c[u],u,c)};j=Array.prototype.filter?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.filter.apply(arguments[0],
c)}:function(c,l,m){var r=c.length;if(typeof l!="function")throw new TypeError;for(var u=[],x=0;x<r;x++)if(x in c){var v=c[x];l.call(m,v,x,c)&&u.push(v)}return u};d=Array.prototype.some?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.some.apply(arguments[0],c)}:function(c,l,m){var r=c.length;if(typeof l!="function")throw new TypeError;for(var u=0;u<r;u++)if(u in c&&l.call(m,c[u],u,c))return true;return false};f=Array.prototype.map?function(){var c=Array.prototype.slice.call(arguments,
1);return Array.prototype.map.apply(arguments[0],c)}:function(c,l,m){var r=c.length;if(typeof l!="function")throw new TypeError;for(var u=Array(r),x=0;x<r;x++)if(x in c)u[x]=l.call(m,c[x],x,c);return u};h=Array.prototype.every?function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.every.apply(arguments[0],c)}:function(c,l,m){var r=c.length;if(typeof l!="function")throw new TypeError;for(var u=0;u<r;u++)if(u in c&&!l.call(m,c[u],u,c))return false;return true};o=Array.prototype.reduce?
function(){var c=Array.prototype.slice.call(arguments,1);return Array.prototype.reduce.apply(arguments[0],c)}:function(c,l){var m=c.length>>>0;if(typeof l!="function")throw new TypeError;if(m==0&&arguments.length==2)throw new TypeError;var r=0;if(arguments.length>=3)var u=arguments[2];else{do{if(r in c){u=c[r++];break}if(++r>=m)throw new TypeError;}while(1)}for(;r<m;r++)if(r in c)u=l.call(null,u,c[r],r,c);return u};p=Array.prototype.reduceRight?function(){var c=Array.prototype.slice.call(arguments,
1);return Array.prototype.reduceRight.apply(arguments[0],c)}:function(c,l){var m=c.length>>>0;if(typeof l!="function")throw new TypeError;if(m==0&&arguments.length==2)throw new TypeError;m=m-1;if(arguments.length>=3)var r=arguments[2];else{do{if(m in c){r=c[m--];break}if(--m<0)throw new TypeError;}while(1)}for(;m>=0;m--)if(m in c)r=l.call(null,r,c[m],m,c);return r};s=function(c){var l=e.$typeof(c);return l?l!="array"&&l!="arguments"?[c]:c:[]};i=function(c,l){return k(c,l)>-1};a=function(c){for(var l=
[],m=0,r=c.length;m<r;m++)i(l,c[m])||l.push(c[m]);return l};b.indexOf=k;b.lastIndexOf=n;b.forEach=g;b.filter=j;b.some=d;b.map=f;b.every=h;b.reduce=o;b.reduceRight=p;b.toArray=s;b.remove=function(c,l){l=s(l);var m,r,u=false;for(m=0;m<l.length;m++)for(r=0;r<c.length;r++)if(c[r]===l[m]){c.splice(r,1);u=true}return u};b.replace=function(c,l,m){for(;0<c.length;ij++)if(c[0]===l){c[0]=m;return true}return false};b.bubbleSort=function(c,l){l=l||function(E,D){return E-D};for(var m=c.length,r,u,x=0;x<m-1;x++){u=
false;for(var v=m-1;v>x;v--)if(l(c[v],c[v-1])<0){u=true;r=c[v-1];c[v-1]=c[v];c[v]=r}if(!u)break}return c};b.binarySearch=function(c,l,m){for(var r=0,u=c.length,x=Math.floor(c.length/2);u!=x;){if(m(l,c[x])>0)r=x+1;else u=x;x=Math.floor((r+u)/2)}return x};b.contains=i;b.uniquelize=a;b.intersect=function(c,l){for(var m=[],r=0,u=c.length;r<u;r++)i(l,c[r])&&m.push(c[r]);return m};b.minus=function(c,l){for(var m=[],r=0,u=c.length;r<u;r++)i(l,c[r])||m.push(c[r]);return m};b.union=function(c,l){return a(c.concat(l))}});
Jx().$package(function(e){e.browserOptions={adjustBehaviors:true,htmlClass:true};e.host=window.location.host;var b=navigator.platform.toLowerCase(),k=navigator.userAgent.toLowerCase(),n=navigator.plugins,g,j,d,f,h;f=function(s,i){s=(""+s).replace(/_/g,".");i=i||1;s=String(s).split(".");s=s[0]+"."+(s[1]||"0");return s=Number(s).toFixed(i)};g={getPlatform:function(){return b},name:window.orientation!=undefined?"iPod":(b.match(/mac|win|linux/i)||["unknown"])[0],version:0,iPod:0,iPad:0,iPhone:0,android:0,
win:0,linux:0,mac:0,set:function(s,i){this.name=s;this.version=i;this[s]=i}};g[g.name]=true;(h=k.match(/windows ([\d.]+)/))?g.set("win",f(h[1])):(h=k.match(/windows nt ([\d.]+)/))?g.set("win",f(h[1])):(h=k.match(/linux ([\d.]+)/))?g.set("linux",f(h[1])):(h=k.match(/mac ([\d.]+)/))?g.set("mac",f(h[1])):(h=k.match(/ipod ([\d.]+)/))?g.set("iPod",f(h[1])):(h=k.match(/ipad[\D]*os ([\d_]+)/))?g.set("iPad",f(h[1])):(h=k.match(/iphone ([\d.]+)/))?g.set("iPhone",f(h[1])):(h=k.match(/android ([\d.]+)/))&&g.set("android",
f(h[1]));j={features:{xpath:!!document.evaluate,air:!!window.runtime,query:!!document.querySelector},getPlugins:function(){return n},plugins:{flash:function(){var s=0;if(n&&n.length){var i=n["Shockwave Flash"];if(i&&i.description)s=f(i.description.match(/\b(\d+)\.\d+\b/)[1],1)||s}else for(i=13;i--;)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);s=f(i);break}catch(a){}return s}()},getUserAgent:function(){return k},name:"unknown",version:0,ie:0,firefox:0,chrome:0,opera:0,safari:0,mobileSafari:0,
adobeAir:0,set:function(s,i){this.name=s;this.version=i;this[s]=i}};(h=k.match(/msie ([\d.]+)/))?j.set("ie",f(h[1])):(h=k.match(/firefox\/([\d.]+)/))?j.set("firefox",f(h[1])):(h=k.match(/chrome\/([\d.]+)/))?j.set("chrome",f(h[1])):(h=k.match(/opera.([\d.]+)/))?j.set("opera",f(h[1])):(h=k.match(/adobeair\/([\d.]+)/))?j.set("adobeAir",f(h[1])):(h=k.match(/version\/([\d.]+).*safari/))&&j.set("safari",f(h[1]));(h=k.match(/version\/([\d.]+).*mobile.*safari/))&&j.set("mobileSafari",f(h[1]));g.iPad&&j.set("mobileSafari",
"0.0");if(j.ie)if(document.documentMode)document.documentMode!==Math.floor(j.ie)&&j.set("ie",f(document.documentMode));else document.documentMode=Math.floor(j.ie);d={name:"unknown",version:0,trident:0,gecko:0,webkit:0,presto:0,set:function(s,i){this.name=s;this.version=i;this[s]=i}};(h=k.match(/trident\/([\d.]+)/))?d.set("trident",f(h[1])):(h=k.match(/gecko\/([\d.]+)/))?d.set("gecko",f(h[1])):(h=k.match(/applewebkit\/([\d.]+)/))?d.set("webkit",f(h[1])):(h=k.match(/presto\/([\d.]+)/))&&d.set("presto",
f(h[1]));if(j.ie)if(j.ie==6)d.set("trident",f("4"));else if(j.ie==7||j.ie==8)d.set("trident",f("5"));if(e.browserOptions.adjustBehaviors)if(j.ie&&j.ie<7)try{document.execCommand("BackgroundImageCache",false,true)}catch(o){}var p=function(s){return String(s).replace(/\./gi,"_")};h=function(){var s=document.documentElement,i=[s.className];i.push("javascriptEnabled");i.push(g.name);i.push(g.name+p(g.version));i.push(j.name);i.push(j.name+p(j.version));document.documentMode&&i.push("documentMode_"+document.documentMode);
i.push(d.name);i.push(d.name+p(d.version));if(j.plugins.flash){i.push("flash");i.push("flash"+p(j.plugins.flash))}typeof window.webTop!="undefined"&&window.webTop&&i.push("webTop");s.className=i.join(" ")};e.browserOptions.htmlClass&&h();e.platform=g;e.browser=j;e.browser.engine=d});
Jx().$package(function(e){var b,k,n,g,j,d,f,h,o,p,s,i,a,c,l,m,r=null,u,x,v,E;e.dom=e.dom||{};b=e.dom;k=e.browser;n=b.win?b.win.contentWindow:b.win||window;b.win=n;b.doc=n.document;var D=document&&Object.prototype.hasOwnProperty.call(document.documentElement,"classList");x=function(){if(v)return v;return v=document.compatMode==="CSS1Compat"?document.documentElement:document.body};m=function(q){if(q){q=q||window.document;r=q.nodeType===9?q:q.ownerDocument||b.doc}else if(!r){q=q||window.document;r=q.nodeType===
9?q:q.ownerDocument||b.doc}return r};u=function(q){var t=m(q);return q.document?q:t.defaultView||t.parentWindow||b.win};n=function(q,t){t=t||m();return t.getElementsByTagName(q)};s=function(q){return(q?q.scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))||0};i=function(q){return(q?q.scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop))||0};g=function(){return D?function(q,t){if(!q||!t)return false;return q.classList.contains(t)}:function(q,
t){if(!q||!t)return false;return-1<(" "+q.className+" ").indexOf(" "+t+" ")}}();j=function(){return D?function(q,t){!q||!t||g(q,t)||q.classList.add(t)}:function(q,t){!q||!t||g(q,t)||(q.className+=" "+t)}}();d=function(){return D?function(q,t){!q||!t||!g(q,t)||q.classList.remove(t)}:function(q,t){if(!(!q||!t||!g(q,t)))q.className=q.className.replace(RegExp("(?:^|\\s)"+t+"(?:\\s|$)")," ")}}();f=function(){return D?function(q,t){q&&t&&q.classList.toggle(t)}:function(q,t){if(q&&t)g(q,t)?d(q,t):j(q,t)}}();
h=function(q,t,w){if(q){var B=e.browser.name;if(t==="float"||t==="cssFloat")t=B==="ie"?"styleFloat":"cssFloat";if(t==="opacity"&&B==="ie"&&e.browser.ie<9){q.style.filter='alpha(opacity="'+w*100+'")';if(!q.style.zoom)q.style.zoom=1}else q.style[t]=w}};o=function(q,t){if(q){var w=u(q),B=e.browser.name;if(t==="float"||t==="cssFloat")t=B==="ie"?"styleFloat":"cssFloat";if(t==="opacity"&&B==="ie"&&e.browser.ie<9){w=1;if((B=q.style.filter.match(/opacity=(\d+)/))&&B[1])w=B[1]/100;return w}if(q.style[t])return q.style[t];
else if(q.currentStyle)return q.currentStyle[t];else if(w.getComputedStyle)return w.getComputedStyle(q,null)[t];else if(document.defaultView&&document.defaultView.getComputedStyle){t=t.replace(/([/A-Z])/g,"-$1");t=t.toLowerCase();return(w=document.defaultView.getComputedStyle(q,""))&&w.getPropertyValue(t)}}};p=function(q,t){q.style.cssText=t};a=function(q){var t=0,w=0;if(q)if(document.documentElement.getBoundingClientRect&&q.getBoundingClientRect){w={left:0,top:0,right:0,bottom:0};try{w=q.getBoundingClientRect()}catch(B){return[0,
0]}q=q.ownerDocument;var G=e.browser.ie?2:0;t=w.top-G+i(q);w=w.left-G+s(q)}else for(;q.offsetParent;){t+=q.offsetTop;w+=q.offsetLeft;q=q.offsetParent}return[w,t]};c=function(q){q=a(q);q[0]+=s();q[1]+=i();return q};l=function(q,t,w){var B=parseInt(o(q,"marginLeft"))||0,G=parseInt(o(q,"marginTop"))||0;h(q,"left",parseInt(t)-B+"px");h(q,"top",parseInt(w)-G+"px")};for(var K=function(q){return!q||q=="auto"?0:parseInt(q.substr(0,q.length-2))},H=n("script"),z=0;z<H.length;z++)if(H[z].getAttribute("hasJx")==
"true")e.src=H[z].src;if(!e.src)e.src=H[H.length-1].src;e.filename=e.src.replace(/(.*\/){0,}([^\\]+).*/ig,"$2");e.path=e.src.split(e.filename)[0];b.getDoc=m;b.id=function(q,t){return m(t).getElementById(q)};b.name=function(q,t){return m(t).getElementsByName(q)};b.tagName=n;b.getText=function(q){var t=q?q[TEXT_CONTENT]:"";if(t===UNDEFINED&&INNER_TEXT in q)t=q[INNER_TEXT];return t||""};b.getAttributeByParent=function(q,t,w){var B=false;t=t;var G;do{G=t.getAttribute(q);if(e.isUndefined(G)||e.isNull(G))if(t===
w)B=true;else t=t.parentNode;else B=true}while(!B);return G};b.node=function(q,t){var w,B=document.createElement(q),G={"class":function(){B.className=t["class"]},style:function(){p(B,t.style)}};for(w in t)G[w]?G[w]():B.setAttribute(w,t[w]);return B};b.setClass=function(q,t){q.className=t};b.getClass=function(q){return q.className};b.hasClass=g;b.addClass=j;b.removeClass=d;b.toggleClass=f;b.replaceClass=function(q,t,w){d(q,t);j(q,w)};b.createStyleNode=function(q,t){var w=b.node("style",{id:t||"",type:"text/css"});
b.getDocHead().appendChild(w);var B=typeof q;if(B=="string")if(w.styleSheet)w.styleSheet.cssText=q;else{B=document.createTextNode(q);w.appendChild(B)}else if(B=="object"){B=0;var G=document.styleSheets[document.styleSheets.length-1];for(selector in q)G.insertRule?G.insertRule(selector+"{"+q[selector]+"}",B++):G.addRule(selector,q[selector],B++)}return w};b.setStyle=h;b.getStyle=o;b.setCssText=p;b.getCssText=function(q){return q.style.cssText};b.addCssText=function(q,t){q.style.cssText+=";"+t};b.show=
function(q,t){var w;w=(w=q.getAttribute("_oldDisplay"))?w:o(q,"display");if(t)h(q,"display",t);else w==="none"?h(q,"display","block"):h(q,"display",w)};b.isShow=function(q){return o(q,"display")==="none"?false:true};b.recover=function(q){var t;t=(t=q.getAttribute("_oldDisplay"))?t:o(q,"display");t==="none"?h(q,"display",""):h(q,"display",t)};b.hide=function(q){var t=o(q,"display");q.getAttribute("_oldDisplay")||(t==="none"?q.setAttribute("_oldDisplay",""):q.setAttribute("_oldDisplay",t));h(q,"display",
"none")};b.getScrollLeft=s;b.getScrollTop=i;b.getScrollHeight=function(q){return(q?q.scrollHeight:Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))||0};b.getScrollWidth=function(q){return(q?q.scrollWidth:Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))||0};b.getClientHeight=function(q){q=q||x();return q.clientHeight};b.getClientWidth=function(q){q=q||x();return q.clientWidth};b.getOffsetHeight=function(q){q=q||x();return q.offsetHeight};b.getOffsetWidth=
function(q){q=q||x();return q.offsetWidth};b.getClientXY=a;b.setClientXY=function(q,t,w){t=parseInt(t)+s();w=parseInt(w)+i();l(q,t,w)};b.getXY=c;b.setXY=l;b.getRelativeXY=function(q,t){var w=c(q),B=c(t),G=[];G[0]=w[0]-B[0];G[1]=w[1]-B[1];return G};b.getPosX=function(q){return K(b.getStyle(q,"left"))};b.getPosY=function(q){return K(b.getStyle(q,"top"))};b.getWidth=function(q){return K(b.getStyle(q,"width"))};b.getHeight=function(q){return K(b.getStyle(q,"height"))};b.getSelection=void 0;b.getSelectionText=
function(q){q=q||window;var t=q.document;if(q.getSelection)return q.getSelection().toString();else if(t.getSelection)return t.getSelection();else if(t.selection)return t.selection.createRange().text};b.getTextFieldSelection=function(q){return q.selectionStart!=undefined&&q.selectionEnd!=undefined?q.value.substring(q.selectionStart,q.selectionEnd):""};b.getDocumentElement=x;b.getDocHead=function(){if(!E){var q=m();E=q.getElementsByTagName("head")?q.getElementsByTagName("head")[0]:q.documentElement}return E};
b.contains=function(q,t,w){if(!w&&q===t)return false;if(q.compareDocumentPosition){q=q.compareDocumentPosition(t);if(q==20||q==0)return true}else if(q.contains(t))return true;return false};b.getHref=function(q){return(k.ie&&k.ie<=7?q.getAttribute("href",4):q.href)||null}});
Jx().$package(function(e){var b,k,n,g,j,d,f=[],h,o,p,s,i;e.event=e.event||{};b=e.event;i=function(a,c){if(!a)a=window.event;c=c||a.srcElement;var l=document,m=l.documentElement;l=l.body;m={_event:a,type:a.type,target:a.srcElement,currentTarget:c,relatedTarget:a.fromElement?a.fromElement:a.toElement,eventPhase:a.srcElement==c?2:3,clientX:a.clientX,clientY:a.clientY,screenX:a.screenX,screenY:a.screenY,layerX:a.offsetX,layerY:a.offsetY,pageX:a.clientX+(m&&m.scrollLeft||l&&l.scrollLeft||0)-(m&&m.clientLeft||
l&&l.clientLeft||0),pageY:a.clientY+(m&&m.scrollTop||l&&l.scrollTop||0)-(m&&m.clientTop||l&&l.clientTop||0),wheelDelta:a.wheelDelta,altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,charCode:a.keyCode,keyCode:a.keyCode,stopPropagation:function(){this._event.cancelBubble=true},preventDefault:function(){this._event.returnValue=false}};l=a.type.toLowerCase();if(l=="mouseover")m.relatedTarget=a.fromElement;else if(l=="mouseout")m.relatedTarget=a.toElement;if(!e.isUndefined(a.button)){l=a.button;var r=
{0:-1,1:0,2:2,3:-1,4:1};m.button=e.isUndefined(r[l])?l:r[l]}return m};if(e.browser.ie){k=function(a,c,l,m){d["on"+c]?d["on"+c](a,c,l,m):n(a,c,l)};n=function(a,c,l){if(b._find(arguments)==-1){var m=function(x){x=i(x,a);if(Function.prototype.call)l.call(a,x);else{a._currentHandler=l;a._currentHandler(x);a._currentHandler=null}};a.attachEvent("on"+c,m);m={element:a,eventType:c,handler:l,wrappedEvent:m};var r=(a.document||a).parentWindow||window,u=b._uid();if(!r._allHandlers)r._allHandlers={};r._allHandlers[u]=
m;if(!a._handlers)a._handlers=[];a._handlers.push(u);if(!r._onunloadEventRegistered){r._onunloadEventRegistered=true;r.attachEvent("onunload",b._removeAllEvents)}}};g=function(a,c,l){if(d["off"+c])d["off"+c](a,c,l);else arguments.length==3?j(a,c,l):j(a,c)};j=function(a){var c=b._find(arguments);if(c!=-1){for(var l=(a.document||a).parentWindow||window,m=0;m<c.length;m++){var r=c[m],u=a._handlers[r],x=l._allHandlers[u];a.detachEvent("on"+x.eventType,x.wrappedEvent);a._handlers[r]=null;a._handlers.splice(r,
1);delete l._allHandlers[u]}if(a._handlers&&a._handlers.length==0)a._handlers=null}};b._find=function(a){var c=a[0],l=a[1],m=a[2],r=c._handlers;if(!r)return-1;c=(c.document||c).parentWindow||window;var u=[];if(a.length===3)for(a=r.length-1;a>=0;a--){var x=r[a];x=c._allHandlers[x];if(x.eventType==l&&x.handler==m){u.push(a);return u}}else if(a.length===2){for(a=r.length-1;a>=0;a--){x=r[a];x=c._allHandlers[x];x.eventType==l&&u.push(a)}if(u.length>0)return u}else if(a.length===1){for(a=r.length-1;a>=
0;a--)u.push(a);if(u.length>0)return u}return-1};b._removeAllEvents=function(){for(var a in this._allHandlers){var c=this._allHandlers[a];c.element.detachEvent("on"+c.eventType,c.wrappedEvent);c.element._handlers=null;delete this._allHandlers[a]}};b._counter=0;b._uid=function(){return"h"+b._counter++}}else if(document.addEventListener){k=function(a,c,l,m){d["on"+c]?d["on"+c](a,c,l,m):n(a,c,l)};n=function(a,c,l){var m=false;a||e.out("targetModel undefined:"+c+l);if(!a._eventTypes)a._eventTypes={};
a._eventTypes[c]||(a._eventTypes[c]=[]);a.addEventListener(c,l,false);a=a._eventTypes[c];for(c=0;c<a.length;c++)if(a[c]==l){m=true;break}m||a.push(l)};g=function(a,c,l){if(d["off"+c])d["off"+c](a,c,l);else arguments.length==3?j(a,c,l):j(a,c)};j=function(a,c,l){if(c)if(arguments.length==3){if(l){a.removeEventListener(c,l,false);if(a._eventTypes&&a._eventTypes[c])for(var m=a._eventTypes[c],r=0;r<m.length;r++)if(m[r]===l){m[r]=null;m.splice(r,1);break}}}else{if(a._eventTypes&&a._eventTypes[c]){m=a._eventTypes[c];
for(r=0;r<m.length;r++)a.removeEventListener(c,m[r],false);a._eventTypes[c]=[]}}else if(a._eventTypes){var u=a._eventTypes,x;for(x in u){m=a._eventTypes[x];for(r=0;r<m.length;r++)a.removeEventListener(x,m[r],false)}}}}d={ondrag:function(a,c,l){var m,r,u=false,x=function(D){if(!(!e.browser.mobileSafari&&D.button!==0)){if(e.browser.mobileSafari){D.stopPropagation();D=D.touches[0];m=D.pageX;r=D.pageY}else{D.stopPropagation();D.preventDefault();m=D.clientX;r=D.clientY}u=false;if(e.browser.mobileSafari){b.addEventListener(document,
"touchmove",v);b.addEventListener(a,"touchend",E)}else b.addEventListener(document,"mousemove",v)}},v=function(D){if(!(!e.browser.mobileSafari&&D.button!==0)){var K,H;D.stopPropagation();if(e.browser.mobileSafari){H=D.changedTouches[0];K=H.pageX;H=H.pageY}else{K=D.clientX;H=D.clientY}if(Math.abs(m-K)+Math.abs(r-H)>2){if(e.browser.mobileSafari){b.removeEventListener(document,"touchmove",v);b.removeEventListener(a,"touchend",E)}else b.removeEventListener(document,"mousemove",v);if(!u){l.call(a,D);u=
true}}}},E=function(D){if(!(!e.browser.mobileSafari&&D.button!==0))if(e.browser.mobileSafari){b.removeEventListener(document,"touchmove",v);if(u){D.stopPropagation();D.preventDefault()}}else b.removeEventListener(document,"mousemove",v)};if(e.browser.mobileSafari)b.addEventListener(a,"touchstart",x);else{b.addEventListener(a,"mousedown",x);b.addEventListener(a,"mouseup",E)}f.push({element:a,eventType:c,handler:l,actions:[x,E]})},offdrag:function(a,c,l){for(var m in f)if(f[m].handler==l&&f[m].element==
a&&f[m].eventType==c){if(e.browser.mobileSafari){b.removeEventListener(a,"touchstart",f[m].actions[0]);b.removeEventListener(a,"touchend",f[m].actions[1])}else{b.removeEventListener(a,"mousedown",f[m].actions[0]);b.removeEventListener(a,"mouseup",f[m].actions[1])}f.splice(m,1);break}},oncustomclick:function(a,c,l,m){var r,u,x=false,v=false,E;m=m?m:{};var D=m.longtouchable,K=-1;m=function(t){x=false;if(!(!e.browser.mobileSafari&&t.button!==0)){var w;if(e.browser.mobileSafari){w=t.changedTouches[0];
r=w.pageX;u=w.pageY}else{r=t.clientX;u=t.clientY}v=false;if(D)E=setTimeout(function(){if(!(x||v)){if(e.browser.mobileSafari){b.removeEventListener(a,"touchmove",z);b.removeOriginalEventListener(a,"touchend",q)}else{b.removeEventListener(a,"mousemove",z);b.removeOriginalEventListener(a,"click",q)}l.call(a,t,2E3)}},1E3);if(e.browser.mobileSafari){b.addEventListener(a,"touchmove",z);b.addOriginalEventListener(a,"touchend",q)}else{b.addEventListener(a,"mousemove",z);b.addOriginalEventListener(a,"click",
q)}}};var H=function(t){K=t.button;if(!(!e.browser.mobileSafari&&t.button!==0))if(e.browser.mobileSafari)touch=t.changedTouches[0]},z=function(t){if(e.browser.mobileSafari){touch=t.changedTouches[0];var w=touch.pageX;t=touch.pageY}else{w=t.clientX;t=t.clientY}if(x=Math.abs(r-w)+Math.abs(u-t)>1){clearTimeout(E);E=null;if(e.browser.mobileSafari){b.removeEventListener(a,"touchmove",z);b.removeOriginalEventListener(a,"touchend",q)}else{b.removeEventListener(a,"mousemove",z);b.removeOriginalEventListener(a,
"click",q)}}},q=function(t){clearTimeout(E);E=null;v=true;if(!(!e.browser.mobileSafari&&K!==0)){var w;if(e.browser.mobileSafari){w=t.changedTouches[0];var B=w.pageX;w=w.pageY}else{B=t.clientX;w=t.clientY}if(Math.abs(r-B)+Math.abs(u-w)<1){x=false;l.call(a,t,0)}}};if(e.browser.mobileSafari)b.addEventListener(a,"touchstart",m);else{b.addEventListener(a,"mousedown",m);b.addEventListener(a,"mouseup",H)}f.push({element:a,eventType:c,handler:l,actions:[m,z,H,q]})},offcustomclick:function(a,c,l){for(var m in f)if(f[m].handler==
l&&f[m].element==a&&f[m].eventType==c){if(e.browser.mobileSafari){b.removeEventListener(a,"touchstart",f[m].actions[0]);b.removeEventListener(a,"touchmove",f[m].actions[1]);b.removeOriginalEventListener(a,"touchend",f[m].actions[3])}else{b.removeEventListener(a,"mousedown",f[m].actions[0]);b.removeEventListener(a,"mousemove",f[m].actions[1]);b.removeEventListener(a,"mouseup",f[m].actions[2]);b.removeOriginalEventListener(a,"click",f[m].actions[3])}f.splice(m,1);break}},oncontextmenu:function(a,c,
l){if(e.browser.ie==9){var m=function(r){r=i(r,a);l.call(a,r)};a.attachEvent("oncontextmenu",m);f.push({element:a,eventType:c,handler:l,actions:[m]})}else b.addOriginalEventListener(a,c,l)},offcontextmenu:function(a,c,l){if(e.browser.ie==9)for(var m in f){if(f[m].handler==l&&f[m].element==a&&f[m].eventType==c){a.detachEvent("oncontextmenu",f[m].actions[0]);f.splice(m,1);break}}else b.removeOriginalEventListener(a,c,l)},onmousewheel:function(a,c,l){if(e.browser.firefox){var m=function(r){r.wheelDelta=
-40*r.detail;l.call(a,r)};b.addOriginalEventListener(a,"DOMMouseScroll",m);f.push({element:a,eventType:c,handler:l,actions:[m]})}else b.addOriginalEventListener(a,"mousewheel",l)},offmousewheel:function(a,c,l){if(e.browser.firefox)for(var m in f){if(f[m].handler==l&&f[m].element==a&&f[m].eventType==c){b.removeOriginalEventListener(a,"DOMMouseScroll",f[m].actions[0]);f.splice(m,1);break}}else b.removeOriginalEventListener(a,"mousewheel",l)},onmouseenter:function(a,c,l){var m=function(r){var u=r.relatedTarget;
if(u)if(this.compareDocumentPosition){var x=this.compareDocumentPosition(u);u==this||x==20||x==0||l.call(this,r)}else u==this||this.contains(u)||l.call(this,r);else l.call(this,r)};b.addEventListener(a,"mouseover",m);f.push({element:a,eventType:c,handler:l,actions:[m]})},offmouseenter:function(a,c,l){for(var m in f)if(f[m].handler==l&&f[m].element==a&&f[m].eventType==c){b.removeEventListener(a,"mouseover",f[m].actions[0]);f.splice(m,1);break}},onmouseleave:function(a,c,l){var m=function(r){var u=
r.relatedTarget;if(u)if(this.compareDocumentPosition){u=this.compareDocumentPosition(u);u==20||u==0||l.call(this,r)}else this.contains(u)||l.call(this,r);else l.call(this,r)};b.addEventListener(a,"mouseout",m);f.push({element:a,eventType:c,handler:l,actions:[m]})},offmouseleave:function(a,c,l){for(var m in f)if(f[m].handler==l&&f[m].element==a&&f[m].eventType==c){b.removeEventListener(a,"mouseout",f[m].actions[0]);f.splice(m,1);break}},oninput:function(a,c,l){if(e.browser.ie){var m=function(r){if(r.propertyName.toLowerCase()==
"value"){r=i(r,a);l.call(a,r)}};a.attachEvent("onpropertychange",m);f.push({element:a,eventType:c,handler:l,actions:[m]});e.browser.ie==9&&b.addOriginalEventListener(a,"change",l)}else b.addOriginalEventListener(a,"input",l)},offinput:function(a,c,l){if(e.browser.ie){for(var m in f)if(f[m].handler==l&&f[m].element==a&&f[m].eventType==c){a.detachEvent("onpropertychange",f[m].actions[0]);f.splice(m,1);break}e.browser.ie==9&&b.removeOriginalEventListener(a,"change",l)}else b.removeOriginalEventListener(a,
"input",l)}};h=function(a){if(h.done)return a();if(h.timer)h.ready.push(a);else{h.ready=[a];b.on(window,"load",o);h.timer=window.setInterval(o,300)}};o=function(){if(h.done)return true;if(document&&document.getElementsByTagName&&document.getElementById&&document.body){h.done=true;window.clearInterval(h.timer);h.timer=null;for(var a=0;a<h.ready.length;a++)h.ready[a]();h.ready=null;return true}};p=function(){this.subscribers=[]};p.prototype.subscribe=function(a){e.array.some(this.subscribers,function(c){return c===
a})||this.subscribers.push(a);return a};p.prototype.deliver=function(a){e.array.forEach(this.subscribers,function(c){c(a)})};p.prototype.unsubscribe=function(a){this.subscribers=e.array.filter(this.subscribers,function(c){return c!==a});return a};s=function(a,c,l){var m,r;if(l){c="on"+c;if(!a._$events)a._$events={};if(a._$events[c]){if(a._$events[c].length==0)a._$events[c]=[]}else a._$events[c]=[];a=a._$events[c];c=a.length;m=-1;for(r=0;r<c;r++)if(a[r]==l){m=r;break}m===-1&&a.push(l)}else e.out(">>> \u6dfb\u52a0\u7684\u89c2\u5bdf\u8005\u65b9\u6cd5\u4e0d\u5b58\u5728\uff1a"+
a+c+l)};b.addEventListener=k;b.removeEventListener=g;b.addOriginalEventListener=n;b.removeOriginalEventListener=j;b.on=b.addEventListener;b.off=b.removeEventListener;b.onDomReady=h;b.Publish=p;b.addObserver=s;b.addObservers=function(a){var c=a.targetModel;a=a.eventMapping;for(var l in a)s(c,l,a[l])};b.notifyObservers=function(a,c,l){var m;c="on"+c;var r=true;if(a._$events&&a._$events[c]){c=a._$events[c];if(c.length>0)for(m=0;m<c.length;m++)if(c[m].apply(a,[l])===false)r=false}return r};b.removeObserver=
function(a,c,l){var m,r=false,u,x=a._$events;if(l){if(x){c="on"+c;if(a=x[c]){u=a.length;for(m=0;m<u;m++)if(a[m]==l){a[m]=null;a.splice(m,1);r=true;break}}}}else if(c){if(x){c="on"+c;if(a=x[c]){u=a.length;for(m=0;m<u;m++)a[m]=null;delete x[c];r=true}}}else if(a)if(x){for(m in x)delete x[m];delete a._$events;r=true}return r}});
Jx().$package(function(e){e.string=e.string||{};var b=e.string,k,n,g,j,d,f,h,o,p,s;k=function(){function i(z){r="var ";u={};u[m]=1;z=z.split(c);for(var q="",t=0,w=z.length;t<w;t++){var B=z[t].split(l);if(B.length==1)q+=a(B[0]);else{q=q;var G=B[0];if(/^=/.test(G))G=x[1]+G.substring(1).replace(/[\s;]*$/,"")+x[2];var M=G;M=M.replace(/\/\*.*?\*\/|'[^']*'|"[^"]*"|\.[\$\w]+/g,"");M=M.split(/[^\$\w\d]+/);for(var O=0,S=M.length;O<S;O++){var R=M[O];if(!(!R||E[R]||/^\d/.test(R)))if(!u[R]){r+=R==="print"?x[4]:
R+'=$data.hasOwnProperty("'+R+'")?$data.'+R+":window."+R+",";u[R]=1}}q=q+(G+"\n");q+=B[1]?a(B[1]):""}}return new Function("$data",r+x[0]+q+"return "+x[3])}function a(z){z=z.replace(/('|"|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n");z=x[1]+'"'+z+'"'+x[2];return z+"\n"}for(var c="<%",l="%>",m="$return",r="var ",u,x="".trim?[m+' = "";',m+" +=",";",m+";","print=function(){"+m+'+=[].join.call(arguments,"")},']:[m+" = [];",m+".push(",")",m+'.join("");',"print=function(){"+m+".push.apply(arguments)},"],
v="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield".split(","),E={},D=0,K=v.length;D<K;D++)E[v[D]]=1;var H={};return function(z,q){var t=!/\W/.test(z)?
H[z]||(H[z]=i(document.getElementById(z).innerHTML)):i(z);return q?t(q):t}}();n=function(i){return n.RE.test(i)};n.RE=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i;g=function(i){var a=null;if(null!==(a=g.RE.exec(i))){i={};for(var c=0,l=g.SPEC.length;c<l;c++)i[g.SPEC[c]]=a[c+1];a=i}return a};g.SPEC=["scheme","user","pass","host","port","path","query","fragment"];g.RE=/^([^:]+):\/\/(?:([^:@]+):?([^@]*)@)?(?:([^/?#:]+):?(\d*))([^?#]*)(?:\?([^#]+))?(?:#(.+))?$/;j=function(i){return String(i).replace(/^\s+|\s+$/g,
"")};d=function(i,a){return encodeURIComponent(String(i))+"="+encodeURIComponent(String(a))};f=function(i,a){a=a||2;return i.replace(/[^\x00-\xff]/g,{2:"aa",3:"aaa"}[a]).length};h=function(i,a){return i.substring(0,i.length-a)};o=function(i){return i.replace(/[&'"<>\/\\\-\x00-\x09\x0b-\x0c\x1f\x80-\xff]/g,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/ /g,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n/g,"<br />").replace(/\r/g,"<br />")};p=function(i){return escape(i).replace(/\+/g,"%2B")};
s=function(i,a){var c=document.createElement("div");c.style.visibility="hidden";c.style.width="auto";if(a)c.style.fontSize=a+"px";c.style.position="absolute";c.innerHTML=e.string.encodeHtmlSimple(i);document.body.appendChild(c);var l=c.offsetWidth;document.body.removeChild(c);return l};b.cutByWidth=function(i,a,c){for(var l=i.length;l>=0;--l){i=i.substring(0,l);if(s(i,a)<c)return i}return""};b.toString=function(i){return i+""};b.template=k;b.isURL=n;b.parseURL=g;b.buildURL=function(i){for(var a="",
c={},l={},m=0,r=g.SPEC.length;m<r;m++){var u=g.SPEC[m];if(i[u]){switch(u){case "scheme":l[u]="://";break;case "pass":c[u]=":";case "user":c.host="@";break;case "port":c[u]=":";break;case "query":c[u]="?";break;case "fragment":c[u]="#"}if(u in c)a+=c[u];if(u in i)a+=i[u];if(u in l)a+=l[u]}}return a};b.mapQuery=function(i){var a,c;i=i&&i.split("#")[0]||window.location.search;var l=i.indexOf("?"),m=i.substring(l+1).split("&"),r={};if(l===-1)return r;for(i=0;i<m.length;i++)try{l=m[i].indexOf("=");a=m[i].substring(0,
l);c=m[i].substring(l+1);if(!(r[a]=unescape(c)))throw Error("uri has wrong query string when run mapQuery.");}catch(u){}return r};b.test=function(i,a,c){return(typeof a=="string"?RegExp(a,c):a).test(i)};b.contains=function(i,a,c){return c?(c+i+c).indexOf(c+a+c)>-1:i.indexOf(a)>-1};b.trim=j;b.clean=function(i){return j(i.replace(/\s+/g," "))};b.camelCase=function(i){return i.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})};b.hyphenate=function(i){return i.replace(/[A-Z]/g,function(a){return"-"+
a.charAt(0).toLowerCase()})};b.capitalize=function(i){return i.replace(/\b[a-z]/g,function(a){return a.toUpperCase()})};b.escapeRegExp=function(i){return i.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")};b.toInt=function(i,a){return parseInt(i,a||10)};b.toFloat=function(i){return parseFloat(i)};b.toSingleLine=function(i){return String(i).replace(/\r/gi,"").replace(/\n/gi,"")};b.toHtml=function(i){return String(i).replace(/&/gi,"&amp;").replace(/\\/gi,"&#92;").replace(/\'/gi,"&#39;").replace(/\"/gi,"&quot;").replace(/</gi,
"&lt;").replace(/>/gi,"&gt;").replace(/ /gi,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n\r/g,"<br />").replace(/\n/g,"<br />").replace(/\r/g,"<br />")};b.toTitle=function(i){return String(i).replace(/\\/gi,"\\").replace(/\'/gi,"'").replace(/\"/gi,"'")};b.toQueryPair=d;b.toQueryString=function(i){var a=[],c;for(c in i)a.push(d(c,i[c]));return a.join("&")};b.hexToRgb=function(i,a){var c=i.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return c?c.slice(1).hexToRgb(a):null};b.rgbToHex=function(i,a){var c=
i.match(/\d{1,3}/g);return c?c.rgbToHex(a):null};b.stripScripts=function(i,a){var c="",l=i.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(m,r){c+=r+"\n";return""});if(a===true)$exec(c);else $type(a)=="function"&&a(c,l);return l};b.substitute=function(i,a,c){return i.replace(c||/\\?\{([^{}]+)\}/g,function(l,m){if(l.charAt(0)=="\\")return l.slice(1);return a[m]!=undefined?a[m]:""})};b.replaceAll=function(i,a,c,l){return RegExp.prototype.isPrototypeOf(a)?i.replace(a,c):i.replace(RegExp(a,l?"gi":
"g"),c)};b.byteLength=f;b.cutRight=h;b.isNumber=function(i){return i.search(/^\d+$/)!==-1?true:false};b.isEmail=function(i){return i.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)!==-1?true:false};b.cutByBytes=function(i,a){for(var c=i;f(c)>a;)c=h(c,1);return c};b.encodeHtmlSimple=function(i){i=i.replace(/&/g,"&amp;");i=i.replace(/>/g,"&gt;");i=i.replace(/</g,"&lt;");i=i.replace(/"/g,"&quot;");return i=i.replace(/'/g,"&#39;")};b.decodeHtmlSimple=function(i){i=i.replace(/&amp;/g,
"&");i=i.replace(/&gt;/g,">");i=i.replace(/&lt;/g,"<");i=i.replace(/&quot;/g,'"');return i=i.replace(/&#39;/g,"'")};b.decodeHtmlSimple2=function(i){i=i.replace(/&amp;/g,"&");i=i.replace(/&gt;/g,">");i=i.replace(/&lt;/g,"<");i=i.replace(/\\\\"/g,'"');return i=i.replace(/\\\\'/g,"'")};b.encodeHtmlAttributeSimple=function(i){i=i.replace(/&/g,"&amp;");i=i.replace(/>/g,"&gt;");i=i.replace(/</g,"&lt;");i=i.replace(/"/g,"&quot;");i=i.replace(/'/g,"&#39;");i=i.replace(/=/g,"&#61;");return i=i.replace(/`/g,
"&#96;")};b.encodeHtmlAttribute=function(i){return i.replace(/[&'"<>\/\\\-\x00-\x1f\x80-\xff]/g,function(a){return"&#"+a.charCodeAt(0)+";"})};b.encodeHtml=o;b.encodeScript=function(i){i+="";return i.replace(/[\\"']/g,function(a){return"\\"+a}).replace(/%/g,"\\x25").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\x01/g,"\\x01")};b.encodeHrefScript=function(i){return o(p(escScript(i)))};b.encodeRegExp=function(i){return i.replace(/[\\\^\$\*\+\?\{\}\.\(\)\[\]]/g,function(a){return"\\"+a})};b.encodeUrl=
p;b.encodeUriComponent=function(i){i=encodeURIComponent(i);i=i.replace(/~/g,"%7E");i=i.replace(/!/g,"%21");i=i.replace(/\*/g,"%2A");i=i.replace(/\(/g,"%28");i=i.replace(/\)/g,"%29");i=i.replace(/'/g,"%27");i=i.replace(/\?/g,"%3F");return i=i.replace(/;/g,"%3B")};b.vaildTencentUrl=function(i){return/^(https?:\/\/)?[\w\-.]+\.(qq|paipai|soso|taotao)\.com($|\/|\\)/i.test(i)||/^[\w][\w\/\.\-_%]+$/i.test(i)||/^[\/\\][^\/\\]/i.test(i)?true:false};b.vaildUrl=function(i){i=encodeURI(i).replace(/(^\s*)|(\s*$)/g,
"");var a=/(^[a-zA-Z0-9]+[^.]):/,c=/^[\S.]+\.[\S.]+$/,l=/[\w.]+\/(\S*)/,m=/^[\s*]*javascript[\s*]*:/;if(!a.test(i)&&!c.test(i))i="";else{a.test(i)||(i="http://"+i);l.test(i)||(i+="/");if(m.test(i))i=""}return i};b.getCharWidth=s});
Jx().$package(function(e){var b=e.dom.id,k=e.dom,n=e.event,g=e.string,j=this,d=e.string.mapQuery(window.location.search),f=window.open;window.open=function(o,p,s,i){if(p==undefined)p="_blank";if(s==undefined)s="";if(i==undefined)i=false;if(!f(o,p,s,i)){e.out("\u4f60\u7684\u673a\u5668\u4e0a\u6709\u8f6f\u4ef6\u62e6\u622a\u4e86\u5f39\u51fa\u7a97\u53e3");return false}return true};var h=new e.Class({_defaultType:3,_defaultTag:"information",_defaultTemplate:"<%=msg%>(<%=type%>#<%=tag%>@<%=time%>)",TYPE:["PROFILE",
"WARNING","ERROR","INFO","DEBUG"],init:function(o){this.msg=o.msg||"";this.tag=o.tag||this._defaultTag;this.type=e.isUndefined(o.type)?this._defaultType:o.type;this.time=(new Date).valueOf();this._template=o.template||this._defaultTemplate},format:function(o,p,s){s=s||this._template;return p?g.encodeHtml(g.template(s,o)):g.template(s,o)},parseOption:function(){return{msg:this.msg,time:this.time,type:this.TYPE[this.type],tag:this.tag}},toString:function(o,p){return this.format(this.parseOption(),o,
p||this._template)}});e.config={debugLevel:1};e.console={};e.Report={receive:e.emptyFunc,addRule:e.emptyFunc};e.extend(e.console,{_isCreated:false,_maxLength:1E3,_html:'<div id="ConsoleBoxHead" class="consoleBoxHead">                        <a href="###" id="ConsoleCloseButton" class="consoleCloseButton" title="\u5173\u95ed">X</a>                        <a href="###" id="ConsoleClearButton" class="consoleCloseButton" title="\u6e05\u9664\u6240\u6709\u65e5\u5fd7">C</a>                        <a href="###" id="ConsoleRefreshButton" class="consoleCloseButton" title="\u8fd8\u539f\u6240\u6709\u65e5\u5fd7">R</a>                        <a href="###" id="ConsoleHelpButton" class="consoleCloseButton" title="\u63a7\u5236\u53f0\u5e2e\u52a9">H</a>                        <h5 class="title" title="\u63a7\u5236\u53f0">Console</h5>                    </div>                    <div id="consoleMain" class="consoleMain">                        <ul id="ConsoleOutput" class="consoleOutput"></ul>                    </div>                    <div class="consoleInputBox">                        &gt;<input id="ConsoleInput" class="consoleInput" title="\u8bf7\u8f93\u5165\u63a7\u5236\u53f0\u6307\u4ee4\u6216\u8005Javascript\u8bed\u53e5..." />                    </div>',
_cssText:'                        html{                            _background:url(about:blank);                        }                                                .consoleBox{                            display:none;                            position:fixed;                            _position: absolute;                            _top:expression(documentElement.scrollTop+documentElement.clientHeight-this.offsetHeight);                            _left:expression(documentElement.scrollLeft+documentElement.clientWidth-this.offsetWidth-200);                            right: 200px;                            bottom: 30px;                            z-index: 10000000;                            border: 2px solid #bbb;                            padding: 5px;                            width: 300px;                            height:310px;                            background: #000;                            box-shadow: 1px 1px 20px rgba(0, 0, 0, 0.75);                            filter: Alpha(opacity:75);                            font-family: "Courier New", Consolas, "LucidaConsole", Monaco, monospace;                            font-size: 12px;                            color: #fff;                        }                                                html.webkit .consoleBox{                            background: rgba(0,0,0,0.75);                        }                                                .consoleBoxHead{                            height:20px;                            background: rgba(255,255,255,0.15);                            overflow:hidden;                            cursor:default;                            padding: 2px;                        }                                                .consoleBoxHead .title{                            margin:0;                            padding: 0 0 0 3px;                            height:20px;                            line-height:20px;                            font-family: Verdana;                        }                                                .consoleBoxHead .consoleCloseButton{                            float:right;                            border:0px solid #000;                            width:20px;                            height:18px;                            line-height:16px;                            background: white;                            margin:1px 1px;                            padding:0px;                            color:#666;                            font-family: Verdana;                            font-weight:bold;                            cursor:pointer;                            border-radius:3px;                            -moz-border-radius:3px;                            -webkit-border-radius:3px;                            text-align:center;                            text-decoration:none;                        }                                                .consoleBoxHead .consoleCloseButton:hover{                            background: orange;                            color:white;                            text-decoration:none;                        }                                                #ConsoleCloseButton:hover{                            background: red;                        }                                                #ConsoleClearButton:hover{                            background: blue;                        }                                                #ConsoleRefreshButton:hover{                            background: green;                        }                                                .consoleMain{                            position:relative;                            top:2px;                            bottom:0px;                            width:100%;                            height:255px;                            overflow:auto;                        }                        html.mobileSafari .consoleMain{                            overflow:hidden;                        }                                                ul.consoleOutput{                            display:block;                            margin:0;                            padding:0;                            width:100%;                            list-style:none;                        }                                                ul.consoleOutput li{                            list-style:none;                            padding:3px;                            border-bottom:1px solid #333333;                            word-break: break-all;                            word-wrap: break-word;                            overflow: hidden;                            zoom: 1;                        }                                                .consoleOutput .log_icon{                            width:13px;                            height:13px;                            background:#fff;                            overflow:hidden;                            float:left;                            margin-top:2px;                            font-weight:bold;                            text-align:center;                            font-size:12px;                            color:#8B8B8B;                            line-height:135%;                            cursor:default;                            border-radius:3px;                            -moz-border-radius:3px;                            -webkit-border-radius:3px;                        }                                                .consoleOutput .log_text{                            margin: 0px 0px 0px 20px;                            line-height:150%;                            zoom: 1;                        }                                                .log_error_type{}                                                .log_error_type .log_icon{                            background:#FF0000;                            color:#660000;                        }                                                .log_error_type .log_text{                            color:#FF0000;                        }                                                .log_warning_type{}                                                .log_warning_type .log_icon{                            background:#FFFF00;                            color:#8C7E00;                        }                                                .log_warning_type .log_text{                            color:#FFFF00;                        }                                                .log_debug_type{}                                                .log_debug_type .log_icon{                            background:#33CC00;                            color:#006600;                        }                                                .log_debug_type .log_text{                            color:#33cc00;                        }                                                .log_info_type{}                                                .log_info_type .log_icon{                            background:#0066FF;                            color:#000066                        }                                                .log_info_type .log_text{                            color:#fff;                        }                                                .log_profile_type{}                                                .log_profile_type .log_icon{                        }                                                .log_profile_type .log_text{                            color:white;                        }                                                #JxConsole .consoleInputBox{                            font-family: Verdana;                            font-size:12px;                            margin:5px 0;                            padding:2px 0;                            border-top:1px solid #aaa;                            width:100%;                            color:#CCFF00;                        }                                                #JxConsole  input.consoleInput{                            border:0px solid #666;                            background:transparent;                            color:#CCFF00;                            font-family: "Courier New", Consolas, "LucidaConsole", Monaco, monospace;                            font-size:12px;                            width:285px;                            height:25px;                            margin-left:3px;                            outline:none;                        }                         ',
_opened:false,_log_record:[],_cmd_history:[],_cmd_last_index:0,isCustomConsole:true,_templateArr:["<%=msg%>","<%=msg%>(<%=type%>#<%=tag%>@<%=time%>)"],_templateType:0,_typeInfo:[["log_profile_type","\u2514"],["log_warning_type","!"],["log_error_type","x"],["log_info_type","i"],["log_debug_type","\u221a"]],TYPE:{PROFILE:0,WARNING:1,ERROR:2,INFO:3,DEBUG:4},show:function(){this._isCreated||this._create();this._opened=true;this._main.style.display="block";this.render();window.setTimeout(e.bind(this.focusCommandLine,
this),0)},hide:function(o){o&&o.preventDefault();this.clear();e.console._main.style.display="none";e.console._opened=false},enable:function(){e.option.console=true;this.show()},disable:function(){e.option.console=false;this.hide()},_init:function(){n.on(document,"keydown",e.bind(this.handleDocumentKeydown,this));e.option.console&&this.show();this.setToDebug()},_create:function(){k.createStyleNode(this._cssText);this._main=document.createElement("div");this._main.id="JxConsole";this._main.style.display=
"none";this._main.className="consoleBox";this._main.innerHTML=this._html;window.document.body.appendChild(this._main);var o=k.getClientWidth(),p=k.getClientHeight();o=o-210-300;k.setStyle(this._main,"top",p-50-310+"px");k.setStyle(this._main,"left",o+"px");this._headEl=b("ConsoleBoxHead");this._inputEl=b("ConsoleInput");this._closeButtonEl=b("ConsoleCloseButton");this._clsButtonEl=b("ConsoleClearButton");this._refreshButtonEl=b("ConsoleRefreshButton");this._helpButtonEl=b("ConsoleHelpButton");this._outputEl=
b("ConsoleOutput");this._consoleMainEl=b("consoleMain");e.ui&&e.ui.Drag&&new e.ui.Drag(this._headEl,this._main);n.on(this._inputEl,"keyup",e.bind(this.onInputKeyup,this));n.on(this._clsButtonEl,"click",e.bind(this.clear,this));n.on(this._refreshButtonEl,"click",e.bind(this.refresh,this));n.on(this._helpButtonEl,"click",e.bind(this.help,this));n.on(this._closeButtonEl,"click",e.bind(this.hide,this));p={hScrollbar:true,vScrollbar:true,checkDOMChanges:false,desktopCompatibility:true};if(e.browser.mobileSafari)if(e.ui&&
e.ui.iScroll&&!this.consoleScroller){this.consoleScroller=new e.ui.iScroll(this._outputEl,p);e.debug("!!!!2","console")}this._isCreated=true},handleDocumentKeydown:function(o){switch(o.keyCode){case 192:if(o.ctrlKey&&o.shiftKey){this.toggleShow();o.preventDefault()}}},focusCommandLine:function(){this._inputEl.focus()},toggleShow:function(){this._opened?this.hide():this.show()},outConsoleShow:function(o,p){this.outConsole(o,p);!this._opened&&e.option.console&&this.show()},outConsole:function(o){if(this._opened){var p=
document.createElement("li");this._outputEl.appendChild(p);var s=e.console._typeInfo[o.type]||e.console._typeInfo[0],i=this._templateArr[this._templateType];p.className=s[0];p.innerHTML='<div class="log_icon" title="'+s[0]+'">'+s[1]+'</div><div class="log_text">'+o.toString(true,i)+"</div>";this.consoleScroller&&this.consoleScroller.refresh();this._consoleMainEl.scrollTop=this._consoleMainEl.scrollHeight}},print:function(o){var p=document.createElement("li");this._outputEl.appendChild(p);p.innerHTML=
o;this._consoleMainEl.scrollTop=this._consoleMainEl.scrollHeight},out:function(o,p,s){var i=this._templateArr[this._templateType];o=new h({msg:o,tag:p,type:s});this.logRecord(o);if(d&&d.consolefilter){if(o.tag==d.consolefilter)this.isCustomConsole?this.outConsole(o):j.console.log(o.toString(false,i))}else this.isCustomConsole?this.outConsole(o):j.console.log(o.toString(false,i))},profile:function(o,p){p=p||"system";this.out(o,p,0)},warn:function(o,p){this.out(o,p,1)},error:function(o,p){this.out(o,
p,2)},info:function(o,p){this.out(o,p,3)},debug:function(o,p){this.out(o,p,4)},setToDebug:function(){this.isCustomConsole=d.console&&d.console=="firebug"?false:true},setToNoDebug:function(){this.out=e.emptyFunc},logRecord:function(o){this._log_record.push(o);d.console||this._log_record.length>this._maxLength&&this._log_record.shift()},setTemplate:function(o){if(this._templateArr[o])this._templateType=o},filter:function(o){var p=RegExp(o,"i"),s=[];e.array.forEach(this._log_record,function(i){var a=
i.toString(true);p.test(a)&&s.push(i)});return s},filterByType:function(o,p){var s=[];o=o||[];e.array.forEach(o,function(i){var a=false;e.array.forEach(p,function(c){if(i.type==c)a=true});a&&s.push(i)});return s},filterByTag:function(o,p){var s=[];o=o||[];e.array.forEach(o,function(i){var a=false;e.array.forEach(p,function(c){if(i.tag==c)a=true});a&&s.push(i)});return s},filterByMsg:function(o,p){var s=[];o=o||[];e.array.forEach(o,function(i){var a=false;e.array.forEach(p,function(c){if(i.msg.indexOf(c)>
-1)a=true});a&&s.push(i)});return s},getReport:function(o,p,s){var i=[],a=this._log_record,c=this;if(!o||o=="")o=false;else e.isArray(o)||(o=[o]);if(!p||p=="")p=false;else e.isArray(p)||(p=[p]);if(!s||s=="")s=false;else e.isArray(s)||(s=[s]);if(o)a=this.filterByType(a,o);if(p)a=this.filterByTag(a,p);if(s)a=this.filterByMsg(a,s);e.array.forEach(a,function(l){i.push(l.toString(false,c._templateArr[1]))});return i.join(",")},render:function(o,p){o=o||this._log_record;p||(o=o.slice(-15));var s=this;s.clear();
e.array.forEach(o,function(i){s.outConsole(i)})},clear:function(o){o&&o.preventDefault();e.console._outputEl.innerHTML=""},refresh:function(o){o&&o.preventDefault();this.clear();this.render()},help:function(o){o&&o.preventDefault();this.print("&lt;&lt; Console Help &gt;&gt;<br/>                                help|h  : \u63a7\u5236\u53f0\u5e2e\u52a9<br/>                                clear|cls : \u6e05\u7a7a\u63a7\u5236\u53f0\u8f93\u51fa<br/>                                refresh|r : \u5237\u65b0\u63a7\u5236\u53f0\u8f93\u51fa<br/>                                filter|f : \u8fc7\u6ee4\u63a7\u5236\u53f0\u8f93\u51fa<br/>                                setTemplate|s : \u8bbe\u7f6e\u8f93\u51fa\u6a21\u7248\u7c7b\u578b<br/>                                hide  : \u9690\u85cf\u63a7\u5236\u53f0\uff0c\u6216\u8005\u4f7f\u7528 Ctrl+Shift+`[~] \u5feb\u6377\u952e")},
onInputKeyup:function(o){switch(o.keyCode){case 13:this._cmd_history.push(e.console._inputEl.value);this._cmd_last_index=this._cmd_history.length;this._execCommand(e.console._inputEl.value);break;case 38:if(this._cmd_history.length==0)break;o="";if(this._cmd_last_index>0){this._cmd_last_index--;o=this._cmd_history[this._cmd_last_index]}else this._cmd_last_index=-1;e.console._inputEl.value=o;break;case 40:if(this._cmd_history.length==0)break;o="";if(this._cmd_last_index<this._cmd_history.length-1){this._cmd_last_index++;
o=this._cmd_history[this._cmd_last_index]}else this._cmd_last_index=this._cmd_history.length;e.console._inputEl.value=o}},_execCommand:function(o){if(o=="help"||o=="h")this.help();else if(o=="clear"||o=="cls")e.console.clear();else if(o=="hide")e.console.hide();else if(o=="refresh"||o=="r")this.refresh();else if(o=="showall"||o=="sa"){this.clear();this.render(null,true)}else if(RegExp(/^(?:filter|f)(?:\(|\s+)(.+)(?:\)|\s*)$/i).test(o)){o=eval("this.filter('"+RegExp.$1+"')");if(o.length>0)this.render(o,
true);else{this.clear();this.out("NO RESULT!",1)}}else if(RegExp(/^(?:setTemplate|s)(?:\(|\s+)(\d+)(?:\)|\s*)$/i).test(o)){this.setTemplate(parseInt(RegExp.$1));this.refresh()}else this._execScript(o);e.console._inputEl.value=""},_execScript:function(o){var p='<span style="color:#ccff00">'+o+"</span><br/>";try{p+=(eval(o)||"").toString().replace(/</g,"&lt;").replace(/>/g,"&gt;");e.console.print(p,0)}catch(s){p+=s.description;e.console.print(p,1)}}});e.profile=e.console.profile;e.warn=e.console.warn;
e.error=e.console.error;e.info=e.console.info;e.log=e.console.log=e.console.info;e.debug=e.console.debug;n.onDomReady(function(){e.console._init();if(d.console=="true"){e.console=e.extend(e.console,{profile:e.emptyFunc,warn:e.emptyFunc,error:e.emptyFunc,info:e.emptyFunc,debug:e.emptyFunc});e.console.show()}});e.runtime=function(){function o(){return e.config.debugLevel>0}function p(i,a){var c;if(o())c=i+"\n=STACK=\n"+s();else if(a=="error")c=i;e.Debug.errorLogs.push(c)}function s(i,a){function c(r,
u){if(r.stack)return r.stack;else if(r.message.indexOf("\nBacktrace:\n")>=0){var x=0;return r.message.split("\nBacktrace:\n")[1].replace(/\s*\n\s*/g,function(){x++;return x%2==0?"\n":" @ "})}else{for(var v=u.callee==s?u.callee.caller:u.callee,E=v.arguments,D=[],K=0,H=E.length;K<H;K++)D.push(typeof E[K]=="undefined"?"<u>":E[K]===null?"<n>":E[K]);E=/function\s+([^\s\(]+)\(/;return((E.test(v.toString())?E.exec(v.toString())[1]:"<ANON>")+"("+D.join()+");").replace(/\n/g,"")}}var l;if(i instanceof Error&&
typeof arguments=="object"&&arguments.callee)l=c(i,a);else try{({}).sds()}catch(m){l=c(m,arguments)}return l.replace(/\n/g," <= ")}return{stack:s,warn:function(){p(write.apply(null,arguments),"warn")},error:function(){p(write.apply(null,arguments),"error")},isDebugMode:o}}()});
Jx().$package(function(e){var b=window.location.host;e.cookie={set:function(k,n,g,j,d){if(d){var f=new Date;f.setTime((new Date).getTime()+36E5*d)}window.document.cookie=k+"="+n+"; "+(d?"expires="+f.toGMTString()+"; ":"")+(j?"path="+j+"; ":"path=/; ")+(g?"domain="+g+";":"domain="+b+";");return true},get:function(k){k=window.document.cookie.match(RegExp("(?:^|;+|\\s+)"+k+"=([^;]*)"));return!k?"":k[1]},remove:function(k,n,g){window.document.cookie=k+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(g?"path="+
g+"; ":"path=/; ")+(n?"domain="+n+";":"domain="+b+";")}}});Jx().$package(function(e){e.localStorage={setItem:function(b,k){this.isSupports()&&window.localStorage.setItem(b,k)},getItem:function(b){if(this.isSupports())return window.localStorage.getItem(b);return null},removeItem:function(b){this.isSupports()&&window.localStorage.removeItem(b)},clear:function(){this.isSupports()&&window.localStorage.clear()},isSupports:function(){return"localStorage"in window&&window.localStorage!==null}}});
Jx().$package(function(e){e.format=e.format||{};e.format.date=function(b,k){var n={"M+":b.getMonth()+1,"D+":b.getDate(),"h+":b.getHours(),"m+":b.getMinutes(),"s+":b.getSeconds(),"q+":Math.floor((b.getMonth()+3)/3),S:b.getMilliseconds()};if(/(Y+)/.test(k))k=k.replace(RegExp.$1,(b.getFullYear()+"").substr(4-RegExp.$1.length));for(var g in n)if(RegExp("("+g+")").test(k))k=k.replace(RegExp.$1,RegExp.$1.length==1?n[g]:("00"+n[g]).substr((""+n[g]).length));return k};e.format.number=function(b,k){for(var n=
b?b.toString().split("."):["0"],g=k?k.split("."):[""],j="",d=n[0],f=g[0],h=d.length-1,o=false,p=f.length-1;p>=0;p--)switch(f.substr(p,1)){case "":if(h>=0)j=d.substr(h--,1)+j;break;case "0":j=h>=0?d.substr(h--,1)+j:"0"+j;break;case ",":o=true;j=","+j}if(h>=0)if(o)for(f=d.length;h>=0;h--){j=d.substr(h,1)+j;if(h>0&&(f-h)%3==0)j=","+j}else j=d.substr(0,h+1)+j;j+=".";d=n.length>1?n[1]:"";f=g.length>1?g[1]:"";for(p=h=0;p<f.length;p++)switch(f.substr(p,1)){case "":if(h<d.length)j+=d.substr(h++,1);break;
case "0":j+=h<d.length?d.substr(h++,1):"0"}return j.replace(/^,+/,"").replace(/\.$/,"")}});Jx().$package(function(e){e.date=e.date||{};e.date.format=e.format.date});Jx().$package(function(e){if(window.console)for(var b=["profile","warn","error","info","debug"],k=function(d,f){return function(h){d[f](h)}},n=0,g=b.length,j;n<g;n++){j=b[n];e[j]=console[j]?k(console,j=="profile"?"log":j):k(console,"log")}});
Jx().$package(function(e){var b=e.Class({init:function(){var k=this;this.op=[{".":function(n,g){return g.className==n},"+":function(n,g){return g.getAttribute(n)},"#":function(n,g){return g.id==n},".~":function(n,g){return $D.hasClass(g,n)}},{">":function(n,g){var j,d,f;f=n.split(">");d=f[0];f=f[1];if((f=="*"?true:k.match(f,g))&&(j=k.operate(k.detectAncestor,d,g)()))return k.packEvent(g,j);return false}},{"!":function(n,g){n=n.substr(1);return!k.match(n,g)}},{"&&":function(n,g){var j,d;d=n.split("&&");
j=d[0];d=d.slice(1).join("");if(k.match(j,g))return d.indexOf("&&")==-1?k.match(d,g):arguments.callee(d,g);return false}}];this.op2Level=[[".","#","+",".~"],">","!","&&"]},detectAncestor:function(k,n,g){var j=5,d=n.target;return function(){if(g(k,d))return d;else if(j>0){j--;if(d.parentNode)d=d.parentNode;else j=0;return arguments.callee()}return null}},detect:function(k,n,g){var j=n.target;if(j.nodeType!=1){j=j.parentNode;if(g(k,j))return this.packEvent(n,j)}else return g(k,j);return false},packEvent:function(k,
n){return[true,{target:n,oTarget:k.target,stopPropagation:function(){k.stopPropagation()},preventDefault:function(){k.preventDefault()},pageX:k.pageX,pageY:k.pageY}]},operate:function(k,n,g){for(var j,d=3;d>0;){if(j=this.op[0][n.substr(0,d)]){var f=null;if(f=k(n.substr(d),g,j))return f}d--}return false},match:function(k,n){for(var g=this.op2Level.length;g>0;g--){var j=this.op2Level[g];if(k.indexOf(j)!=-1)return this.op[g][j](k,n,void 0)}return this.operate(this.detect,k,n)},router:function(k,n,g){k=
k.split(",");var j;for(g=k.length-1;g>=0;g--)if(j=this.match(k[g],n))return j;return false},parse:function(k,n,g){k=this.router(k,g);if(k.length==2)n(k[1]);else k&&n(g)}});e.event.eventParser=new b});
Jx().$package(function(e){var b=e.event,k={"#":"id",".":"className","@":"el","!":"!"},n={blur:1,focus:1,change:1};e.event.eventProxy=function(g,j){var d={},f,h;for(f in j){h=j[f];var o=f.split(" "),p=o[0];o=o[1];d[o]=d[o]||[];d[o].push([p,h])}f=h=null;for(f in d){h=d[f];if(n[f]||f.charAt(0)=="@")for(o=h.length-1;o>=0;o--){p=h[o][0].split(",");for(var s=p.length-1;s>=0;s--){var i=k[p[s].charAt(0)];if(i=="id")b.on($D.id(p[s].substr(1)),f,h[o][1]);else i=="el"&&b.on(g,f.substr(1),h[o][1])}}else b.on(g,
f,function(a){for(var c=h.length-1;c>=0;c--)e.event.eventParser.parse(h[c][0],h[c][1],a)})}}});
Jx().$package(function(e){e.fx=e.fx||{};var b=e.dom,k=e.event,n=new e.Class({init:function(a,c){c=e.array.toArray(c);return e.extend(a,{easeIn:function(l){return a(l,c)},easeOut:function(l){return 1-a(1-l,c)},easeInOut:function(l){return l<=0.5?a(2*l,c)/2:(2-a(2*(1-l),c))/2}})}}),g={linear:function(a){return a},extend:function(a){for(var c in a)this[c]=new n(a[c])}};g.extend({pow:function(a,c){return Math.pow(a,c&&c[0]||6)},exponential:function(a){return Math.pow(2,8*(a-1))},circular:function(a){return 1-
Math.sin(Math.acos(a))},sinusoidal:function(a){return 1-Math.sin((1-a)*Math.PI/2)},back:function(a,c){c=c&&c[0]||1.618;return Math.pow(a,2)*((c+1)*a-c)},bounce:function(a){for(var c,l=0,m=1;;l+=m,m/=2)if(a>=(7-4*l)/11){c=m*m-Math.pow((11-6*l-11*a)/4,2);break}return c},elastic:function(a,c){return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(c&&c[0]||1)/3)}});e.array.forEach(["quadratic","cubic","quartic","quintic"],function(a,c){g[a]=new n(function(l){return Math.pow(l,[c+2])})});var j=new e.Class({init:function(a){this.setOption(a)},
setOption:function(a){this.option=e.extend({duration:500,loop:1,fps:1E3/(a&&a.duration||500)},a)},start:function(){if(!this.check())return this;var a=this.option;this.time=0;this.loop=a.loop;this.onStart.apply(this,arguments);this.startTimer();return this},pause:function(){this.stopTimer();return this},resume:function(){this.startTimer();return this},end:function(){this.stopTimer()&&this.onEnd.apply(this,arguments);return this},cancel:function(){this.stopTimer()&&this.onCancel.apply(this,arguments);
return this},onStart:function(){k.notifyObservers(this,"start")},onEnd:function(){k.notifyObservers(this,"end")},onCancel:function(){k.notifyObservers(this,"cancel")},onLoop:function(){k.notifyObservers(this,"loop")},onBeater:function(){k.notifyObservers(this,"beater")},check:function(){if(!this.timer)return true;return false},setDuration:function(a){this.option.duration=a||500},update:function(){var a=e.now(),c=this.option;if(a<this.time+this.option.duration)this.onBeater((a-this.time)/c.duration);
else{this.onBeater(1);this.onLoop();if(c.loop<=0||--this.loop)this.time=a;else{this.stopTimer();this.onEnd()}}},stopTimer:function(){if(!this.timer)return false;this.time=e.now()-this.time;this.timer=o(this);return true},startTimer:function(){if(this.timer)return false;this.time=e.now()-this.time;this.timer=h(this);return true}}),d={},f={},h=function(a){var c=a.option.fps,l=d[c]||(d[c]=[]);l.push(a);f[c]||(f[c]=setInterval(function(){for(var m=l.length;m--;)l[m]&&l[m].update()},Math.round(1E3/c)));
return true},o=function(a){var c=a.option.fps,l=d[c]||[];e.array.remove(l,a);if(!l.length&&f[c])f[c]=clearInterval(f[c]);return false},p=new e.Class({extend:j},{init:function(a){p.superClass.init.apply(this,arguments);this.option=this.option||{};a=e.extend(this.option,{element:null,property:"",from:0,to:1,unit:false,transition:g.linear,fps:25,converter:s},a);this.from=a.from;this.to=a.to},getTransition:function(){return this.option.transition||g.sinusoidal.easeInOut},set:function(a){var c=this.option;
this.render(c.element,c.property,a,c.unit);return this},setFromTo:function(a,c){this.from=a;this.to=c},render:function(a,c,l,m){b.setStyle(a,c,this.option.converter(l,m))},compute:function(a,c,l){return(c-a)*l+a},onStart:function(a,c){var l=this.option;this.from=e.isNumber(a)?a:l.from;this.to=e.isNumber(c)?c:l.to;k.notifyObservers(this,"start")},onEnd:function(){this.set(this.compute(this.from,this.to,this.option.transition(1)));k.notifyObservers(this,"end")},onCancel:function(){this.set(this.compute(this.from,
this.to,this.option.transition(0)));k.notifyObservers(this,"cancel")},onBeater:function(a){this.set(this.compute(this.from,this.to,this.option.transition(a)))}}),s=function(a,c){return c?a+c:a},i=new e.Class({init:function(a){this.option=a=e.extend({element:null,property:"",from:0,to:0,unit:false,duration:500,transition:g.linear,fps:25},a);this.from=a.from;this.to=a.to},getTransition:function(){return this.option.transition||g.sinusoidal.easeInOut},update:function(){var a=e.now(),c=this.option;if(a<
this.time+this.option.duration)this.set(this.compute(this.from,this.to,c.transition((a-this.time)/c.duration)));else{this.set(this.compute(this.from,this.to,1));this.end()}},set:function(a){var c=this.option;this.render(c.element,c.property,a,c.unit);return this},setDuration:function(a){this.option.duration=a||500},setFromTo:function(a,c){this.from=a;this.to=c},render:function(a,c,l,m){l=m?l+m:l;b.setStyle(a,c,l)},compute:function(a,c,l){return(c-a)*l+a},check:function(){if(!this.timer)return true;
return false},start:function(a,c){if(!this.check(a,c))return this;var l=this.option;this.from=e.isNumber(a)?a:l.from;this.to=e.isNumber(c)?c:l.to;this.time=0;this.startTimer();this.onStart();return this},end:function(){this.stopTimer()&&this.onEnd();return this},cancel:function(){this.stopTimer()&&this.onCancel();return this},onStart:function(){k.notifyObservers(this,"start")},onEnd:function(){k.notifyObservers(this,"end")},onCancel:function(){k.notifyObservers(this,"cancel")},pause:function(){this.stopTimer();
return this},resume:function(){this.startTimer();return this},stopTimer:function(){if(!this.timer)return false;this.time=e.now()-this.time;this.timer=o(this);return true},startTimer:function(){if(this.timer)return false;this.time=e.now()-this.time;this.timer=h(this);return true}});e.fx.Beater=j;e.fx.Animation=p;e.fx.Animation2=i;e.fx.transitions=g});
Jx().$package(function(e){var b=window.JSON||{};(function(){function k(p){j.lastIndex=0;return j.test(p)?'"'+p.replace(j,function(s){var i=h[s];return typeof i==="string"?i:"\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+p+'"'}function n(p,s){var i,a,c,l,m=d,r,u=s[p];if(u&&typeof u==="object"&&typeof u.toJSON==="function")u=u.toJSON(p);if(typeof o==="function")u=o.call(s,p,u);switch(typeof u){case "string":return k(u);case "number":return isFinite(u)?String(u):"null";case "boolean":case "null":return String(u);
case "object":if(!u)return"null";d+=f;r=[];if(Object.prototype.toString.apply(u)==="[object Array]"){l=u.length;for(i=0;i<l;i+=1)r[i]=n(i,u)||"null";c=r.length===0?"[]":d?"[\n"+d+r.join(",\n"+d)+"\n"+m+"]":"["+r.join(",")+"]";d=m;return c}if(o&&typeof o==="object"){l=o.length;for(i=0;i<l;i+=1){a=o[i];if(typeof a==="string")if(c=n(a,u))r.push(k(a)+(d?": ":":")+c)}}else for(a in u)if(Object.hasOwnProperty.call(u,a))if(c=n(a,u))r.push(k(a)+(d?": ":":")+c);c=r.length===0?"{}":d?"{\n"+d+r.join(",\n"+d)+
"\n"+m+"}":"{"+r.join(",")+"}";d=m;return c}}var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d,f,h={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;if(typeof b.stringify!=="function")b.stringify=function(p,s,i){var a;f=d="";if(typeof i==="number")for(a=0;a<i;a+=1)f+=" ";
else if(typeof i==="string")f=i;if((o=s)&&typeof s!=="function"&&(typeof s!=="object"||typeof s.length!=="number"))throw Error("JSON.stringify");return n("",{"":p})};if(typeof b.parse!=="function")b.parse=function(p,s){function i(c,l){var m,r,u=c[l];if(u&&typeof u==="object")for(m in u)if(Object.hasOwnProperty.call(u,m)){r=i(u,m);if(r!==undefined)u[m]=r;else delete u[m]}return s.call(c,l,u)}var a;g.lastIndex=0;if(g.test(p))p=p.replace(g,function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)});
if(/^[\],:{}\s]*$/.test(p.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){a=eval("("+p+")");return typeof s==="function"?i({"":a},""):a}throw new SyntaxError("JSON.parse");}})();e.json=b});
Jx().$package(function(e){var b=e.dom.id,k=e.dom,n=e.event,g;if(typeof window.XMLHttpRequest==="undefined")window.XMLHttpRequest=function(){return new window.ActiveXObject(navigator.userAgent.indexOf("MSIE 5")>=0?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP")};e.http=e.http||{};g=function(f,h,o){var p,s,i,a,c=document.getElementsByTagName("head")?document.getElementsByTagName("head")[0]:document.documentElement,l,m=false,r=false;o=o||{};var u=o.isDefer||false;s=o.query||null;arguments=o.arguments||null;var x=
o.onSuccess||function(){},v=o.onError||function(){},E=o.onComplete||function(){},D,K=o.onTimeout||function(){},H=o.timeout,z=o.charset?o.charset:"utf-8",q=o.win||window,t;h=h||"";if(s!==null)h=h+"?"+s;a=g.Id++;D=function(w){(w=b("jet_load_"+w))&&c.removeChild(w)};s=function(w,B,G){return k.node("link",{id:"jet_load_"+a,type:"text/css",charset:G||"utf-8",rel:"stylesheet",href:w},B)};i=function(w,B,G,M){w=k.node("script",{id:"jet_load_"+a,type:"text/javascript",charset:G||"utf-8",src:w},B);M&&w.setAttribute("defer",
"defer");return w};if(f==="script")p=o.node||i(h,q,z,u);else if(f==="css")p=o.node||s(h,q,z);if(e.browser.engine.trident&&parseInt(e.browser.ie)<9)p.onreadystatechange=function(){var w=this.readyState;if(w==="loaded"||w==="complete"){p.onreadystatechange=null;if(!m){r=true;window.clearTimeout(l);l=null;t={};t.id=a;t.uri=h;t.arguments=arguments;x(t);E(t)}}};else if(e.browser.engine.webkit)n.on(p,"load",function(){var w;if(!m){r=true;window.clearTimeout(l);l=null;w={};w.id=a;w.uri=h;w.arguments=arguments;
x(w);E(w);f==="script"&&D(a)}});else{p.onload=function(){var w;if(!m){r=true;window.clearTimeout(l);l=null;w={};w.id=a;w.uri=h;w.arguments=o.arguments;x(w);E(w);f==="script"&&D(a)}};p.onerror=function(w){var B;if(!m){r=true;window.clearTimeout(l);l=null;B={};B.id=a;B.uri=h;B.arguments=arguments;B.error=w;v(B);E(B);D(a)}}}if(o.node)if(f==="script")p.src=h;else{if(f==="css")p.href=h}else c.appendChild(p);if(f==="script")if(H)l=window.setTimeout(function(){var w;if(!r){m=true;w={};w.uri=h;w.arguments=
arguments;K(w);E(w);D(a)}},H);u=function(w){this._node=w;this._head=c};u.prototype={abort:function(){this._node.src="";this._head.removeChild(this._node);delete this._node}};return new u(p)};g.Id=0;var j,d={_iframes:[],_tick:0,_select:function(){this._tick++;return this._iframes[(this._tick-1)%this._len]},init:function(f){if(this._isInit!=true){this._len=f;for(var h=document.body,o=0;o<f;o++){j=k.node("div",{"class":"RPCService_hDiv"});k.hide(j);j.innerHTML='<iframe id="RPCService_hIframe_'+o+'" name="RPCService_hIframe_'+
o+'" src="'+alloy.CONST.MAIN_URL+'domain.html"></iframe>';h.appendChild(j);this._iframes[o]=[j,null,"RPCService_hIframe_"+o]}this._isInit=true}},take:function(f){var h=this._select();h[1]&&h[0].removeChild(h[1]);f.setAttribute("target",h[2]);h[1]=f;h[0].appendChild(f)}};e.http.ajax=function(f,h){var o,p,s,i=false,a=false;h={method:(h.method||"GET").toUpperCase(),data:h.data||null,arguments:h.arguments||null,onSuccess:h.onSuccess||function(){},onError:h.onError||function(){},onComplete:h.onComplete||
function(){},onTimeout:h.onTimeout||function(){},isAsync:h.isAsync||true,timeout:h.timeout||3E4,contentType:h.contentType,type:h.type||"xml"};if(h.data&&typeof h.data==="object")h.data=e.string.toQueryString(h.data);f=f||"";s=h.timeout;o=new window.XMLHttpRequest;p=function(c){try{return!c.status&&location.protocol=="file:"||c.status>=200&&c.status<300||c.status==304||navigator.userAgent.indexOf("Safari")>-1&&typeof c.status=="undefined"}catch(l){}return false};o.onreadystatechange=function(){if(o.readyState==
4){if(!i){var c={};c.responseText=o.responseText;c.responseXML=o.responseXML;c.data=h.data;c.status=o.status;c.uri=f;c.arguments=h.arguments;if(h.type==="json")try{c.responseJSON=e.json.parse(o.responseText)}catch(l){}p(o)?h.onSuccess(c):h.onError(c);h.onComplete(c)}a=true;o=null}};if(h.method==="GET"){if(h.data){f+=(f.indexOf("?")>-1?"&":"?")+h.data;h.data=null}o.open("GET",f,h.isAsync);o.setRequestHeader("Content-Type",h.contentType||"text/plain;charset=UTF-8");o.send()}else if(h.method==="POST"){o.open("POST",
f,h.isAsync);o.setRequestHeader("Content-Type",h.contentType||"application/x-www-form-urlencoded;charset=UTF-8");o.send(h.data)}else{o.open(h.method,f,h.isAsync);o.send()}window.setTimeout(function(){var c;if(!a){i=true;c={};c.uri=f;c.arguments=h.arguments;h.onTimeout(c);h.onComplete(c)}},s);return o};e.http.comet=function(f,h){f=f||"";h={method:h.method||"GET",data:h.data||null,arguments:h.arguments||null,callback:h.callback||function(){},onLoad:h.onLoad||function(){},contentType:h.contentType?h.contentType:
"utf-8"};var o;if(e.browser.ie){o=new ActiveXObject("htmlfile");o.open();o.close();var p=o.createElement("div");o.appendChild(p);o.parentWindow._parent=self;p.innerHTML='<iframe id="_cometIframe" src="'+f+"?callback=window.parent._parent."+h.callback+'"></iframe>';o=o.getElementById("_cometIframe")}else{o=k.node("iframe");o.setAttribute("id","_cometIframe");o.setAttribute("src",f+"?callback=window.parent._parent."+h.callback);o.style.position="absolute";o.style.visibility="hidden";o.style.left=o.style.top=
"-999px";o.style.width=o.style.height="1px";document.body.appendChild(o);self._parent=self}n.on(o,"load",h.onLoad);return o};e.http.load=g;e.http.loadCss=function(f,h){return g("css",f,h)};e.http.loadScript=function(f,h){return g("script",f,h)};e.http.formSend=function(f,h){d.init(2);var o={method:h.method||"GET",enctype:h.enctype||"",data:h.data||{},onSuccess:h.onSuccess||function(){},onError:h.onError||function(){},onComplete:h.onComplete||function(){},onTimeout:h.onTimeout||function(){},timeout:h.timeout?
h.timeout:1E4},p=k.node("form",{"class":"RPCService_form",method:o.method,action:f+"?t="+(new Date).getTime(),enctype:o.enctype});if(Object.prototype.toString.call(o.data).indexOf("String")>-1){var s=k.node("input");s.type="text";s.name=o.data;p.appendChild(s)}else for(var i in o.data){s=k.node("input");s.type="text";s.name=i;s.setAttribute("value",o.data[i]);p.appendChild(s)}d.take(p);p.submit()}});
Jx().$package(function(e){var b=function(){function k(s,i){i=i||document;if(!/^[\w\-_#]+$/.test(s)&&i.querySelectorAll)return n(i.querySelectorAll(s));if(s.indexOf(",")>-1){for(var a=s.split(/,/g),c=[],l=0,m=a.length;l<m;++l)c=c.concat(k(a[l],i));return p(c)}a=s.match(j);l=a.pop();c=(l.match(f)||o)[1];m=!c&&(l.match(d)||o)[1];l=!c&&(l.match(h)||o)[1];if(m&&!l&&i.getElementsByClassName)l=n(i.getElementsByClassName(m));else{l=!c&&n(i.getElementsByTagName(l||"*"));if(m){l=l;m=RegExp("(^|\\s)"+m+"(\\s|$)");
for(var r=-1,u,x=-1,v=[];u=l[++r];)if(m.test(u.className))v[++x]=u;l=v}if(c)return(a=i.getElementById(c))?[a]:[]}return a[0]&&l[0]?g(a,l):l}function n(s){try{return Array.prototype.slice.call(s)}catch(i){for(var a=[],c=0,l=s.length;c<l;++c)a[c]=s[c];return a}}function g(s,i,a){var c=s.pop();if(c===">")return g(s,i,true);var l=[],m=-1,r=(c.match(f)||o)[1],u=!r&&(c.match(d)||o)[1];c=!r&&(c.match(h)||o)[1];var x=-1,v,E,D;for(c=c&&c.toLowerCase();v=i[++x];){E=v.parentNode;do{D=(D=(D=!c||c==="*"||c===
E.nodeName.toLowerCase())&&(!r||E.id===r))&&(!u||RegExp("(^|\\s)"+u+"(\\s|$)").test(E.className));if(a||D)break}while(E=E.parentNode);if(D)l[++m]=v}return s[0]&&l[0]?g(s,l):l}var j=/(?:[\w\-\\.#]+)+(?:\[\w+?=([\'"])?(?:\\\1|.)+?\1\])?|\*|>/ig,d=/^(?:[\w\-_]+)?\.([\w\-_]+)/,f=/^(?:[\w\-_]+)?#([\w\-_]+)/,h=/^([\w\*\-_]+)/,o=[null,null],p=function(){var s=+new Date,i=function(){var a=1;return function(c){var l=c[s],m=a++;if(!l){c[s]=m;return true}return false}}();return function(a){for(var c=a.length,
l=[],m=-1,r=0,u;r<c;++r){u=a[r];if(i(u))l[++m]=u}s+=1;return l}}();return k}();e.dom.mini=b});Jx().$package(function(e){e.number=e.number||{};e.number.format=e.format.number});
Jx().$package(function(e){var b=function(){function k(){if(!W){try{var y=z.getElementsByTagName("body")[0].appendChild(z.createElement("span"));y.parentNode.removeChild(y)}catch(A){return}W=true;y=w.length;for(var C=0;C<y;C++)w[C]()}}function n(y){if(W)y();else w[w.length]=y}function g(y){if(typeof H.addEventListener!=v)H.addEventListener("load",y,false);else if(typeof z.addEventListener!=v)z.addEventListener("load",y,false);else if(typeof H.attachEvent!=v)l(H,"onload",y);else if(typeof H.onload==
"function"){var A=H.onload;H.onload=function(){A();y()}}else H.onload=y}function j(){var y=z.getElementsByTagName("body")[0],A=z.createElement(E);A.style.position="absolute";A.style.left="-9999px";A.style.top="-9999px";A.style.width="1px";A.style.height="1px";A.setAttribute("type",D);var C=y.appendChild(A);if(C){var F=0;(function(){if(typeof C.GetVariable!=v){var I=C.GetVariable("$version");if(I){I=I.split(" ")[1].split(",");J.pv=[parseInt(I[0],10),parseInt(I[1],10),parseInt(I[2],10)]}}else if(F<
10){F++;setTimeout(arguments.callee,10);return}y.removeChild(A);C=null;d()})()}else d()}function d(){var y=B.length;if(y>0)for(var A=0;A<y;A++){var C=B[A].id,F=B[A].callbackFn,I={success:false,id:C};if(J.pv[0]>0){var N=c(C);if(N)if(m(B[A].swfVersion)&&!(J.wk&&J.wk<312)){u(C,true);if(F){I.success=true;I.ref=f(C);F(I)}}else if(B[A].expressInstall&&h()){I={};I.data=B[A].expressInstall;I.width=N.getAttribute("width")||"0";I.height=N.getAttribute("height")||"0";if(N.getAttribute("class"))I.styleclass=
N.getAttribute("class");if(N.getAttribute("align"))I.align=N.getAttribute("align");var L={};N=N.getElementsByTagName("param");for(var P=N.length,Q=0;Q<P;Q++)if(N[Q].getAttribute("name").toLowerCase()!="movie")L[N[Q].getAttribute("name")]=N[Q].getAttribute("value");o(I,L,C,F)}else{p(N);F&&F(I)}}else{u(C,true);if(F){if((C=f(C))&&typeof C.SetVariable!=v){I.success=true;I.ref=C}F(I)}}}}function f(y){var A=null;if((y=c(y))&&y.nodeName=="OBJECT")if(typeof y.SetVariable!=v)A=y;else if(y=y.getElementsByTagName(E)[0])A=
y;return A}function h(){return!Y&&m("6.0.65")&&(J.win||J.mac)&&!(J.wk&&J.wk<312)}function o(y,A,C,F){Y=true;R=F||null;ca={success:false,id:C};var I=c(C);if(I){if(I.nodeName=="OBJECT"){O=s(I);S=null}else{O=I;S=C}y.id=K;if(typeof y.width==v||!/%$/.test(y.width)&&parseInt(y.width,10)<310)y.width="310";if(typeof y.height==v||!/%$/.test(y.height)&&parseInt(y.height,10)<137)y.height="137";z.title=z.title.slice(0,47)+" - Flash Player Installation";F=J.ie&&J.win?"ActiveX":"PlugIn";F="MMredirectURL="+H.location.toString().replace(/&/g,
"%26")+"&MMplayerType="+F+"&MMdoctitle="+z.title;if(typeof A.flashvars!=v)A.flashvars+="&"+F;else A.flashvars=F;if(J.ie&&J.win&&I.readyState!=4){F=z.createElement("div");C+="SWFObjectNew";F.setAttribute("id",C);I.parentNode.insertBefore(F,I);I.style.display="none";(function(){I.readyState==4?I.parentNode.removeChild(I):setTimeout(arguments.callee,10)})()}i(y,A,C)}}function p(y){if(J.ie&&J.win&&y.readyState!=4){var A=z.createElement("div");y.parentNode.insertBefore(A,y);A.parentNode.replaceChild(s(y),
A);y.style.display="none";(function(){y.readyState==4?y.parentNode.removeChild(y):setTimeout(arguments.callee,10)})()}else y.parentNode.replaceChild(s(y),y)}function s(y){var A=z.createElement("div");if(J.win&&J.ie)A.innerHTML=y.innerHTML;else if(y=y.getElementsByTagName(E)[0])if(y=y.childNodes)for(var C=y.length,F=0;F<C;F++)!(y[F].nodeType==1&&y[F].nodeName=="PARAM")&&y[F].nodeType!=8&&A.appendChild(y[F].cloneNode(true));return A}function i(y,A,C){var F,I=c(C);if(J.wk&&J.wk<312)return F;if(I){if(typeof y.id==
v)y.id=C;if(J.ie&&J.win){var N="",L;for(L in y)if(y[L]!=Object.prototype[L])if(L.toLowerCase()=="data")A.movie=y[L];else if(L.toLowerCase()=="styleclass")N+=' class="'+y[L]+'"';else if(L.toLowerCase()!="classid")N+=" "+L+'="'+y[L]+'"';L="";for(var P in A)if(A[P]!=Object.prototype[P])L+='<param name="'+P+'" value="'+A[P]+'" />';I.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+N+">"+L+"</object>";G[G.length]=y.id;F=c(y.id)}else{P=z.createElement(E);P.setAttribute("type",D);
for(var Q in y)if(y[Q]!=Object.prototype[Q])if(Q.toLowerCase()=="styleclass")P.setAttribute("class",y[Q]);else Q.toLowerCase()!="classid"&&P.setAttribute(Q,y[Q]);for(N in A)if(A[N]!=Object.prototype[N]&&N.toLowerCase()!="movie"){y=P;L=N;Q=A[N];C=z.createElement("param");C.setAttribute("name",L);C.setAttribute("value",Q);y.appendChild(C)}I.parentNode.replaceChild(P,I);F=P}}return F}function a(y){var A=c(y);if(A&&A.nodeName=="OBJECT")if(J.ie&&J.win){A.style.display="none";(function(){if(A.readyState==
4){var C=c(y);if(C){for(var F in C)if(typeof C[F]=="function")C[F]=null;C.parentNode.removeChild(C)}}else setTimeout(arguments.callee,10)})()}else A.parentNode.removeChild(A)}function c(y){var A=null;try{A=z.getElementById(y)}catch(C){}return A}function l(y,A,C){y.attachEvent(A,C);M[M.length]=[y,A,C]}function m(y){var A=J.pv;y=y.split(".");y[0]=parseInt(y[0],10);y[1]=parseInt(y[1],10)||0;y[2]=parseInt(y[2],10)||0;return A[0]>y[0]||A[0]==y[0]&&A[1]>y[1]||A[0]==y[0]&&A[1]==y[1]&&A[2]>=y[2]?true:false}
function r(y,A,C,F){if(!(J.ie&&J.mac)){var I=z.getElementsByTagName("head")[0];if(I){C=C&&typeof C=="string"?C:"screen";if(F)ba=T=null;if(!T||ba!=C){F=z.createElement("style");F.setAttribute("type","text/css");F.setAttribute("media",C);T=I.appendChild(F);if(J.ie&&J.win&&typeof z.styleSheets!=v&&z.styleSheets.length>0)T=z.styleSheets[z.styleSheets.length-1];ba=C}if(J.ie&&J.win)T&&typeof T.addRule==E&&T.addRule(y,A);else T&&typeof z.createTextNode!=v&&T.appendChild(z.createTextNode(y+" {"+A+"}"))}}}
function u(y,A){if(da){var C=A?"visible":"hidden";if(W&&c(y))c(y).style.visibility=C;else r("#"+y,"visibility:"+C)}}function x(y){return/[\\\"<>\.;]/.exec(y)!=null&&typeof encodeURIComponent!=v?encodeURIComponent(y):y}var v="undefined",E="object",D="application/x-shockwave-flash",K="SWFObjectExprInst",H=window,z=document,q=navigator,t=false,w=[function(){t?j():d()}],B=[],G=[],M=[],O,S,R,ca,W=false,Y=false,T,ba,da=true,J=function(){var y=typeof z.getElementById!=v&&typeof z.getElementsByTagName!=v&&
typeof z.createElement!=v,A=q.userAgent.toLowerCase(),C=q.platform.toLowerCase(),F=C?/win/.test(C):/win/.test(A);C=C?/mac/.test(C):/mac/.test(A);A=/webkit/.test(A)?parseFloat(A.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;var I=!+"\u000b1",N=[0,0,0],L=null;if(typeof q.plugins!=v&&typeof q.plugins["Shockwave Flash"]==E){if((L=q.plugins["Shockwave Flash"].description)&&!(typeof q.mimeTypes!=v&&q.mimeTypes[D]&&!q.mimeTypes[D].enabledPlugin)){t=true;I=false;L=L.replace(/^.*\s+(\S+\s+\S+$)/,"$1");
N[0]=parseInt(L.replace(/^(.*)\..*$/,"$1"),10);N[1]=parseInt(L.replace(/^.*\.(.*)\s.*$/,"$1"),10);N[2]=/[a-zA-Z]/.test(L)?parseInt(L.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else if(typeof H.ActiveXObject!=v)try{var P=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(P)if(L=P.GetVariable("$version")){I=true;L=L.split(" ")[1].split(",");N=[parseInt(L[0],10),parseInt(L[1],10),parseInt(L[2],10)]}}catch(Q){}return{w3:y,pv:N,wk:A,ie:I,win:F,mac:C}}();(function(){if(J.w3){if(typeof z.readyState!=v&&
z.readyState=="complete"||typeof z.readyState==v&&(z.getElementsByTagName("body")[0]||z.body))k();if(!W){typeof z.addEventListener!=v&&z.addEventListener("DOMContentLoaded",k,false);if(J.ie&&J.win){z.attachEvent("onreadystatechange",function(){if(z.readyState=="complete"){z.detachEvent("onreadystatechange",arguments.callee);k()}});H==top&&function(){if(!W){try{z.documentElement.doScroll("left")}catch(y){setTimeout(arguments.callee,0);return}k()}}()}J.wk&&function(){W||(/loaded|complete/.test(z.readyState)?
k():setTimeout(arguments.callee,0))}();g(k)}}})();(function(){J.ie&&J.win&&window.attachEvent("onunload",function(){for(var y=M.length,A=0;A<y;A++)M[A][0].detachEvent(M[A][1],M[A][2]);y=G.length;for(A=0;A<y;A++)a(G[A]);for(var C in J)J[C]=null;J=null;for(var F in b)b[F]=null;b=null})})();return{registerObject:function(y,A,C,F){if(J.w3&&y&&A){var I={};I.id=y;I.swfVersion=A;I.expressInstall=C;I.callbackFn=F;B[B.length]=I;u(y,false)}else F&&F({success:false,id:y})},getObjectById:function(y){if(J.w3)return f(y)},
embedSWF:function(y,A,C,F,I,N,L,P,Q,X){var Z={success:false,id:A};if(J.w3&&!(J.wk&&J.wk<312)&&y&&A&&C&&F&&I){u(A,false);n(function(){C+="";F+="";var V={};if(Q&&typeof Q===E)for(var U in Q)V[U]=Q[U];V.data=y;V.width=C;V.height=F;U={};if(P&&typeof P===E)for(var $ in P)U[$]=P[$];if(L&&typeof L===E)for(var aa in L)if(typeof U.flashvars!=v)U.flashvars+="&"+aa+"="+L[aa];else U.flashvars=aa+"="+L[aa];if(m(I)){$=i(V,U,A);V.id==A&&u(A,true);Z.success=true;Z.ref=$}else if(N&&h()){V.data=N;o(V,U,A,X);return}else u(A,
true);X&&X(Z)})}else X&&X(Z)},switchOffAutoHideShow:function(){da=false},ua:J,getFlashPlayerVersion:function(){return{major:J.pv[0],minor:J.pv[1],release:J.pv[2]}},hasFlashPlayerVersion:m,createSWF:function(y,A,C){if(J.w3)return i(y,A,C)},showExpressInstall:function(y,A,C,F){J.w3&&h()&&o(y,A,C,F)},removeSWF:function(y){J.w3&&a(y)},createCSS:function(y,A,C,F){J.w3&&r(y,A,C,F)},addDomLoadEvent:n,addLoadEvent:g,getQueryParamValue:function(y){var A=z.location.search||z.location.hash;if(A){if(/\?/.test(A))A=
A.split("?")[1];if(y==null)return x(A);A=A.split("&");for(var C=0;C<A.length;C++)if(A[C].substring(0,A[C].indexOf("="))==y)return x(A[C].substring(A[C].indexOf("=")+1))}return""},expressInstallCallback:function(){if(Y){var y=c(K);if(y&&O){y.parentNode.replaceChild(O,y);if(S){u(S,true);if(J.ie&&J.win)O.style.display="block"}R&&R(ca)}Y=false}}}}();e.swfobject=b;(function(){var k=navigator.appVersion.indexOf("MSIE")!=-1?true:false,n=navigator.appVersion.toLowerCase().indexOf("win")!=-1?true:false,g=
navigator.userAgent.indexOf("Opera")!=-1?true:false;e.GetSwfVer=function(){var j=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){j=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" ");var d=j[2].split("."),f=d[0];d=d[1];var h=j[3];if(h=="")h=j[4];if(h[0]=="d")h=h.substring(1);else if(h[0]=="r"){h=h.substring(1);if(h.indexOf("d")>0)h=h.substring(0,
h.indexOf("d"))}j=f+"."+d+"."+h}}else if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1)j=4;else if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1)j=3;else if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1)j=2;else if(k&&n&&!g){try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");f=d.GetVariable("$version")}catch(o){}if(!f)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f="WIN 6,0,21,0";d.AllowScriptAccess="always";f=d.GetVariable("$version")}catch(p){}if(!f)try{d=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");f=d.GetVariable("$version")}catch(s){}if(!f)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");f="WIN 3,0,18,0"}catch(i){}if(!f)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");f="WIN 2,0,0,11"}catch(a){f=-1}j=f}return j}})()});
Jx().$package(function(e){var b=e.dom,k=e.event,n=e.browser,g,j,d,f,h,o,p,s;e.sound=e.sound||{};o={_volume:100,_boolMute:false,_url:"",_id:-1,init:function(){throw"init does not implement a required interface";},load:function(){throw"load does not implement a required interface";},getVolume:function(){return this._volume},setVolume:function(i){if(!isNaN(i)&&i>=0&&i<=100){this._volume=i;this._correctVolume();return true}return false},_correctVolume:function(){this._setDirectVolume(this._volume*e.sound.Global._volume*
!this._boolMute*!e.sound.Global._boolMute/100)},_setDirectVolume:function(){throw"_setDirectVolume does not implement a required interface";},mute:function(){if(!this._boolMute){this._boolMute=true;this._correntVolume()}},unMute:function(){if(this._boolMute){this._boolMute=false;this._correntVolume()}},isMute:function(){return this._boolMute},play:function(){throw"play does not implement a required interface";},pause:function(){throw"pause does not implement a required interface";},stop:function(){throw"stop does not implement a required interface";
},getDuration:function(){throw"getDuration does not implement a required interface";},getPosition:function(){throw"getPosition does not implement a required interface";},setPosition:function(){throw"setPosition does not implement a required interface";},free:function(){throw"free does not implement a required interface";}};j={init:function(i,a,c){var l=this;a=a||false;this._needEventSupport=!!c;this._url=i;this._id=f.length;if(a){a=new Audio;a.id="audioSoundObject_"+this._id;this._onloadCallback=
function(){l.play();l._obj.removeEventListener("canplay",l._onloadCallback,false);l._onloadCallback=null};a.addEventListener("canplay",this._onloadCallback,false);b.id("sound_object_container").appendChild(a);this._obj=a;this.load.call(this,i)}f.push(this)},load:function(i){var a=this;if(i)this._url=i;else if(!this._url)return;if(!this._obj){i=new Audio;i.id="audioSoundObject_"+this._id;if(this._needEventSupport){i.addEventListener("durationchange",function(){k.notifyObservers(a,"durationchange")},
false);i.addEventListener("timeupdate",function(){k.notifyObservers(a,"timeupdate")},false);i.addEventListener("canplay",function(){k.notifyObservers(a,"canplay")},false);i.addEventListener("ended",function(){k.notifyObservers(a,"ended")},false);i.addEventListener("play",function(){k.notifyObservers(a,"play")},false);i.addEventListener("pause",function(){k.notifyObservers(a,"pause")},false);i.addEventListener("progress",function(){k.notifyObservers(a,"progress")},false);i.addEventListener("error",
function(){k.notifyObservers(a,"error")},false)}b.id("sound_object_container").appendChild(i);this._obj=i}this._obj.src=this._url;n.mobileSafari&&this._obj.load()},_setDirectVolume:function(i){if(this._obj)this._obj.volume=i/100},play:function(){this._obj&&this._obj.play()},pause:function(){if(this._obj){if(this._onloadCallback){this._obj.removeEventListener("canplay",this._onloadCallback,false);this._onloadCallback=null}this._obj.pause()}},stop:function(){if(this._obj){this._obj.pause();this.setPosition(0)}},
getDuration:function(){if(!this._obj)return 0;return this._obj.duration},getPosition:function(){if(!this._obj)return 0;return this._obj.currentTime},setPosition:function(i){if(!this._obj)return false;var a=this._obj;try{if(i>=0&&i<a.duration){a.currentTime=parseFloat(i);return true}else return false}catch(c){return false}},buffered:function(){if(!this._obj)return 0;var i=this._obj;if(!i.buffered.length)return 0;return i.buffered.end(0)},free:function(){if(this._obj){var i=this._obj;i.pause();b.id("sound_object_container").removeChild(i);
this._obj=null}f[this._id]=null}};d={init:function(i,a,c){a=a||false;this._needEventSupport=!!c;this._url=i;this._id=f.length;if(a)if(h)this._obj=h;else{a=new Audio;a.id="audioSoundObject_"+this._id;b.id("sound_object_container").appendChild(a);h=this._obj=a;this.load.call(this,i)}f.push(this)},load:function(i){var a=this;if(i)this._url=i;else if(!this._url)return;if(!this._obj)if(h)this._obj=h;else{var c=new Audio;c.id="audioSoundObject_"+this._id;b.id("sound_object_container").appendChild(c);h=
this._obj=c}if(this._needEventSupport&&!this._hashEventSupport){c=this._obj;this._hashEventSupport=true;c.addEventListener("durationchange",function(){c._inject||k.notifyObservers(a,"durationchange")},false);c.addEventListener("timeupdate",function(){c._inject||k.notifyObservers(a,"timeupdate")},false);c.addEventListener("canplay",function(){c._inject||k.notifyObservers(a,"canplay")},false);c.addEventListener("ended",function(){c._inject||k.notifyObservers(a,"ended")},false);c.addEventListener("play",
function(){c._inject||k.notifyObservers(a,"play")},false);c.addEventListener("pause",function(){c._inject||k.notifyObservers(a,"pause")},false);c.addEventListener("progress",function(){c._inject||k.notifyObservers(a,"progress")},false);c.addEventListener("error",function(){c._inject||k.notifyObservers(a,"error")},false)}this._obj.src=this._url;n.mobileSafari&&this._obj.load()},_setDirectVolume:function(i){if(this._obj)this._obj.volume=i/100},play:function(i,a){if(this._obj){if(i){this._obj._inject=
true;var c,l,m=this;if(!this._obj.paused){c=this._obj.src;this._obj.ended||(l=this._obj.currentTime+0.01)}this.load(a);var r=function(){m._obj.removeEventListener("ended",r,false);m._obj._inject=false;if(c){m._obj.src=c;m._obj.muted=true;m._obj.load();if(l){var u=function(){try{m._obj.currentTime=l;m._obj.muted=false;m._obj.play()}catch(x){setTimeout(u,1E3)}};u()}}};this._obj.addEventListener("ended",r,false);setTimeout(function(){m._obj._inject&&r()},3E3)}this._obj.play()}},pause:function(){this._obj&&
this._obj.pause()},stop:function(){if(this._obj){this._obj.pause();this.setPosition(0)}},getDuration:function(){if(!this._obj)return 0;return this._obj.duration},getPosition:function(){if(!this._obj)return 0;return this._obj.currentTime},setPosition:function(i){if(!this._obj)return false;var a=this._obj;try{if(i>=0&&i<a.duration){a.currentTime=parseFloat(i);return true}else return false}catch(c){return false}},buffered:function(){if(!this._obj)return 0;var i=this._obj;if(!i.buffered.length)return 0;
return i.buffered.end(0)},free:function(){if(this._obj){var i=this._obj;i.pause();b.id("sound_object_container").removeChild(i);this._obj=null}f[this._id]=null}};g={init:function(i,a,c){this._fid=-1;a=a||false;this._needEventSupport=!!c;this._url=i;this._id=f.length;if(a){this._fid=b.id("JxSwfSound_Flash").loadSound(this._url,-1,true);this._correctVolume()}f.push(this)},load:function(i){if(i)this._url=i;else if(!this._url)return;i=b.id("JxSwfSound_Flash");this._fid!=-1&&i.free(this._fid);this._fid=
i.loadSound(this._url,this._needEventSupport?this._id:-1,false);this._correctVolume()},_setDirectVolume:function(i){this._fid!=-1&&b.id("JxSwfSound_Flash").setVolume(this._fid,i)},play:function(){this._fid!=-1&&b.id("JxSwfSound_Flash").playSound(this._fid)},pause:function(){this._fid!=-1&&b.id("JxSwfSound_Flash").pauseSound(this._fid)},stop:function(){this._fid!=-1&&b.id("JxSwfSound_Flash").stopSound(this._fid)},getDuration:function(){if(this._fid==-1)return 0;return b.id("JxSwfSound_Flash").getDuration(this._fid)},
getPosition:function(){if(this._fid==-1)return 0;return b.id("JxSwfSound_Flash").getPosition(this._fid)},setPosition:function(i){if(this._fid==-1)return false;return b.id("JxSwfSound_Flash").setPosition(this._fid,i)},buffered:function(){if(this._fid==-1)return 0;return b.id("JxSwfSound_Flash").getBuffered(this._fid)},free:function(){this._fid!=-1&&b.id("JxSwfSound_Flash").free(this._fid);f[this._id]=null}};p=function(i){if(i==undefined)i=e.path+"style/swf/jxswfsound.swf";var a={id:"JxSwfSound_Flash",
name:"JxSwfSound_Flash"},c={menu:"false",wmode:"transparent",swLiveConnect:"true",allowScriptAccess:"always"},l=b.node("div",{id:"swfSound_Flash_div"}),m=b.id("sound_object_container");m.appendChild(l);b.setStyle(m,"display","");try{e.swfobject.embedSWF(i,"swfSound_Flash_div","1","1","8.0.0",e.path+"style/swf/expressInstall.swf",false,c,a)}catch(r){e.error("J.Sound module error: "+r.message,"Sound")}};s=function(i,a){var c=f[i];c&&k.notifyObservers(c,a)};f=[];switch(e.browser.chrome?1:e.platform.iPad?
4:window.Audio&&(new Audio).canPlayType("audio/mpeg")?3:e.browser.plugins.flash>=9?1:0){case 1:e.sound=new e.Class(e.extend({},o,g));e.sound.isReady=false;e.sound.init=function(i){if(!e.sound.isReady){window.JxSwfSoundOnLoadCallback=function(){e.sound.isReady=true;var c=b.id("sound_object_container");b.setStyle(c,"width","1px");b.setStyle(c,"height","1px");k.notifyObservers(e.sound,"ready")};window.soundEventDispatcher=s;var a=b.node("div",{id:"sound_object_container",style:"position:absolute;left:0;top:0;width:100px;height:100px;overflow:hidden;"});
(document.body||document.documentElement).appendChild(a);p(i&&i.path)}};break;case 3:e.sound=new e.Class(e.extend({},o,j));e.sound.isReady=false;e.sound.init=function(){if(!e.sound.isReady){var i=b.node("div",{id:"sound_object_container",style:"position:absolute;left:0;top:0;width:1px;height:1px;overflow:hidden;"});(document.body||document.documentElement).appendChild(i);e.sound.isReady=true}};break;case 4:e.sound=new e.Class(e.extend({},o,d));e.sound.isReady=false;e.sound.init=function(){if(!e.sound.isReady){var i=
b.node("div",{id:"sound_object_container",style:"position:absolute;left:0;top:0;width:1px;height:1px;overflow:hidden;"});(document.body||document.documentElement).appendChild(i);e.sound.isReady=true}};break;default:e.sound=new e.Class(e.extend({},o,{init:function(){},load:function(){},_correctVolume:function(){},play:function(){},pause:function(){},stop:function(){},getDuration:function(){return-1},getPosition:function(){return 0},setPosition:function(){return true},free:function(){}}));e.sound.init=
function(){};e.sound.isReady=false}e.sound.Global={_volume:100,_boolMute:false,getVolume:function(){return this._volume},setVolume:function(i){if(!isNaN(i)&&i>=0&&i<=100){this._volume=i;i=0;for(var a=f.length;i<a;i++)f[i]!=null&&f[i]._correctVolume();return true}return false},mute:function(){if(!this._boolMute){this._boolMute=true;for(var i=0,a=f.length;i<a;i++)f[i]!=null&&f[i]._correctVolume()}},unMute:function(){if(this._boolMute){this._boolMute=false;for(var i=0,a=f.length;i<a;i++)f[i]!=null&&
f[i]._correctVolume()}},isMute:function(){return this._boolMute},removeAll:function(){for(var i=0,a=f.length;i<a;i++)f[i]!=null&&f[i].free()}}});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};var n=0;e.ui.MaskLayer=new e.Class({_getMaskId:function(){return n++},init:function(g){g=g||{};var j=this._getMaskId(),d=this;this._initZIndex=g.zIndex=!e.isUndefined(g.zIndex)?g.zIndex:9E6;this._initOpacity=g.opacity=!e.isUndefined(g.opacity)?g.opacity:0.5;g.appendTo=g.appendTo||document.body;g.className=g.className||"";this.option=g;this.container=b.node("div",{id:"ui_maskLayer_"+j,"class":"ui_maskLayer "+g.className});var f='<div id="ui_maskLayerBody_'+
j+'" class="ui_maskLayerBody"></div>';if(e.browser.ie)f+='<iframe class="ui_maskBgIframe"></iframe>';this.container.innerHTML=f;this.reset();g.appendTo.appendChild(this.container);k.on(this.container,"click",{onMaskLayerClick:function(){k.notifyObservers(d,"click",d)}}.onMaskLayerClick);this.body=b.id("ui_maskLayerBody_"+j)},getElement:function(){return this.container},append:function(g){this.body.appendChild(g)},show:function(){b.show(this.container);k.notifyObservers(this,"show");this._isShow=true},
hide:function(){b.hide(this.container);k.notifyObservers(this,"hide");this._isShow=false},isShow:function(){return this._isShow},toggleShow:function(){this.isShow()?this.hide():this.show()},getZIndex:function(){return this._zIndex},setZIndex:function(g){b.setStyle(this.container,"zIndex",g);this._zIndex=g},setOpacity:function(g){b.setStyle(this.container,"opacity",g)},reset:function(){this.setOpacity(this._initOpacity);this.setZIndex(this._initZIndex);return this},fadeIn:function(){this.show()},fadeOut:function(){this.hide()},
remove:function(){this.option.appendTo&&this.option.appendTo.removeChild(this.container)}})});
Jx().$package(function(e){var b=e.dom,k=e.event,n=function(r){r.preventDefault()},g=false,j=false,d,f,h=false,o=false,p,s,i,a,c,l,m;e.ui=e.ui||{};e.ui.Drag=new e.Class({init:function(r,u,x){var v=this,E,D,K,H;this.apperceiveEl=r;x=x||{};this.isLimited=x.isLimited||false;this.dragType=x.dragType;this.isLocked=x.isLocked||false;this.isLockCursorInScreen=x.isLockCursorInScreen||false;var z=false;if(this.isLimited){this._leftMargin=x.leftMargin||0;this._topMargin=x.topMargin||0;this._rightMargin=x.rightMargin||
0;this._bottomMargin=x.bottomMargin||0}if(x.xOnly)this._xOnly=x.xOnly||false;if(x.yOnly)this._yOnly=x.yOnly||false;this.effectEl=u===false?false:u||r;this.dragStart=function(q){if(q.changedTouches){if(q.changedTouches.length>1)return;q=q.changedTouches[0];document.body.style.WebkitTouchCallout="none"}else{q.preventDefault();q.stopPropagation()}v.dragStartIn(q.pageX,q.pageY)};this.dragStartIn=function(q,t){if(!v.isLocked){k.notifyObservers(v,"beforeStart");k.notifyObservers(document,"beforeStart");
d=b.getClientWidth();f=b.getClientHeight();g=x.clientEl?b.getClientWidth(x.clientEl):d;j=x.clientEl?b.getClientHeight(x.clientEl):f;h=v.effectEl?parseInt(b.getClientWidth(v.effectEl)):0;o=v.effectEl?parseInt(b.getClientHeight(v.effectEl)):0;if(v.isLimited){p=g-h-v._rightMargin;s=v._leftMargin;i=v._topMargin;a=j-o-v._bottomMargin}m||(m=new e.ui.MaskLayer({opacity:0}));m.setZIndex(9E6);m.show();v._oldX=E=v.effectEl?parseInt(b.getStyle(v.effectEl,"left"))||0:0;v._oldY=D=v.effectEl?parseInt(b.getStyle(v.effectEl,
"top"))||0:0;K=q;H=t;if(e.browser.mobileSafari){k.on(document,"touchmove",v.dragMove);k.on(document,"touchend",v.dragStop);var w=new WebKitCSSMatrix(window.getComputedStyle(v.apperceiveEl).webkitTransform);c=q-w.m41;l=t-w.m42}else{k.on(document,"mousemove",v.dragMove);k.on(document,"mouseup",v.dragStop)}e.browser.ie&&k.on(document.body,"selectstart",n);e.browser.mobileSafari?k.notifyObservers(v,"start",{x:q,y:t}):k.notifyObservers(v,"start",{x:E,y:D})}};this.dragMove=function(q){if(!v.isLocked){if(q.browserEvent){q.browserEvent.preventDefault();
q.browserEvent.stopPropagation()}else{q.preventDefault();q.stopPropagation()}if(q.changedTouches)q=q.changedTouches[0];var t,w,B=q.pageX,G=q.pageY;if(v.isLockCursorInScreen){B<0?B=0:B>d&&(B=d);G<0?G=0:G>f&&(G=f)}if(!e.browser.mobileSafari){t=E+(B-K);w=D+(G-H)}if(v.isLimited){if(t>p&&!x.isOverRight)t=p;if(t<s&&!x.isOverLeft)t=s}if(v._oldX!==t&&!v._yOnly){v._oldX=t;if(v.effectEl&&!e.browser.mobileSafari)v.effectEl.style.left=t+"px";z=true}if(v.isLimited){if(w>a&&!x.isOverBottom)w=a;if(w<i&&!x.isOverTop)w=
i}if(v._oldY!==w&&!v._xOnly){v._oldY=w;if(v.effectEl&&!e.browser.mobileSafari)v.effectEl.style.top=w+"px";z=true}t=t;w=w;if(v.effectEl&&e.browser.mobileSafari){v._oldX=E+(B-K);v._oldY=D+(G-H);w=G;t=v._yOnly?E:B-c;w=v._xOnly?D:w-l;v.effectEl.style.webkitTransform="translate3d("+t+"px, "+w+"px, 0px)";t=B;w=G}z&&k.notifyObservers(v,"move",{x:t,y:w,orientEvent:q})}};this.dragStop=function(q){m.hide();if(!v.isLocked){document.body.style.WebkitTouchCallout="auto";if(z||e.browser.mobileSafari){var t=v._oldX,
w=v._oldY;if(v.isLimited){if(t>p&&!x.isOverRight)t=p;if(t<s&&!x.isOverLeft)t=s}if(v.isLimited){if(w>a&&!x.isOverBottom)w=a;if(w<i&&!x.isOverTop)w=i}if(e.browser.mobileSafari){q.preventDefault();if(x.noEndCallback&&v.effectEl){v.effectEl.style.webkitTransform="none";b.setStyle(v.effectEl,"left",t+"px");b.setStyle(v.effectEl,"top",w+"px")}k.notifyObservers(v,"end",{x:t,y:w,orientEvent:q.changedTouches[0]})}else k.notifyObservers(v,"end",{x:t,y:w,orientEvent:q})}else k.notifyObservers(v,"end",{orientEvent:q});
if(v.isLimited&&(v.isOverRight||v.isOverLeft||v.isOverTop||v.isOverBottom)){t=E+(q.pageX-K);w=D+(q.pageY-H);q=v._leftMargin;var B=j-v._bottomMargin,G=v._topMargin;if(t>g-h-v._rightMargin||t<q||w>B||w<G)k.notifyObservers(v,"overFlowBorder",{x:t,y:w})}o=h=j=g=false;if(e.browser.mobileSafari){k.off(document,"touchmove",v.dragMove);k.off(document,"touchend",v.dragStop)}else{k.off(document,"mousemove",v.dragMove);k.off(document,"mouseup",v.dragStop)}e.browser.ie&&k.off(document.body,"selectstart",n);z=
false}};k.on(this.apperceiveEl,"drag",this.dragStart)},setEffect:function(r){this.effectEl=r},lock:function(){this.isLocked=true;k.off(this.apperceiveEl,"drag",this.dragStart)},unlock:function(){this.isLocked=false;k.on(this.apperceiveEl,"drag",this.dragStart)},show:function(){b.show(this.apperceiveEl)},hide:function(){b.hide(this.apperceiveEl)},setLimite:function(r){r=r||{};if(this.isLimited=r.isLimited||true){this._leftMargin=r.leftMargin||0;this._topMargin=r.topMargin||0;this._rightMargin=r.rightMargin||
0;this._bottomMargin=r.bottomMargin||0}}})});
Jx().$package(function(e){e.ui=e.ui||{};var b=e.dom,k=e.event,n=0,g={t:"t",r:"r",b:"b",l:"l",rt:"rt",rb:"rb",lb:"lb",lt:"lt"};e.ui.Resize=new e.Class({init:function(j,d,f){var h=this;f=f||{};this.apperceiveEl=j;this.effectEl=d===false?false:d||j;this.size=f.size||5;this.minWidth=f.minWidth||0;this.minHeight=f.minHeight||0;this._dragProxy=f.dragProxy;if(this.isLimited=f.isLimited||false){this._leftMargin=f.leftMargin||0;this._topMargin=f.topMargin||0;this._rightMargin=f.rightMargin||0;this._bottomMargin=
f.bottomMargin||0}this._left=this.getLeft();this._top=this.getTop();this._width=this.getWidth();this._height=this.getHeight();this.id=this.getId();j={t:"cursor:n-resize; z-index:1; left:0; top:-5px; width:100%; height:5px;",r:"cursor:e-resize; z-index:1; right:-5px; top:0; width:5px; height:100%;",b:"cursor:s-resize; z-index:1; left:0; bottom:-5px; width:100%; height:5px;",l:"cursor:w-resize; z-index:1; left:-5px; top:0; width:5px; height:100%;",rt:"cursor:ne-resize; z-index:2; right:-5px; top:-5px; width:5px; height:5px;",
rb:"cursor:se-resize; z-index:2; right:-5px; bottom:-5px; width:5px; height:5px;",lt:"cursor:nw-resize; z-index:2; left:-5px; top:-5px; width:5px; height:5px;",lb:"cursor:sw-resize; z-index:2; left:-5px; bottom:-5px; width:5px; height:5px;"};this._onMousedown=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height})};this._onDragEnd=function(){k.notifyObservers(h,"end",{x:h.getLeft(),y:h.getTop(),width:h.getWidth(),height:h.getHeight()})};for(var o in g){d=b.node("div",{id:"window_"+
this.id+"_resize_"+g[o]});this.apperceiveEl.appendChild(d);b.setCssText(d,"position:absolute; overflow:hidden; background:url("+e.path+"style/image/transparent.gif);"+j[o]);this["_dragController_"+g[o]]=new e.ui.Drag(d,false)}this._onDragLeftStart=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height});h._startLeft=h._left=h.getLeft();h._startWidth=h._width=h.getWidth();h._startHeight=h._height=h.getHeight()};this._onDragLeft=function(p){var s=h._startWidth-p.x;p=h._startLeft+
p.x;if(s<h.minWidth){s=h.minWidth;p=h._startLeft+(h._startWidth-s)}if(h.isLimited&&p-h._leftMargin<0){p=h._leftMargin;s=h._startLeft+h._startWidth-h._leftMargin}h.setLeft(p);h.setWidth(s);k.notifyObservers(h,"resize",{width:h._width,height:h._height})};this._onDragTopStart=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height});h._startTop=h._top=h.getTop();h._startHeight=h._height=h.getHeight()};this._onDragTop=function(p){var s=h._startHeight-p.y;p=h._startTop+p.y;if(s<h.minHeight){s=
h.minHeight;p=h._startTop+(h._startHeight-s)}if(h.isLimited&&p-h._topMargin<0){p=h._topMargin;s=h._startTop+h._startHeight-h._topMargin}h.setTop(p);h.setHeight(s);k.notifyObservers(h,"resize",{width:h._width,height:h._height})};this._onDragRightStart=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height});h._startWidth=h._width=h.getWidth();h._startLeft=h._left=h.getLeft();h._startHeight=h._height=h.getHeight();qqweb.layout.getClientWidth()};this._onDragRight=function(p){p=h._startWidth+
p.x;if(p<h.minWidth)p=h.minWidth;var s=(b.getClientWidth()||0)-h._startLeft-h._rightMargin;if(h.isLimited&&s<p)p=s;h.setWidth(p);k.notifyObservers(h,"resize",{width:h._width,height:h._height})};this._onDragBottomStart=function(){k.notifyObservers(h,"mousedown",{width:h._width,height:h._height});h._startHeight=h._height=h.getHeight();h._startTop=h._top=h.getTop();b.getClientHeight()};this._onDragBottom=function(p){p=h._startHeight+p.y;if(p<h.minHeight)p=h.minHeight;var s=(b.getClientHeight()||0)-h._startTop-
h._bottomMargin;if(h.isLimited&&s<p)p=s;h.setHeight(p);k.notifyObservers(h,"resize",{width:h._width,height:h._height})};this._onDragLeftTopStart=function(p){h._onDragLeftStart(p);h._onDragTopStart(p)};this._onDragLeftTop=function(p){h._onDragLeft(p);h._onDragTop(p)};this._onDragLeftBottomStart=function(p){h._onDragLeftStart(p);h._onDragBottomStart(p)};this._onDragLeftBottom=function(p){h._onDragLeft(p);h._onDragBottom(p)};this._onDragRightBottomStart=function(p){h._onDragRightStart(p);h._onDragBottomStart(p)};
this._onDragRightBottom=function(p){h._onDragRight(p);h._onDragBottom(p)};this._onDragRightTopStart=function(p){h._onDragRightStart(p);h._onDragTopStart(p)};this._onDragRightTop=function(p){h._onDragRight(p);h._onDragTop(p)};k.addObserver(this["_dragController_"+g.t],"start",this._onDragTopStart);k.addObserver(this["_dragController_"+g.t],"move",this._onDragTop);k.addObserver(this["_dragController_"+g.t],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.r],"start",this._onDragRightStart);
k.addObserver(this["_dragController_"+g.r],"move",this._onDragRight);k.addObserver(this["_dragController_"+g.r],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.b],"start",this._onDragBottomStart);k.addObserver(this["_dragController_"+g.b],"move",this._onDragBottom);k.addObserver(this["_dragController_"+g.b],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.l],"start",this._onDragLeftStart);k.addObserver(this["_dragController_"+g.l],"move",this._onDragLeft);k.addObserver(this["_dragController_"+
g.l],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.rb],"start",this._onDragRightBottomStart);k.addObserver(this["_dragController_"+g.rb],"move",this._onDragRightBottom);k.addObserver(this["_dragController_"+g.rb],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.rt],"start",this._onDragRightTopStart);k.addObserver(this["_dragController_"+g.rt],"move",this._onDragRightTop);k.addObserver(this["_dragController_"+g.rt],"end",this._onDragEnd);k.addObserver(this["_dragController_"+
g.lt],"start",this._onDragLeftTopStart);k.addObserver(this["_dragController_"+g.lt],"move",this._onDragLeftTop);k.addObserver(this["_dragController_"+g.lt],"end",this._onDragEnd);k.addObserver(this["_dragController_"+g.lb],"start",this._onDragLeftBottomStart);k.addObserver(this["_dragController_"+g.lb],"move",this._onDragLeftBottom);k.addObserver(this["_dragController_"+g.lb],"end",this._onDragEnd)},setWidth:function(j){b.setStyle(this.effectEl,"width",j+"px");this._width=j},setHeight:function(j){b.setStyle(this.effectEl,
"height",j+"px");this._height=j},setLeft:function(j){b.setStyle(this.effectEl,"left",j+"px");this._left=j},setTop:function(j){b.setStyle(this.effectEl,"top",j+"px");this._top=j},getWidth:function(){return parseInt(b.getStyle(this.effectEl,"width"))},getHeight:function(){return parseInt(b.getStyle(this.effectEl,"height"))},getLeft:function(){return parseInt(b.getStyle(this.effectEl,"left"))},getTop:function(){return parseInt(b.getStyle(this.effectEl,"top"))},getId:function(){return n++},lock:function(){for(var j in g)this["_dragController_"+
g[j]].lock()},unlock:function(){for(var j in g)this["_dragController_"+g[j]].unlock()},show:function(){for(var j in g)this["_dragController_"+g[j]].show()},hide:function(){for(var j in g)this["_dragController_"+g[j]].hide()},setLimite:function(j){j=j||{};if(this.isLimited=j.isLimited||true){this._leftMargin=j.leftMargin||0;this._topMargin=j.topMargin||0;this._rightMargin=j.rightMargin||0;this._bottomMargin=j.bottomMargin||0}},setMinLimite:function(j){j=j||{};this.minWidth=j.minWidth||0;this.minHeight=
j.minHeight||0}})});
Jx().$package(function(e){e.ui=e.ui||{};var b=e.dom,k=e.event,n,g=function(){if(!n){var d=b.node("div",{"class":"dragMask"}),f=b.node("div",{"class":"dragProxy"});d.appendChild(f);b.getDoc().body.appendChild(d);n={maskEl:d,proxyEl:f}}return n},j=new e.Class({_zIndex:1,_inBorder:5,_outBorder:5,_windowFlag:0,init:function(d){e.profile("windowCreat"+d.windowId,"baseWindow");d=this.parseOption(d);this.subWinMarginLeft=this.subWinWidth=0;this.desktopIndex=d.desktopIndex;this.setPrivateProperty();this.appendTo=
d.appendTo;if(e.isUndefined(this._windowId))throw"[BaseWindow.init]: _windowId is undefined!";this.createDom();b.setStyle(this._window_outer,"zIndex",this.option.zIndex);this.createEvent();this.option.hideWinBorder&&this.hideWinBorder();this.option.hasToolBar&&this.showToolBar()},parseOption:function(){throw"parseOption does not implement a required interface(Error in BaseWindow.parseOption())";},setPrivateProperty:function(){throw"setPrivateProperty does not implement a required interface(Error in BaseWindow.setPrivateProperty())";
},getTemplate:function(){throw"getTemplate does not implement a required interface(Error in BaseWindow.getTemplate())";},initObserver:function(){var d=this;this.observer={onMousedown:function(){if(!e.browser.ie){b.setStyle(d._dragProxy.proxyEl,"left",d.getX()+d._outBorder+"px");b.setStyle(d._dragProxy.proxyEl,"top",d.getY()+d._outBorder+"px");b.setStyle(d._dragProxy.proxyEl,"width",d._width-d._outBorder*2+"px");b.setStyle(d._dragProxy.proxyEl,"height",d._height-d._outBorder*2+"px");b.setStyle(d._dragProxy.maskEl,
"zIndex",60002);b.show(d._dragProxy.maskEl)}},onMove:function(f){d._x=f.x;d._y=f.y;if(d.subMode==1&&d.isSubWinFloat&&d.subWin){var h=b.getRelativeXY(d._subBodyOuter,d.container.parentNode);d.subWin.setXY(h[0],h[1]+(e.browser.ie?2:0))}if(d.subMode==2){h=d.getX();var o=d.getY();d.subWin.setXY(h+d.getWidth(),o)}k.notifyObservers(d,"dragMove",f)},onBeforeDragStart:function(){k.notifyObservers(d,"beforeDragStart")},onDragStart:function(f){k.notifyObservers(d,"dragStart",f)},onDragEnd:function(f){d.mask&&
d.mask.hide();k.notifyObservers(d,"dragEnd",f)},onResize:function(f){f.width&&d.setWinWidth(f.width);f.height&&d.setWinHeight(f.height);k.notifyObservers(d,"resize",d.getBodySize())},onDragProxyEnd:function(f){if(f){b.hide(d._dragProxy.maskEl);d.setXY(f.x-d._outBorder,f.y-d._outBorder)}},onDragProxyResizeEnd:function(f){b.hide(d._dragProxy.maskEl);d.setXY(f.x-d._outBorder,f.y-d._outBorder);d.setWidth(f.width+d._outBorder*2);d.setHeight(f.height+d._outBorder*2);k.notifyObservers(d,"resize",d.getBodySize())}}},
initDomReference:function(){throw"initDomReference does not implement a required interface(Error in BaseWindow.initDomReference())";},initButtons:function(){throw"initButtons does not implement a required interface(Error in BaseWindow.initButtons())";},createEvent:function(){throw"createEvent does not implement a required interface(Error in BaseWindow.createEvent())";},getAppId:function(){return this._appId},getButton:function(d){return this["_"+d+"Button"]||null},getWindowFlags:function(){return this._windowFlag},
setWindowFlags:function(d){this._windowFlag=d},createDom:function(){e.out("CreateDom","baseWindow");var d=this._windowId;this.getId=function(){return d};var f=this.getTemplate();this.container=b.node("div",{id:"appWindow_"+d,"class":"window window_current"});this.container.innerHTML=f;this.appendTo.appendChild(this.container);this.initDomReference();e.out("initDomReference","baseWindow");this.initObserver();e.out("initObserver","baseWindow");this.initButtons();e.out("initButtons","baseWindow");this._width=
Number(this._width);this._height=Number(this._height);this.setWidth(this._width);this.setHeight(this._height);this._toolbarHeight=0;!e.isUndefined(this.option.x)&&!e.isUndefined(this.option.y)&&this.setXY(this.option.x,this.option.y);this.setTitle(this.option.title);this.option.html&&this.setHtml(this.option.html)},getTitleBarHeight:function(){return this._titleBarHeight||(this._titleBarHeight=b.getHeight(this._titleBar))},setTitle:function(d){d=e.string.encodeHtml(d);if(this.option.titleIcon)d='<span class="window_title_icon" style="background:url('+
this.option.titleIcon+') no-repeat center center;">&nbsp;&nbsp;&nbsp;&nbsp;</span>'+d;this._title.innerHTML=d},setTitleHtml:function(d){this._title.innerHTML=d},setToolBarHtml:function(d){this._toolBar.innerHTML=d},showToolBarBtn:function(){b.show(this._toggleToolbar)},hideToolBarBtn:function(){b.hide(this._toggleToolbar)},setToolbar:function(d){d?this.showToolBar():this.hideToolBar()},toggleToolBar:function(){this._toolbarIsShow?this.hideToolBar():this.showToolBar()},showToolBar:function(){},hideToolBar:function(){this._toolbarIsShow=
false;b.hide(this._toolBar);b.setStyle(this.body,"top","0px");this._toolbarHeight=0;this.setHeight(this.getBodyHeight());b.replaceClass(this._toggleToolbar,"app_toolbar_toggle_up","app_toolbar_toggle_down");this._toggleToolbar.title="\u5c55\u5f00\u5de5\u5177\u6761";alloy.util.report2app("apptoolbar|close")},isToolBarShow:function(){return this._toolbarIsShow},getToolBarHeight:function(){return this._toolbarHeight},getToolBar:function(){return this._toolButtonBar},setButton:function(d){for(var f in d){var h=
!!d[f],o=[];switch(f){case "hasRefreshButton":break;default:switch(this.windowType){case "window":switch(f){case "hasMaxButton":o.push(this._maxButton);o.push(this._restoreButton);break;case "hasMinButton":o.push(this._minButton)}break;case "widget":switch(f){case "hasPinUpButton":o.push(this._pinUpButton);o.push(this._pinDownButton)}}}if(o.length){e.array.forEach(o,function(p){p&&p.setAvailability(h)});o=null}}},showCloseButton:function(){this._closeButton&&this._closeButton.show()},showFullButton:function(){this._fullButton&&
this._fullButton.hide()},showMaxButton:function(){this._restoreButton&&this._restoreButton.hide();this._maxButton&&this._maxButton.show()},showRestoreButton:function(){this._maxButton&&this._maxButton.hide();this._restoreButton&&this._restoreButton.show()},showMinButton:function(){this._minButton&&this._minButton.show()},showRefreshButton:function(){this._refreshButton&&this._refreshButton.show()},showPinUpButton:function(){this._pinDownButton&&this._pinDownButton.hide();this._pinUpButton&&this._pinUpButton.show()},
showPinDownButton:function(){this._pinUpButton&&this._pinUpButton.hide();this._pinDownButton&&this._pinDownButton.show()},disableOkButton:function(d){this._okButton.disable(d)},showControlButton:function(d){b.show(this._controlArea);b.setStyle(this.body,"bottom","29px");b.addClass(this._window_outer,"window_has_controlArea");d.show()},hideControlArea:function(){b.hide(this._controlArea);b.setStyle(this.body,"bottom","0");b.removeClass(this._window_outer,"window_has_controlArea")},getButtons:function(){if(this._buttons)return this._buttons},
show:function(){b.show(this.container);b.getStyle(this.container,"visibility")&&b.setStyle(this.container,"visibility","visible");e.info(">>>> Window: show","baseWindow");k.notifyObservers(this,"show",this.getBodySize());this._isShow=true},hide:function(d){d?b.setStyle(this.container,"visibility","hidden"):b.hide(this.container);k.notifyObservers(this,"hide");this._isShow=false},isShow:function(){return this._isShow},toggleShow:function(){this.isShow()?this.hide():this.show()},setCurrent:function(d){this.setCurrentWithoutFocus(d);
this.focus()},setNotCurrent:function(){this.setWindowFlags(this.getWindowFlags()&~j.CONST.WINDOW_FLAG_CURRENT|j.CONST.WINDOW_FLAG_NOT_CURRENT);this.setStyleNotCurrent();k.notifyObservers(this,"setNotCurrent")},setCurrentWithoutFocus:function(d){if(d&&d.fromInit&&this.windowType==="widget"){this.show();this.setNotCurrent()}else{if(!(this.getWindowFlags()&j.CONST.WINDOW_FLAG_CURRENT)){this.setStyleCurrent();this.show();this.setWindowFlags(this.getWindowFlags()|j.CONST.WINDOW_FLAG_CURRENT)}k.notifyObservers(this,
"setCurrent")}},setStyleCurrent:function(){b.addClass(this.container,"window_current")},setStyleNotCurrent:function(){this.container&&b.removeClass(this.container,"window_current")},focus:function(){k.notifyObservers(this,"focus")},setBoxStatus:function(d){this._status=d},getBoxStatus:function(){return this._status},adjustSize:function(d,f,h,o){!e.isUndefined(h)&&!e.isUndefined(o)&&this.setXY(h,o);this.setWinWidth(d);this.setWinHeight(f);k.notifyObservers(this,"resize",this.getBodySize())},max:function(){if(!(this.getWindowFlags()&
j.CONST.WINDOW_FLAG_FULLSCREEN)){this._restoreX=this._x;this._restoreY=this._y}var d=this.getBoxStatus();this.setDisableDrag();this.setWindowFlags(this.getWindowFlags()&~j.CONST.WINDOW_FLAG_NORMAL|j.CONST.WINDOW_FLAG_MAX);this.setBoxStatus("max");this.showRestoreButton();k.notifyObservers(this,"max",d);k.notifyObservers(this,"resize",this.getBodySize())},fullscreen:function(){if(this.getWindowFlags()&j.CONST.WINDOW_FLAG_NORMAL){this._restoreX=this._x;this._restoreY=this._y}this.setDisableDrag();this.setWindowFlags(this.getWindowFlags()|
j.CONST.WINDOW_FLAG_FULLSCREEN);this.setBoxStatus("fullscreen");this._maxButton.hide();this._restoreButton.hide();this._fullButton.hide();this._restorefullButton.show();k.notifyObservers(this,"fullscreen",this.getBodySize());k.notifyObservers(this,"resize",this.getBodySize())},restorefull:function(){this.getWindowFlags()&j.CONST.WINDOW_FLAG_NORMAL?this.restore():this.max();this.setWindowFlags(this.getWindowFlags()&~j.CONST.WINDOW_FLAG_FULLSCREEN);k.notifyObservers(this,"restorefull",this.getBoxStatus());
k.notifyObservers(this,"resize",this.getBodySize())},min:function(){var d=this.getBoxStatus();this.setWindowFlags(this.getWindowFlags()&~j.CONST.WINDOW_FLAG_CURRENT|j.CONST.WINDOW_FLAG_NOT_CURRENT|j.CONST.WINDOW_FLAG_MIN);if(this.option.isVisibilityMode)this.hide(true);else this.option.flashMode||this.hide();this.setBoxStatus(d||"min");this._isShow=false;k.notifyObservers(this,"min");k.notifyObservers(this,"resize",this.getBodySize())},restore:function(){this.setWindowFlags(this.getWindowFlags()&
~j.CONST.WINDOW_FLAG_MAX|j.CONST.WINDOW_FLAG_NORMAL);this.setXY(this._restoreX,this._restoreY);if(this._restoreWidth<0)this._restoreWidth=0;if(this._restoreHeight<0)this._restoreHeight=0;this.setWidth(this._restoreWidth);this.setHeight(this._restoreHeight);this._dragController&&this._dragController.lock();this.setEnableDrag();if(this.option.hasMaxButton){this.showMaxButton();this._restorefullButton.hide();this.option.noFullButton&&this._fullButton.hide()}this.setBoxStatus("restore");k.notifyObservers(this,
"restore");k.notifyObservers(this,"resize",this.getBodySize())},setZIndexLevel:function(d){this.zIndexLevel=d},getZIndexLevel:function(){return this.zIndexLevel},setLockZIndex:function(d){this._isLockZIndex=d},isLockZIndex:function(){return this._isLockZIndex},setWidth:function(d){this.setBodyWidth(d)},setWinWidth:function(d){d=d||this._width;var f=this.isBorderHide?0:10;this._bodyWidth=d-f*2-this.option.bodyBorder*2-this.subWinWidth-this.subWinMarginLeft;this._width=d;b.setStyle(this.container,"width",
d+"px");b.setStyle(this._bodyOuter,"width",this._bodyWidth+this.subWinWidth+this.subWinMarginLeft+"px");b.setStyle(this.body,"width",this._bodyWidth+"px");b.setStyle(this._window_outer,"padding",f+"px");if(this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen")this._restoreWidth=this._bodyWidth},setBodyWidth:function(d){d=d||this._bodyWidth;var f;f=this.option.bodyBorder*2;if(this.isBorderHide){f=d+f;b.setStyle(this._window_outer,"padding","0px")}else{f=d+f+20;b.setStyle(this._window_outer,
"padding","10px")}this._bodyWidth=d;this._width=f=f+this.subWinWidth+this.subWinMarginLeft;b.setStyle(this.container,"width",f+"px");b.setStyle(this._bodyOuter,"width",d+this.subWinWidth+this.subWinMarginLeft+"px");b.setStyle(this.body,"width",d+"px");if(this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen")this._restoreWidth=this._bodyWidth},getBodyWidth:function(){return this._bodyWidth},getWidth:function(){return this._width},getWinWidth:function(){return this._width},getHeight:function(){return this._height},
getWinHeight:function(){return this._height},setHeight:function(d){this.setBodyHeight(d)},setWinHeight:function(d){d=d||this._height;var f=this.getTitleBarHeight(),h=this.option.bodyBorder*2,o=0,p=0;if(this._controlArea&&b.isShow(this._controlArea))o=29;if(this._toolbarHeight)p=this._toolbarHeight;if(this.isBorderHide){o=d;b.setStyle(this._window_outer,"padding","0px");b.setStyle(this._bodyOuter,"top","0");f=d-h}else{o=d-f-p-o-20-h;b.setStyle(this._window_outer,"padding","10px");b.setStyle(this._bodyOuter,
"top",f+"px");f=d-20-h}if(e.browser.ie==6)f-=f%2;b.setStyle(this._window_outer,"height",f+"px");this._bodyHeight=o+1;this._height=d;b.setStyle(this.body,"height",this._bodyHeight-h+"px");b.setStyle(this._bodyOuter,"height",this._bodyHeight+p-h+"px");b.setStyle(this.container,"height",d+"px");if(this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen")this._restoreHeight=this._bodyHeight;k.notifyObservers(this,"setNewHeight",d)},setBodyHeight:function(d){d=d||this._bodyHeight;var f=this.getTitleBarHeight(),
h=this.option.bodyBorder*2,o=0,p=0;if(this._controlArea&&b.isShow(this._controlArea))o=29;if(this._toolbarHeight)p=this._toolbarHeight;if(this.isBorderHide){o=d;b.setStyle(this._window_outer,"padding","0px");b.setStyle(this._bodyOuter,"top","0");f=o-h}else{o=d+f+p+o+20+h;b.setStyle(this._window_outer,"padding","10px");b.setStyle(this._bodyOuter,"top",f+"px");f=o-20-h}if(e.browser.ie==6)f-=f%2;b.setStyle(this._window_outer,"height",f+"px");this._bodyHeight=d+1;this._height=o;b.setStyle(this.body,"height",
this._bodyHeight-h+"px");b.setStyle(this._bodyOuter,"height",this._bodyHeight+p-h+"px");b.setStyle(this.container,"height",o+"px");if(this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen")this._restoreHeight=this._bodyHeight;k.notifyObservers(this,"setNewHeight",this._height)},getBodyHeight:function(){return this._bodyHeight},setWinSize:function(d){this.setWinWidth(d.width);this.setWinHeight(d.height);k.notifyObservers(this,"resize",this.getBodySize())},setBodySize:function(d){this.setBodyWidth(d.width);
this.setBodyHeight(d.height);k.notifyObservers(this,"resize",this.getBodySize())},getZIndex:function(){return this._zIndex},setZIndex:function(d){b.setStyle(this.container,"zIndex",d);b.setStyle(this._window_inner,"zIndex",d);this._zIndex=d},setXY:function(d,f){if(d||d===0)this.setX(d);if(f||f===0)this.setY(f)},setX:function(d){this._x=d;b.setStyle(this.container,"left",d+"px");k.notifyObservers(this,"positionChanged")},setY:function(d){this._y=d;b.setStyle(this.container,"top",d+"px");k.notifyObservers(this,
"positionChanged")},getX:function(){return parseInt(b.getStyle(this.container,"left"))},getRestoreX:function(){return this._restoreX},getRestoreY:function(){return this._restoreY},getLeft:function(){return this._x},getY:function(){return parseInt(b.getStyle(this.container,"top"))},getXY:function(){return{x:this.getX(),y:this.getY()}},getRestoreXY:function(){return{x:this.getRestoreX(),y:this.getRestoreY()}},setLeft:function(d){b.setStyle(this.container,"left",d+"px");b.setStyle(this.container,"right",
"")},setTop:function(d){b.setStyle(this.container,"top",d+"px");b.setStyle(this.container,"bottom","")},setRight:function(d){b.setStyle(this.container,"right",d+"px");b.setStyle(this.container,"left","")},setBottom:function(d){b.setStyle(this.container,"bottom",d+"px");b.setStyle(this.container,"top","")},setWindowCentered:function(){k.notifyObservers(this,"setCenter")},setWindowCenteredRelative:function(d){this.setX(d.getX()+(d.getWidth()-this._width)/2)},enableDrag:function(){this.option.dragable=
true;this.getBoxStatus()!=="max"&&this.getBoxStatus()!=="fullscreen"&&this.setEnableDrag()},disableDrag:function(){this.option.dragable=false;this.setDisableDrag()},enableDragProxy:function(){this.option.dragProxy=true},disableDragProxy:function(){this.option.dragProxy=false},setEnableDrag:function(){if(this.option.dragable){if(this._dragController){this.option.dragProxy&&k.on(this.container,"mousedown",this.observer.onMousedown);this._dragController.unlock()}else{if(this.option.dragProxy){this._dragProxy=
g();k.on(this.container,"mousedown",this.observer.onMousedown);this._dragController=new e.ui.Drag(this.container,this._dragProxy.proxyEl,{isLimited:true,clientEl:this.option.dragLimitEl||this.option.appendTo,leftMargin:this._leftMargin+this._outBorder,topMargin:this._topMargin+this._outBorder,rightMargin:this._rightMargin+this._outBorder,bottomMargin:this._bottomMargin+this._outBorder,isOverLeft:true,isOverRight:true,isLockCursorInScreen:true});k.addObserver(this._dragController,"end",this.observer.onDragProxyEnd)}else{this._dragController=
new e.ui.Drag(this.container,this.container,{isLimited:true,clientEl:this.option.dragLimitEl||this.option.appendTo,leftMargin:this._leftMargin,topMargin:this._topMargin,rightMargin:this._rightMargin,bottomMargin:this._bottomMargin,isOverLeft:true,isOverRight:true,isLockCursorInScreen:true});k.addObserver(this._dragController,"move",this.observer.onMove)}k.addObserver(this._dragController,"beforeStart",this.observer.onBeforeDragStart);k.addObserver(this._dragController,"start",this.observer.onDragStart);
k.addObserver(this._dragController,"end",this.observer.onDragEnd)}this.setEnableResize()}},setDisableDrag:function(){if(this._dragController){this._dragController.lock();this.option.dragProxy&&k.off(this.container,"mousedown",this.observer.onMousedown)}this.setDisableResize()},setDragLimite:function(d){this._dragController.setLimite(d)},onDrag:function(d){e.browser.ie&&e.browser.ie<=6&&(d.target.tagName=="A"||d.target.parentNode&&d.target.parentNode.tagName=="A")||this.startDrag([d.pageX,d.pageY])},
startDrag:function(d){var f=this,h=f.container.children[0];b.hide(h);f.mask&&f.mask.remove();f.mask=new e.ui.MaskLayer({appendTo:f.container,opacity:0});f.mask.show();b.show(h);if(typeof d!="undefined"){h=b.getClientXY(this.body);this._dragController.dragStartIn(d[0]+h[0],d[1]+h[1])}else{var o=function(p){f._dragController.dragStart(p);k.off(document,"mousemove",o)};k.on(document,"mousemove",o)}},enableResize:function(){this.option.resize=true;this.getBoxStatus()!=="max"&&this.setEnableResize()},
disableResize:function(){this.option.dragable=false;this.setDisableResize()},setEnableResize:function(){if(this.option.resize)if(this._resizeController){this.option.dragProxy&&k.addObserver(this._resizeController,"mousedown",this.observer.onMousedown);this._resizeController.show()}else{if(this.option.dragProxy){this._dragProxy=g();this._resizeController=new e.ui.Resize(this._window_inner,this._dragProxy.proxyEl,{isLimited:true,leftMargin:this._leftMargin,topMargin:this._topMargin,rightMargin:this._rightMargin,
bottomMargin:this._bottomMargin,minWidth:this._minWidth,minHeight:this._minHeight,dragProxy:this._dragProxy});k.addObserver(this._resizeController,"mousedown",this.observer.onMousedown);k.addObserver(this._resizeController,"end",this.observer.onDragProxyResizeEnd)}else{this._resizeController=new e.ui.Resize(this._window_inner,this.container,{isLimited:true,leftMargin:this._leftMargin,topMargin:this._topMargin,rightMargin:this._rightMargin,bottomMargin:this._bottomMargin,minWidth:this._minWidth,minHeight:this._minHeight});
k.addObserver(this._resizeController,"resize",this.observer.onResize)}k.addObserver(this._resizeController,"mousedown",this.observer.onDragStart);k.addObserver(this._resizeController,"end",this.observer.onDragEnd)}},setDisableResize:function(){if(this._resizeController){this._resizeController.hide();this.option.dragProxy&&k.removeObserver(this._resizeController,"mousedown",this.observer.onMousedown)}},setLimite:function(d){d=d||{};if(this.isLimited){this._leftMargin=d.leftMargin;this._topMargin=d.topMargin;
this._rightMargin=d.rightMargin;this._bottomMargin=d.bottomMargin}},setMinLimite:function(d){if(this._resizeController){this._resizeController.setWidth(this._width);this._resizeController.setMinLimite(d)}},setHtml:function(d){this.html=d;this.body.innerHTML=d},setBorderOpacity:function(d){e.browser.ie&&e.browser.ie<9||b.setStyle(this._bg_container,"opacity",d)},setOpacity:function(d){e.browser.ie&&e.browser.ie<9||b.setStyle(this.container,"opacity",d)},append:function(d){this.body.appendChild(d)},
getSize:function(){return{width:b.getClientWidth(this.container),height:b.getClientHeight(this.container)}},getBodySize:function(){return{width:parseInt(b.getStyle(this.body,"width"),10),height:parseInt(b.getStyle(this.body,"height"),10)}},getSelfDomObj:function(){return this.container},hideWinBorder:function(){if(!this.isBorderHide){this.isBorderHide=true;b.hide(this._window_bg);b.hide(this._titleBar);this.setWidth(this.getBodyWidth());this.setHeight(this.getBodyHeight())}},showWinBorder:function(){if(this.isBorderHide){this.isBorderHide=
false;b.show(this._window_bg);b.show(this._titleBar);this.setWidth(this.getBodyWidth());this.setHeight(this.getBodyHeight())}},toggleWinBorder:function(){this.isBorderHide?this.showWinBorder():this.hideWinBorder()},setSubMode:function(d,f){switch(d){case 1:this.setSubWinInner(f);break;case 2:this.setSubWinFollow(f);break;default:this.setSubWinNone(f)}this.subMode=d},setSubWinInner:function(d){d=d||{};this.subMode=1;this.subWinWidth=this.subWinWidth||200;this.subWinMarginLeft=10;var f=this.getId();
if(this.getBoxStatus()!="fullscreen"&&this.getBoxStatus()!="max"){this.setBodyWidth(d.width||this._bodyWidth);this.setBodyHeight(d.height||this._bodyHeight)}else{this.setWinWidth();this.setWinHeight()}if(this._subBodyOuter)b.show(this._subBodyOuter);else{this._subBodyOuter=b.node("div",{"class":"window_bodyArea",id:"window_sub_body_"+f});this._bodyOuter.appendChild(this._subBodyOuter)}b.setStyle(this._subBodyOuter,"width",this.subWinWidth+"px");b.setStyle(this._subBodyOuter,"height",this._bodyHeight+
"px");b.setStyle(this._subBodyOuter,"right","5px");b.setStyle(this.subWin.container,"left","0");b.setStyle(this.subWin.container,"top","0");this.subWin.hideWinBorder();if(this.isSubWinFloat){f=b.getRelativeXY(this._subBodyOuter,this.container.parentNode);this.subWin.setXY(f[0],f[1]+(e.browser.ie?2:0))}else this._subBodyOuter.appendChild(this.subWin.container);this.setCurrent();d.isSubWinFloat&&this.subWin.setZIndex(this.getZIndex()+1);this.setMinLimite({minWidth:this._width,minHeight:this._height})},
hideSubWinInner:function(){this.subWinMarginLeft=this.subWinWidth=0;this.subWin.showWinBorder();this.setBodyWidth(this._bodyWidth);this._subBodyOuter&&b.hide(this._subBodyOuter);var d=this.getX(),f=this.getY();this.subWin.setXY(d+this.getWidth(),f);this.isSubWinFloat||this.subWin.option.appendTo.appendChild(this.subWin.container);d=this._restoreX;f=this._restoreY;if(this.getBoxStatus()=="fullscreen"){this.fullscreen();this._restoreX=d;this._restoreY=f;this._restoreWidth=this.option.width;this._restoreHeight=
this.option.height}else if(this.getBoxStatus()=="max"){this.max();this._restoreX=d;this._restoreY=f;this._restoreWidth=this.option.width;this._restoreHeight=this.option.height}else{this.setWidth(this.option.width);this.setHeight(this.option.height)}this.setMinLimite({minWidth:this._minWidth,minHeight:this._minHeight})},setSubWinFollow:function(){this.subMode!=2&&this.removeSubordinate();this.subMode=2;var d=this.getX(),f=this.getY();this.subWin.setXY(d+this.getWidth(),f);var h=this,o=function(){h.setSubWinNone();
k.removeObserver(this.subWin._dragController,"move",o)};k.addObserver(this.subWin._dragController,"move",o)},setSubWinNone:function(){if(this.subMode!=0){this.subMode=0;this.hideSubWinInner()}},getSubMode:function(){return this.subMode},addSubordinate:function(d,f){if(!this.subWin){this.subWin=d;if(f.subWinWidth)this.subWinWidth=f.subWinWidth;var h=!f||!f.mode?1:f.mode;this.isSubWinFloat=f.isSubWinFloat?true:false;this.setSubMode(h,f)}},removeSubordinate:function(){if(this.subWin){this.setSubMode(0);
this.subWin=null;this.subWinWidth=0;this.isSubWinFloat=false}},close:function(){if(k.notifyObservers(this,"beforeClose",this)===false)return false;if(k.notifyObservers(this,"close",this)===false)return false;this.destroy();k.notifyObservers(this,"afterClose",this)},destroy:function(){k.notifyObservers(this,"destroy",this);var d=this.container.parentNode;this.container.innerHTML="";d.removeChild(this.container);for(var f in this)this.hasOwnProperty(f)&&delete this[f];this._isDestroy=true},isDestroy:function(){return this._isDestroy}});
j.CONST={WINDOW_FLAG_MIN:1,WINDOW_FLAG_NORMAL:2,WINDOW_FLAG_MAX:4,WINDOW_FLAG_CURRENT:8,WINDOW_FLAG_NOT_CURRENT:16,WINDOW_FLAG_FULLSCREEN:32};e.ui.BaseWindow=j});
Jx().$package(function(e){var b=e.dom,k=e.event,n=new e.Class({init:function(g){g=g||{};this.id=g.id;this.name=g.name;this.container=g.container;this.body=g.body||g.container;g.html=g.html||"";g.html&&this.setHtml(g.html);b.isShow(this.container)?this.show():this.hide()},setHtml:function(g){this.html=g;this.body.innerHTML=g},append:function(g){this.body.appendChild(g)},getSize:function(){return{width:b.getClientWidth(this.container),height:b.getClientHeight(this.container)}},getBodySize:function(){return{width:parseInt(b.getStyle(this.body,
"width"),10),height:parseInt(b.getStyle(this.body,"height"),10)}},show:function(){b.show(this.container);k.notifyObservers(this,"show",this.getBodySize());this._isShow=true},hide:function(){b.hide(this.container);k.notifyObservers(this,"hide");this._isShow=false},isShow:function(){return this._isShow},toggleShow:function(){this.isShow()?this.hide():this.show()},getZIndex:function(){return this._zIndex},setZIndex:function(g){b.setStyle(this.container,"zIndex",g);this._zIndex=g},setXY:function(g,j){this.setX(g);
this.setY(j)},setX:function(g){b.setStyle(this.container,"left",g+"px")},setY:function(g){b.setStyle(this.container,"top",g+"px")},setWidth:function(g){b.setStyle(this.container,"width",g+"px")},getWidth:function(){return parseInt(b.getStyle(this.container,"width"))},setHeight:function(g){b.setStyle(this.container,"height",g+"px")},getHeight:function(){return parseInt(b.getStyle(this.container,"height"))}});e.ui=e.ui||{};e.ui.Panel=n});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};var n=new e.Class({init:function(g){var j=this;g=g||{};this._id=g.id||(new Date).getTime();g.name=g.id;g.width=g.width||300;g.height=g.height||300;g.appendTo=g.appendTo||document.body;g.zIndex=g.zIndex||1;var d=b.node("div",{"class":"ui_boxy"});d.innerHTML='                <div style="position:relative; z-index:1;"><div class="ui_boxyClose" id="ui_boxyClose_'+this._id+'"></div></div>                <div class="ui_boxyWrapper" id="ui_boxyWrapper_'+
this._id+'"></div>                ';g.appendTo.appendChild(d);g.container=d;g.body=b.id("ui_boxyWrapper_"+this._id);this._option=g;this._panel=new e.ui.Panel(g);this._panel.setWidth(g.width);this._panel.setHeight(g.height);if(g.modal){this._maskLayer=new e.ui.MaskLayer({appendTo:g.appendTo,zIndex:g.zIndex,opacity:0.5});this._maskLayer.show()}this._panel.setZIndex(g.zIndex+1);this.setCenter(g);new e.ui.Drag(d,d,{isLimited:true});d=b.id("ui_boxyClose_"+this._id);this._wrapper=b.id("ui_boxyWrapper_"+
this._id);k.on(d,"click",function(){j.close();g.onClose&&g.onClose.apply(j);k.notifyObservers(j,"close")})},getPanel:function(){return this._panel},show:function(){this._panel.show()},hide:function(){this._panel.hide()},setZIndex:function(g){this._panel.setZIndex(g)},setCenter:function(g){var j=b.getClientWidth(),d=b.getClientHeight();this._panel.setXY(j>g.width?(j-g.width)/2:0,d>g.height?(d-g.height)/2:0)},isShow:function(){return this._panel.isShow()},close:function(){this._maskLayer&&this._maskLayer.remove();
this._option.appendTo.removeChild(this._option.container)}});e.ui.Boxy=n});
Jet().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};var n=e.ui.Bubble=e.Class({init:function(g){g=g||{};g=this.option=e.extend({bubbleParent:document.body,className:"",hasCloseButton:true,closeOnHide:false,zIndex:1E6},g);var j=this._getId(),d='<div id="bubble_tip_pointer_'+j+'" class="bubble_tip_pointer bubble_tip_pointer_left"></div>                <div class="bubble_tip_head"></div>                <div class="bubble_tip_body">                    <div class="bubble_tip_title"><a id="bubble_tip_close_'+j+
'" href="###" class="bubble_tip_close" title="\u5173\u95ed">x</a>                        <span id="bubble_tip_title_'+j+'"></span></div>                    <div id="bubble_tip_content_'+j+'" class="bubble_tip_content"></div>                </div>                <div id="bubble_tip_foot_'+j+'" class="bubble_tip_foot">                    <a id="bubble_tip_btn_next_'+j+'" href="###" class="bubble_tip_btn"></a>                    <a id="bubble_tip_btn_ok_'+j+'" href="###" class="bubble_tip_btn"></a>                </div>                <iframe width="100%" height="100%" class="bubble_tip_bg_iframe" src="about:blank"></iframe>',
f=b.node("div",{"class":"bubble_tip_container "+g.className});f.innerHTML=d;b.setCssText(f,"left: -10000px; top: 0px; z-index: "+g.zIndex+";");g.bubbleParent.appendChild(f);this._container=f;this._title=b.id("bubble_tip_title_"+j);this._content=b.id("bubble_tip_content_"+j);this._pointer=b.id("bubble_tip_pointer_"+j);this._okBtn=b.id("bubble_tip_btn_ok_"+j);this._nextBtn=b.id("bubble_tip_btn_next_"+j);this._closeBtn=b.id("bubble_tip_close_"+j);g.hasCloseButton||b.hide(this._closeBtn);var h=this;g=
{onCloseBtnClick:function(o){o.preventDefault();o.stopPropagation();k.notifyObservers(h,"onBubbleClose",h);h.hide()},onOkButtonClick:function(o){o.preventDefault();o.stopPropagation();k.notifyObservers(h,"onBubbleOkBtnClick",h);h.hide()},onNextButtonClick:function(o){o.preventDefault();o.stopPropagation();k.notifyObservers(h,"onBubbleNextBtnClick",h)}};k.on(this._closeBtn,"click",g.onCloseBtnClick);k.on(this._okBtn,"click",g.onOkButtonClick);k.on(this._nextBtn,"click",g.onNextButtonClick)},getElement:function(){return this._container},
show:function(g){g=g||{};g=e.extend({pointerPosition:"top right",pointerOffset:20,pointerSize:[18,12],position:[0,0],target:null,targetOffset:[0,0]},g);if(!this._checkPointerPosition(g.pointerPosition))throw Error("Bubble >>>> the pointerPosition's value is not correct");this._setPointerPosition(g.pointerPosition,g.pointerOffset);this._setBubblePosition(g);b.show(this._container)},setZIndex:function(g){b.setStyle(this._container,"zIndex",g)},setContainerStyle:function(g,j){b.setStyle(this._container,
g,j)},setTitle:function(g){this._title.innerHTML=g},setContent:function(g){this._content.innerHTML=g},showButton:function(g,j,d){g=this["_"+g+"Btn"];d=e.isUndefined(d)?false:true;if(g){g.innerHTML=j;b.show(g);d?b.addClass(g,"bubble_tip_btn_next"):b.addClass(g,"bubble_tip_btn_ok")}return g},hideButton:function(g){(g=this["_"+g+"Btn"])&&b.hide(g)},hide:function(){b.hide(this._container);this.option.closeOnHide&&this.close()},close:function(){if(this._isClosed)e.warn("Trying to close a closed bubbleTip!",
"BubbleTip");else{this._isClosed=true;k.off(this._closeBtn,"click");k.off(this._okBtn,"click");k.off(this._nextBtn,"click");this._container.parentNode&&this._container.parentNode.removeChild(this._container);for(var g in this)this.hasOwnProperty(g)&&delete this[g]}},isClose:function(){return this._isClosed},_getId:function(){if(!n.__id)n.__id=0;return n.__id++},_setPointerPosition:function(g,j){var d=g.split(" "),f=this._pointer;b.setClass(f,"bubble_tip_pointer bubble_tip_pointer_"+d[0]);b.setCssText(f,
"");b.setStyle(f,d[1],j+"px")},_setBubblePosition:function(g){var j=g.position;if(g.target){var d=g.pointerPosition.split(" "),f=this._calculateBubblePosition(g.target,g.pointerSize,g.pointerOffset),h=0;if(/top|bottom/.test(d[0]))h=1;j[0]=f[d[h]+h];h=(h+1)%2;j[1]=f[d[h]+h]}d=j[1]+g.targetOffset[1];b.setStyle(this._container,"left",j[0]+g.targetOffset[0]+"px");b.setStyle(this._container,"top",d+"px")},_calculateBubblePosition:function(g,j,d){var f=this._container,h=b.getClientXY(g),o=b.getOffsetWidth(f);
f=b.getOffsetHeight(f);var p=b.getWidth(g);g=b.getHeight(g);var s=h[0];h=h[1];d=d+j[0]/2;j=j[1];return{top0:h+g+j,bottom0:h-f-j,left0:s+p+j,right0:s-o-j,top1:h+g/2-d,bottom1:h+g/2-f+d,left1:s+p/2-d,right1:s+p/2-o+d}},_checkPointerPosition:function(g){g=g.split(" ");var j=/left|right/,d=/top|bottom/;if(d.test(g[0])&&j.test(g[1]))return true;else if(j.test(g[0])&&d.test(g[1]))return true;return false}})});
Jx().$package(function(e){var b=e.dom,k=e.string,n=e.event,g=0;e.ui=e.ui||{};e.ui.Button=new e.Class({_class:"ui_button",_available:true,_shownInLogic:false,_getButtionId:function(){return g++},init:function(j){j=j||{};var d=this._getButtionId(),f={appendTo:b.getDocumentElement(),className:"",text:"",title:""};e.extend(f,j);this._node=b.node("a",{id:"ui_button_"+d,"class":this._class+" "+k.encodeScript(f.className),title:k.encodeScript(f.title),hidefocus:"",href:"###"});this._node.innerHTML=k.encodeHtml(f.text);
f.appendTo.appendChild(this._node);f.event&&this.attachEvent(f.event);if(f.isStopPropagation){n.on(this._node,"mousedown",function(h){h.stopPropagation()});n.on(this._node,"click",function(h){h.stopPropagation()})}},attachEvent:function(j){for(var d in j)n.on(this._node,d,j[d])},removeEvent:function(j){for(var d in j)n.off(this._node,d,j[d])},setAvailability:function(j){this._available=!!j;this._shownInLogic&&b[this._available?"show":"hide"](this._node)},hide:function(){this._shownInLogic=false;if(this._available){b.hide(this._node);
n.notifyObservers(this,"hide")}},show:function(){this._shownInLogic=true;if(this._available){b.show(this._node);n.notifyObservers(this,"show")}},setText:function(j){this._node.innerHTML=k.encodeHtml(j)},setTitle:function(j){this._node.title=k.encodeScript(j)},getNode:function(){return this._node},disable:function(j){(j=j||false)?b.addClass(this._node,"window_button_disabled"):b.removeClass(this._node,"window_button_disabled")}})});
Jx().$package(function(e){var b=e.event,k=null;e.ui=e.ui||{};var n=new e.Class({extend:e.ui.Panel},{init:function(g){this.parentPopupBox=g.parentPopupBox;n.callSuper(this,"init",g);var j=this;this.catchMouseUp=true;if(g.noCatchMouseUp)this.catchMouseUp=false;this.closeOnEsc=true;if(g.noCloseOnEsc)this.closeOnEsc=false;this.onDocumentKeydown=function(d){if(d.keyCode===27){d.preventDefault();j.hide()}};this.onMouseUp=function(){j.isShow()&&j.hide()};this.onDocumentClick=function(){j.hide()};this.onWindowResize=
function(){j.hide()}},show:function(){k&&this.parentPopupBox!=k&&k.hide();this.catchMouseUp&&b.on(document.body,"mouseup",this.onMouseUp);this.closeOnEsc&&b.on(document,"keydown",this.onDocumentKeydown);b.on(document.body,"click",this.onDocumentClick);b.on(window,"resize",this.onWindowResize);this.parentPopupBox||(k=this);n.callSuper(this,"show")},hide:function(){b.off(document.body,"click",this.onDocumentClick);b.off(document,"keydown",this.onDocumentKeydown);b.off(window,"resize",this.onWindowResize);
b.off(document.body,"mouseup",this.onMouseUp);if(k)if(!this.parentPopupBox){k!==this&&k.hide();k=null}n.callSuper(this,"hide")},destroy:function(){this.container.parentNode.removeChild(this.container)}});e.ui.PopupBox=n});
Jet().$package(function(e){var b=e.dom,k=e.event,n=0,g=0,j={},d={},f=function(a){a.preventDefault();a.stopPropagation()};e.ui=e.ui||{};var h=e.ui.ContextMenu=new e.Class({init:function(a){var c=this,l=this.id="context_menu_"+(a.id||n++),m=a.name||l,r=this._parent=a.container||(a.parentMenu?a.parentMenu._parent:null)||document.body,u=a.className||"";this.parentMenu=a.parentMenu;c=this;var x=this._el=b.id(l)||b.node("div",{id:l,"class":"context_menu",style:"display: none;"});u='<div class="context_menu_container "'+
u+'"><ul id="'+l+'_body" class="context_menu_item_list"></ul></div>';if(e.browser.ie)u+='<iframe class="context_menu_iframe" src="'+alloy.CONST.MAIN_URL+'domain.html"></iframe>';x.innerHTML=u;r.appendChild(x);a.width&&b.setStyle(x,"width",a.width+"px");this._body=b.id(l+"_body");k.off(x,"contextmenu");k.on(x,"contextmenu",f);k.addObserver(document,"beforeStart",function(){c.isShow()&&c.hide()});this._popupBox=new e.ui.PopupBox({id:l,name:m,noCatchMouseUp:true,parentPopupBox:this.parentMenu?this.parentMenu._popupBox:
null,container:x});k.addObserver(this._popupBox,"hide",function(){c.hideSubmenu();k.notifyObservers(c,"onHide")});this.setZIndex(9E6);this._itemArr=[];this._key2Item={};if(a.items){this._items_config=a.items;this.addItems(a.items)}if(a.triggers){m=a.triggerEvent||"contextmenu";r=function(v){v.preventDefault();c.show(v.clientX,v.clientY)};for(x=0;u=a.triggers[x];x++)k.on(u,m,r)}a.beforeShow&&k.addObserver(this,"BeforeShow",a.beforeShow);j[l]=this},getId:function(){return this.id},setClass:function(a){b.setClass(this._el,
"context_menu "+a)},addItem:function(a){var c=a.type||"item";a.parentMenu=this;switch(c){case "item":a=new o(a);break;case "flash":a=new p(a);break;case "separator":a=new s(a);break;case "submenu":a.parentMenu=this;a=new i(a);break;default:a=null}if(a){this._body.appendChild(a.getElement());this._itemArr.push(a)}},addItems:function(a){for(var c=0,l=a.length;c<l;c++)this.addItem(a[c])},refresh:function(){if(this._items_config){this.clearItems();this.addItems(this._items_config)}},clearItems:function(){for(var a=
this._itemArr.shift();a;){this._body.removeChild(a.getElement());a.destory();a=this._itemArr.shift()}},removeItemAt:function(a){for(var c=0;c<this._itemArr.length;c++){var l=this._itemArr[c];if(a==c&&l){this._body.removeChild(l.getElement());l.destory();this._itemArr.splice(c,1)}}},getItemAt:function(a){if(a<this._itemArr.length){if(a<0)a=this._itemArr.length+a;return this._itemArr[a]}else return null},getElement:function(){return this._el},getBody:function(){return this._body},setZIndex:function(a){this._popupBox.setZIndex(a)},
getZIndex:function(){return this._popupBox.getZIndex()},setArgument:function(a){this._argument=a},getArgument:function(){return this._argument},show:function(a,c,l,m){k.notifyObservers(this,"BeforeShow",this);a=a||0;c=c||0;l=typeof l==="undefined"?5:l;var r=this._popupBox,u=a+l,x=c+l,v=0,E=0,D=e.browser.ie;if(m){v=b.getOffsetWidth(m);E=b.getOffsetHeight(m);u+=v+5;x-=1;if(D==9||D==8)u+=2}r.setX("-10000");r.show();m=b.getClientWidth(this._el);var K=b.getClientHeight(this._el),H=b.getClientWidth(),z=
b.getClientHeight();if(u+m>H&&a-m-l>0)if(v){u=a-m-l-5;if(D==9||D==8)u+=2}else u=a-m-l;if(x+K>z&&c-K-l>0)x=E?c-K-l+E+1:c-K-l;r.setXY(u,x);k.notifyObservers(this,"onShow",this)},hide:function(){this._popupBox.hide();k.notifyObservers(this,"onHide",this)},hideSubmenu:function(){for(var a in this._itemArr)this._itemArr[a].getSubmenu&&this._itemArr[a].getSubmenu().hide()},isShow:function(){return this._popupBox.isShow()},destory:function(){this._el.innerHTML="";k.off(this._el,"contextmenu");this.clearItems();
for(var a in this)this.hasOwnProperty(a)&&delete this[a]}});h.getMenu=function(a){return j[a]};var o=e.ui.ContextMenuItem=new e.Class({init:function(a){var c={title:a.title||a.text||"",text:a.text||"",link:a.link||"javascript:void(0);",icon:a.icon||null,enable:typeof a.enable==="undefined"?true:a.enable,onClick:a.onClick||null,argument:a.argument};this.option=c;this.parentMenu=a.parentMenu;a=this._el=b.node("li",{"class":"context_menu_item_container"});this.render();c.enable?this.enable():this.disable();
var l=this;k.on(a,"click",c.onClick?function(m){m.preventDefault();l._isEnable&&c.onClick.call(this,m,l,l.parentMenu)}:function(m){m.preventDefault()})},setText:function(a,c){this.option.text=a;this.option.title=c||a;this.render()},setIcon:function(a){this.option.icon=a;this.render()},render:function(){var a=this.option,c='<a class="context_menu_item" href="'+a.link+'" title="'+a.title+'">';if(a.icon){var l=a.icon;c+='<span class="context_menu_item_icon '+(l.className||"")+'" style="'+((l.style||
"")+(l.url?"background-image: url("+l.url+");":""))+'"></span>'}c+='<span class="context_menu_item_text">'+a.text+"</span>";c+="</a>";this._el.innerHTML=c},getElement:function(){return this._el},show:function(){b.show(this._el)},hide:function(){b.hide(this._el)},disable:function(){this._isEnable=false;b.addClass(this._el,"context_menu_item_disable")},enable:function(){this._isEnable=true;b.removeClass(this._el,"context_menu_item_disable")},destory:function(){this._el.innerHTML="";k.off(this._el,"click");
for(var a in this)this.hasOwnProperty(a)&&delete this[a]}}),p=e.ui.FlashContextMenuItem=new e.Class({init:function(a){var c={title:a.title||a.text||"",text:a.text||"",link:a.link||"javascript:void(0);",icon:a.icon||null,enable:typeof a.enable==="undefined"?true:a.enable,onClick:a.onClick||null,folderId:a.folderId||-1,argument:a.argument};this.option=c;this.parentMenu=a.parentMenu;a=this._el=b.node("li",{"class":"context_menu_item_container"});var l=this._flashLi=b.node("li",{"class":"context_menu_item_container"}),
m=this._itemId="context_menu_flashItem_"+ ++g;m=this._flashUl=b.node("ul",{id:m,"class":"context_menu_item_list context_menu_flashitem_item"});d[g]=m;m.appendChild(l);this.render();document.body.appendChild(m);c.enable?this.enable():this.disable();var r=this;k.on(a,"click",c.onClick?function(u){u.preventDefault();r._isEnable&&c.onClick.call(this,u,r,r.parentMenu)}:function(u){u.preventDefault()});r=this;a={onShow:function(){var u=b.getClientXY(r._el),x=0,v=0;if(e.browser.ie){v=x=2;if(e.browser.ie==
6||e.browser.ie==7)v=1}b.setXY(r._flashUl,u[0]+x+"px",u[1]+v+"px");b.setStyle(r._flashUl,"width",b.getClientWidth(r._el)+"px");b.setStyle(r._flashUl,"height",b.getClientHeight(r._el)+"px");b.setStyle(r._flashUl,"zIndex",r.parentMenu.getZIndex()+1);alloy.portal.getLoginLevel()>1&&alloy.storage.getDefaultDisk()?r._flashUploader.showFileSelector():r._flashUploader.hideFileSelector()},onHide:function(){b.setXY(r._flashUl,0,0);b.setStyle(r._flashUl,"width","1px");b.setStyle(r._flashUl,"height","1px")}};
k.addObserver(this.parentMenu,"onShow",a.onShow);k.addObserver(this.parentMenu,"onHide",a.onHide)},setText:function(){},setIcon:function(){},render:function(){var a=this.option;this._el.innerHTML='<a class="context_menu_item" href="'+a.link+'"></a>';var c='<a class="context_menu_item" href="'+a.link+'" title="'+a.title+'">';if(a.icon){var l=a.icon;c+='<span class="context_menu_item_icon '+(l.className||"")+'" style="'+((l.style||"")+(l.url?"background-image: url("+l.url+");":""))+'"></span>'}c+='<div class="explorer_upload_holder2" style="padding:0 5px"></div>';
c+="</a>";this._flashLi.innerHTML=c;a={callback:"alloy.flashUploadManager.flashEventListener",mode:0,autoshow:false,holder:b.mini(".explorer_upload_holder2",this._flashLi)[0],text:'<span class="context_menu_item_text">'+a.text+"</span>",width:"100%",height:"100%",extInfo:'{"folderId":'+this.option.folderId+"}"};this._flashUploader=new alloy.flashUploadManager.FlashUploader(a);b.setXY(this._flashUl,0,0);b.setStyle(this._flashUl,"width","1px");b.setStyle(this._flashUl,"height","1px")},getElement:function(){return this._el},
show:function(){b.show(this._el)},hide:function(){b.hide(this._el)},disable:function(){this._isEnable=false;b.addClass(this._el,"context_menu_item_disable")},enable:function(){this._isEnable=true;b.removeClass(this._el,"context_menu_item_disable")},destory:function(){this._el.innerHTML="";this._flashUl.innerHTML="";document.body.removeChild(this._flashUl);k.off(this._el,"click");for(var a in this)this.hasOwnProperty(a)&&delete this[a]}});p.getItem=function(a){return d[a]};var s=e.ui.ContextMenuSeparator=
new e.Class({init:function(){(this._el=b.node("li",{"class":"context_menu_separator_container"})).innerHTML='<span class="context_menu_separator"></span>'},getElement:function(){return this._el},show:function(){b.show(this._el)},hide:function(){b.hide(this._el)},destory:function(){this._el.innerHTML="";for(var a in this)this.hasOwnProperty(a)&&delete this[a]}}),i=e.ui.ContextSubmenuItem=new e.Class({extend:o},{init:function(a){if(!a.items)throw Error("J.ui.ContextSubmenuItem: option.items is null!");
a.title=a.title||a.text||"";var c={title:null,text:"",autoHide:true,link:"javascript:void(0);",icon:null,enable:true,subWidth:null,parentMenu:a.parentMenu};delete a.parentMenu;a=this.option=e.extend(c,a);this.parentMenu=a.parentMenu;var l=this._el=b.node("li",{"class":"context_menu_item_container"});this.render();a.enable?this.enable():this.disable();this._submenu=new h({parentMenu:a.parentMenu,width:a.subWidth,beforeShow:a.beforeShow,items:a.items});var m=this,r=m.sunmenuTimer=0,u=function(){m._submenu.isShow()&&
m._submenu.hide()},x={onItemMouseenter:function(v){v.stopPropagation();if(m._isEnable){v=b.getClientXY(this);m._submenu.setZIndex(m.parentMenu.getZIndex());m._submenu.show(v[0],v[1],0,this)}},onItemMouseleave:function(){if(r){window.clearTimeout(r);r=0}r=window.setTimeout(u,200)},onSubmenuMouseenter:function(){if(r){window.clearTimeout(r);r=0}b.addClass(l,"context_menu_item_hover")},onSubmenuMouseleave:function(v){x.onItemMouseleave(v)},onSubmenuShow:function(){b.addClass(l,"context_menu_item_hover")},
onSubmenuHide:function(){b.removeClass(l,"context_menu_item_hover")}};c=m._submenu.getElement();k.on(l,"mouseenter",x.onItemMouseenter);if(a.autoHide){k.on(l,"mouseleave",x.onItemMouseleave);k.on(c,"mouseenter",x.onSubmenuMouseenter);k.on(c,"mouseleave",x.onSubmenuMouseleave)}k.addObserver(m._submenu,"onHide",x.onSubmenuHide);k.on(l,"click",a.onClick?function(v){v.preventDefault();if(m._isEnable){a.onClick.call(this,v,m);x.onItemMouseenter.call(this,v)}}:function(v){v.preventDefault();x.onItemMouseenter.call(this,
v)})},getSubmenu:function(){return this._submenu},render:function(){var a=this.option,c='<a class="context_menu_item" href="'+a.link+'" title="'+a.title+'">';if(a.icon){var l=a.icon;c+='<span class="context_menu_item_icon '+(l.className||"")+'" style="'+((l.style||"")+(l.url?"background-image: url("+l.url+");":""))+'"></span>'}c+='<span class="context_menu_item_text">'+a.text+'</span><span class="context_menu_item_subicon"></span></a>';this._el.innerHTML=c}})});
Jet().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.DivSelect=new e.Class({init:function(n,g,j,d,f,h){this._selectName=g;this._dataObj=j;this._selOption=d;this._isUpper=h||false;j=j.data;n=document.getElementById(n);if(!n||typeof n==="undefined")return false;h=document.createElement("div");if(isNaN(f)||f=="")f=150;else if(f<26)f=26;h.style.width=f;var o="";if(this._isUpper){h.style.position="relative";var p=15*j.length;o="top:-"+((p>150?150:p)+4)+"px;"}p="";if(j.length>0){p+="<input type='hidden' name='"+
g+"' id='"+g+"' value='"+this.relv(d,j)+"'>";p+="<div id='_a_"+g+"' style='width:"+f+"px;height:18px; border:1px #728EA4 solid;'>";p+="<div id='_v_"+g+"' style='position:relative;float:left;left:2px;width:"+(f-22)+"px;height:18px;font-size:12px;overflow:hidden;line-height:18px;'>"+this.reStr(j,d)+"</div>";p+="<div id='_arr_"+g+"' class='divSelect_arr' style='position:relative;float:right;right:0px;width:18px;height:18px;text-align:center;font-family:Webdings;font-size:16px;overflow:hidden;background-color:#FFF;cursor:pointer!important;cursor:hand;'></div>";
p+="</div>";p+="<div id='_b_"+g+"' style='position:absolute; background-color:#FFFFFF; width:"+f+"px; height:"+this.height(j.length)+"px;border:1px #728EA4 solid;overflow-x:hidden;overflow-y:auto;display:none; z-index:99999;"+o+"'>";for(f=0;f<j.length;f++){o=j[f][0]==d?this.style(2):this.style(1);p+="<div id='_s_"+g+f+"' style='"+o+"' >"+j[f][1]+"</div>"}p+="</div>"}else{p+="<input type='hidden' name='"+g+"' id='"+g+"' value='"+d+"'>";p+="<div id='_a_"+g+"' style='width:"+f+"px;height:18px; border:1px #728EA4 solid;'>";
p+="<div id='_v_"+g+"' style='position:relative;float:left;left:2px;width:"+(f-22)+"px;height:18px;font-size:12px;overflow:hidden;line-height:18px;'></div>";p+="<div id='_arr_"+g+"' class='divSelect_arr' style='position:relative;float:right;right:0px;width:18px;height:18px;text-align:center;font-family:Webdings;font-size:16px;overflow:hidden;background-color:#FFF;cursor:pointer!important;cursor:hand;'></div>";p+="</div>";p+="<div id='_b_"+g+"' style='position:absolute; background-color:#FFFFFF; width:"+
f+"px; height:"+this.height(0)+"px;border:1px #728EA4 solid;overflow-x:hidden;overflow-y:auto;display:none; z-index:99999;'></div>"}h.innerHTML=p;n.appendChild(h);var s=this;d=function(){s.showOptions()};k.on(b.id("_v_"+g),"click",d);k.on(b.id("_arr_"+g),"click",d);if(j.length>0){d=function(){s.css(this,3)};n=function(){s.css(this,1)};h=function(){s.selected(this)};for(f=0;f<j.length;f++){k.on(b.id("_s_"+g+f),"mouseover",d);k.on(b.id("_s_"+g+f),"mouseout",n);k.on(b.id("_s_"+g+f),"click",h)}}},value:function(n){n=
n||this._selectName;return document.getElementById(n).value},text:function(n){n=n||this._selectName;return document.getElementById("_v_"+n).innerHTML},selected:function(n){for(var g=this._dataObj.data,j=n.innerHTML,d=0;d<g.length;d++){if(g[d][1]===j)b.id(this._selectName).value=g[d][0];b.id("_s_"+this._selectName+d).style.cssText=this.style(1)}b.id("_v_"+this._selectName).innerHTML=j;n.style.cssText=this.style(2);this.hidden();k.notifyObservers(this,"selectedChanged")},relv:function(n,g){for(var j=
0;j<g.length;j++)if(g[j][0]==n)return n;if(n==null||n=="")return g[0][0]},reStr:function(n,g){for(var j=0;j<n.length;j++)if(n[j][0]==g)return n[j][1];if(g==null||g=="")return n[0][1]},height:function(n){n=n>10||n<1?150:n*15;n+=2;return n},showOptions:function(n){n=n||this._selectName;n=document.getElementById("_b_"+n);n.style.display=n.style.display=="none"?"":"none"},hidden:function(){document.getElementById("_b_"+this._selectName).style.display="none"},style:function(n){var g="";switch(n){case 1:g=
"height:15px; font-size:12px; line-height:15px; overflow:hidden; background-color:#FFFFFF; color:#000000; font-weight:normal;";break;case 2:g="height:15px; font-size:12px; line-height:15px; overflow:hidden; background-color:#315DAD; color:#FFFFFF; font-weight:bold;";break;case 3:g="height:15px; font-size:12px; line-height:15px; overflow:hidden; background-color:#D8D8D8; color:#000000; font-weight:normal;"}return g},css:function(n,g){if(b.id("_v_"+this._selectName).innerHTML!=n.innerHTML)n.style.cssText=
this.style(g)}})});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.IframeScroller=function(n){this.container=n.parentNode;if(e.platform.iPad&&e.platform.iPad.split(".")[0]>=4)this.container=n.parentNode.parentNode;this.iframe=n;this.holding=false;this.offsetY=this.offsetX=this.posy=this.posx=0;var g=this;this.observers={onTouchStart:function(j){j=j.changedTouches[0];g.posx=j.pageX;g.posy=j.pageY;g.minX=b.getWidth(g.container)-b.getWidth(g.iframe);g.minY=b.getHeight(g.container)-b.getHeight(g.iframe);
k.on(g.iframe,"touchmove",g.observers.onTouchMove);k.on(g.iframe,"touchend",g.observers.onTouchEnd)},onTouchMove:function(j){if(!(j.changedTouches.length>1)){j.preventDefault();j.stopPropagation();var d=j.changedTouches[0];j=d.pageX;d=d.pageY;var f=g.offsetX-(g.posx-j),h=g.offsetY-(g.posy-d);if(f>0)f=0;else if(f<g.minX)f=g.minX;if(h>0)h=0;else if(h<g.minY)h=g.minY;n.style.left=f+"px";n.style.top=h+"px";g.offsetX=f;g.offsetY=h;g.posx=j;g.posy=d}},onTouchEnd:function(){k.off(g.iframe,"touchmove",g.observers.onTouchMove);
k.off(g.iframe,"touchend",g.observers.onTouchEnd)}};this.destroy=function(){k.off(this.iframe,"touchstart",this.observers.onTouchStart);k.off(this.iframe,"touchmove",this.observers.onTouchMove);k.off(this.iframe,"touchend",this.observers.onTouchEnd);this.container=this.iframe=null};k.on(this.iframe,"touchstart",this.observers.onTouchStart)}});
Jx().$package(function(e){var b=e.dom,k=new e.Class({init:function(n){this.el=n;this.parentEl=n.parentNode;this.loadingContainer=b.node("div",{"class":"loading_container"});this.loadingContainer.innerHTML='<div class="loading_img" id ="loading_img"></div>';this.parentEl.appendChild(this.loadingContainer);this.loadingImg=b.id("loading_img");n=b.getClientWidth(this.el);var g=b.getClientHeight(this.el);b.setStyle(this.loadingContainer,"width",n+"px");b.setStyle(this.loadingContainer,"height",g+"px");
this.setCenter(this.loadingImg,this.loadingContainer)},setCenter:function(n,g){var j=b.getClientWidth(g),d=b.getClientHeight(g),f=b.getClientWidth(n),h=b.getClientHeight(n);j=j>f?(j-f)/2:0;d=d>h?(d-h)/2:0;b.setStyle(n,"position","relative");b.setXY(n,j,d)},setXY:function(){},show:function(){b.hide(this.el);b.show(this.loadingContainer)},hide:function(){b.hide(this.loadingContainer);b.show(this.el)}});e.ui=e.ui||{};e.ui.Loading=k});
Jx().$package(function(e){var b=e.dom;e.ui=e.ui||{};e.ui.Marquee=new e.Class({init:function(k){var n=this;this.speed=k.speed||40;this.stopTime=k.stopTime||3E3;this.lineHeight=k.lineHeight||20;this.target=k.target;this.intervaler=this.lineTimer=this.timer=null;this.scrollHeight=this.lineHeight;this.isStop=false;this._onTimeRun=function(){n.scrollOneLine()}},scrollOneLine:function(){if(this.scrollHeight>0){this.scrollHeight--;var k=this.target.style.top.match(/-?\d+/);k=!k?0:parseInt(k[0]);this.target.style.top=
--k+"px";this.lineTimer=setTimeout(this._onTimeRun,this.speed)}else this.isStop||this.update()},stop:function(){this.timer&&clearTimeout(this.timer)},stopAll:function(){this.stop();this.lineTimer&&clearTimeout(this.lineTimer)},reset:function(){this.target.style.top="0px"},update:function(){if(!this.isStop){this.timer&&clearTimeout(this.timer);this.scrollHeight=this.lineHeight;var k=this.target.style.top.match(/\d+/),n=b.getScrollHeight(this.target);if(k&&n){k=parseInt(k[0]);if(k>=n){this.target.style.top=
this.lineHeight+"px";this.scrollOneLine();return}}this.timer=setTimeout(this._onTimeRun,this.stopTime)}},walkOnLastLine:function(){this._onTimeRun()}})});
Jx().$package(function(e){e.ui=e.ui||{};e.ui.Notifier=new e.Class({hasSupport:function(){return window.webkitNotifications?true:false},requestPermission:function(b){window.webkitNotifications.requestPermission(function(){b&&b(window.webkitNotifications.checkPermission()==0)})},notify:function(b,k,n){if(window.webkitNotifications.checkPermission()==0){b=window.webkitNotifications.createNotification(b,k,n);b.show();return b}return false}})});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.Pagination=new e.Class({init:function(n){this.pagebarEl=n.el;this.count=n.count;this.perPage=n.perPage||10;this.callback=n.callback||function(){};this.type=n.type||1;this.maxPage=Math.ceil(this.count/this.perPage);this.currentPage=n.currentPage||1;n=this.pagebarEl.children[0];this.pagelistEl=n.children[1];this.preEl=n.children[0];this.nextEl=n.children[2];this.maxPage>1?b.show(this.pagebarEl):b.hide(this.pagebarEl);this.turnTo(this.currentPage,
true);k.on(this.preEl,"click",e.bind(this.onPreElClick,this));k.on(this.nextEl,"click",e.bind(this.onNextElClick,this))},reset:function(n){this.count=e.isNumber(n.count)?n.count:this.count;this.perPage=n.perPage||this.perPage||10;this.callback=n.callback||this.callback||function(){};this.type=n.type||this.type||1;this.currentPage=n.currentPage||this.currentPage||1;this.maxPage=Math.ceil(this.count/this.perPage);this.maxPage>1?b.show(this.pagebarEl):b.hide(this.pagebarEl);this.setPage(this.currentPage)},
setPage:function(n){var g="",j=this.maxPage;this.currentPage=n;if(!(n>j||n<1)){if(this.type==1){if(j>8){g+='<a class="w'+(n+"").length+(n==1?" cur":"")+'" href="#" >1</a>';if(n<4){for(var d=2;d<5;d++)g+='<a class="w'+(d+"").length+(d==n?" cur":"")+'" href="#" >'+d+"</a>";g+="<span>...</span>"}else if(n+3>j){g+="<span>...</span>";for(d=j-3;d<j;d++)g+='<a class="w'+(d+"").length+(d==n?" cur":"")+'" href="#" >'+d+"</a>"}else{g+="<span>...</span>";for(d=n-1;d<n+2;d++)g+='<a class="w'+(d+"").length+(d==
n?" cur":"")+'" href="#" >'+d+"</a>";g+="<span>...</span>"}g+='<a class="w'+(j+"").length+(n==j?" cur":"")+'" href="#" >'+j+"</a>"}else for(d=1;d<=j;d++)g+='<a class="w'+(d+"").length+(d==n?" cur":"")+'" href="#" >'+d+"</a>";this.pagelistEl.innerHTML=g;b.setStyle(this.pagebarEl,"width","auto");b.setStyle(this.pagebarEl,"width",b.getClientWidth(this.pagebarEl.children[0])+10+"px");g=b.tagName("a",this.pagelistEl);d=0;for(var f=g.length;d<f;d++)k.on(g[d],"click",e.bind(this.onPagesElClick,this))}else if(this.type==
2){g=n+"/"+j;this.pagelistEl.innerHTML=g}b.removeClass(this.preEl,"preBtn_dis");b.removeClass(this.nextEl,"nextBtn_dis");if(n==1)b.addClass(this.preEl,"preBtn_dis");else n==j&&b.addClass(this.nextEl,"nextBtn_dis")}},turnTo:function(n,g){if(!(isNaN(n)||n<1||n>this.maxPage||!g&&n==this.currentPage)){this.setPage(n);this.callback({start:this.getStart(),end:this.getEnd()})}},onPagesElClick:function(n){n.stopPropagation();n.preventDefault();this.turnTo(+n.currentTarget.innerHTML)},onPreElClick:function(n){n.stopPropagation();
n.preventDefault();if(this.currentPage>1){this.currentPage--;this.setPage(this.currentPage);this.callback({start:this.getStart(),end:this.getEnd()})}},onNextElClick:function(n){n.stopPropagation();n.preventDefault();if(this.currentPage<this.maxPage){this.currentPage++;this.setPage(this.currentPage);this.callback({start:this.getStart(),end:this.getEnd()})}},getStart:function(){return(this.currentPage-1)*this.perPage},getEnd:function(){var n=this.currentPage*this.perPage-1;if(n>this.count-1)n=this.count-
1;return n}})});
Jx().$package(function(e){var b=e.event,k=e.dom,n=e.browser,g=new e.Class({init:function(d){if(!d.appendTo)throw Error("BaseEditor: appendTo is undefined.");this.option={keepCursor:d.keepCursor||false,brNewline:d.brNewline||false,clearNode:d.clearNode||false,nodeFilter:d.nodeFilter||null};var f=d.className||"rich_editor",h=this._container=k.node("div",{"class":f}),o=this._divArea=k.node("div",{"class":d.richClassName||f+"_div"});f=this._textArea=k.node("textarea",{"class":d.textClassName||f+"_text"});
h.appendChild(o);h.appendChild(f);d.appendTo.appendChild(h);this.setState(true);this.clear();var p=this;this._private={startTimeoutSaveRange:function(s){this.clearTimeoutSaveRange();this._keyupTimer=window.setTimeout(this.timeoutSaveRange,s||0)},timeoutSaveRange:function(){p.saveRange(true)},clearTimeoutSaveRange:function(){if(this._keyupTimer){window.clearTimeout(this._keyupTimer);this._keyupTimer=0}},startTimeoutClearNodes:function(s){this.clearTimeoutClearNodes();this._clearNodesTimer=window.setTimeout(this.timeoutClearNodes,
s||0)},timeoutClearNodes:function(){p.clearNodes()},clearTimeoutClearNodes:function(){if(this._clearNodesTimer){window.clearTimeout(this._clearNodesTimer);this._clearNodesTimer=0}}};b.on(o,"blur",e.bind(g.observer.onBlur,p));b.on(o,"mouseup",e.bind(g.observer.onMouseup,p));b.on(o,"drop",e.bind(g.observer.onDrop,p));b.on(o,"paste",e.bind(g.observer.onPaste,p));b.on(o,"keyup",e.bind(g.observer.onKeyup,p));n.ie&&b.on(o,"keydown",e.bind(g.observer.onBackspaceKeydown,p));n.adobeAir&&b.on(o,"keyup",e.bind(g.observer.onAdobeAirKeyup,
p));if(e.platform.linux&&n.firefox)b.on(o,"keypress",e.bind(g.observer.onLinuxKeypress,p));else e.platform.win&&n.opera?b.on(o,"keypress",e.bind(g.observer.onKeydown,p)):b.on(o,"keydown",e.bind(g.observer.onKeydown,p));b.addObserver(this,"Paste",e.bind(g.observer.onEditorPaste,p));n.firefox&&b.on(o,"keypress",e.bind(g.observer.onKeypress,p))},onKeyUp:function(){},isEnable:function(){return this._isEnable},setState:function(d){this._isEnable=d;var f=this._textArea,h=this._divArea;if(d){k.show(h);k.hide(f);
f.readonly=true;h.setAttribute("contentEditable",true)}else{k.hide(h);k.show(f);f.readonly=false;h.setAttribute("contentEditable",false)}},isEditable:function(){return this._isEditable},setEditable:function(d){this._isEditable=d;if(this._isEnable)this._divArea.setAttribute("contenteditable",d);else this._textArea.readonly=!d},destory:function(){b.off(divArea,"focus");b.off(divArea,"blur");b.off(divArea,"mousedown");b.off(divArea,"mouseup");b.off(divArea,"keyup");b.off(divArea,"paste");b.off(divArea,
"drop");b.off(divArea,"keypress");b.off(divArea,"keydown");this.setState(false);this._container.parentNode.removeChild(this._container);for(var d in this)this.hasOwnProperty(d)&&delete this[d]},getHtml:function(){return this._divArea.innerHTML},setHtml:function(d){this._divArea.innerHTML=d},clear:function(){if(this._isEnable){this.option.keepCursor&&this.saveRange(true);n.ie?this.setHtml(""):this.setHtml("<br/>")}else this.setText("")},setText:function(d){this._textArea.value=d},getText:function(){return this._textArea.value},
isEmpty:function(){if(this._isEnable){var d=this.getHtml();return d===""?true:!n.ie&&d.toLowerCase()==="<br>"?true:false}else return this.getText()===""?true:false},focus:function(){if(this._isEnable){this._divArea.focus();this.option.keepCursor&&this.restoreRange()}else this._textArea.focus()},blur:function(){this._isEnable?this._divArea.blur():this._textArea.blur()},save:function(){this.setText(this.getHtml())},restore:function(){this.setHtml(this.getText())},getRange:function(){return g.getRange(this._divArea)},
saveRange:function(d){if(d=d?this.getRange():g.getRange())this._lastRange=d},restoreRange:function(){if(this._lastRange){var d=g.getSelection();if(d.addRange){d.removeAllRanges();d.addRange(this._lastRange)}else if(d=g.getRange()){d.setEndPoint("EndToStart",this._lastRange);d.collapse(false);d.setEndPoint("EndToEnd",this._lastRange);d.select()}}},insertHtml:function(d){if(d!==""){var f=this.getRange();if(f)if(f.pasteHTML){f.pasteHTML(d);f.collapse(false);f.select()}else{if(f.createContextualFragment){d+=
'<img style="display:inline;width:1px;height:1px;">';var h=f.createContextualFragment(d);d=h.lastChild;f.deleteContents();f.insertNode(h);f.setEndAfter(d);f.setStartAfter(d);h=g.getSelection();h.removeAllRanges();h.addRange(f);f=this._divArea;h=k.getRelativeXY(d,f);f.scrollTop=h[1]<f.scrollHeight?f.scrollHeight:h[1];n.opera||document.execCommand("Delete",false,null);g.contains(f,d)&&f.removeChild(d)}}else{if(this.isEmpty())this._divArea.innerHTML=d;else this._divArea.innerHTML+=d;f=g.getRange();d=
this._divArea.lastChild;if(f.selectNode){f.setEndAfter(d);f.setStartAfter(d);h=g.getSelection();h.removeAllRanges();h.addRange(f)}else if(f.moveToElementText){f.moveToElementText(d);f.collapse(false);f.select()}}this.option.keepCursor&&this.saveRange()}},insertText:function(d){if(d!==""){var f=this._textArea;if(n.ie){var h=g.getRange();if(h)h.text=d;else f.value+=d}else if(e.isUndefined(f.selectionStart))f.value+=d;else{h=f.value;var o=f.selectionStart,p=f.selectionEnd,s=o+d.length;f.value=h.substring(0,
o)+d+h.substring(p);f.setSelectionRange(s,s)}}},newline:function(){this._isEnable?this.insertHtml("<br/>"):this.insertText("\n")},clearNodes:function(){for(var d=this._divArea,f,h,o=d.childNodes,p=o.length-1,s;p>=0;p--){s=o[p];if(s.nodeType!==3)if(s.nodeType===1){if(s.nodeName!=="BR")if(!(this.option.nodeFilter&&this.option.nodeFilter(s))){f=s.textContent||s.innerText||"";if(f!==""){f=document.createTextNode(f);h||(h=f);d.replaceChild(f,s)}else d.removeChild(s)}}else d.removeChild(s)}if(h){d=g.getSelection();
if(d.extend){d.extend(h,h.length);d.collapseToEnd()}}}});g.observer={onBlur:function(){this._private.clearTimeoutSaveRange()},onMouseup:function(){this.option.keepCursor&&this.saveRange()},onLinuxKeypress:function(d){var f=Number(d.keyCode),h=d.altKey,o=d.ctrlKey,p=d.shiftKey;if(Number(d.charCode)===118&&o&&!h&&!p)b.notifyObservers(this,"Paste",d);else if(f===13&&this.option.brNewline){d.preventDefault();this.newline()}},onAdobeAirKeyup:function(d){var f=d.altKey,h=d.ctrlKey,o=d.shiftKey;Number(d.keyCode)===
86&&h&&!f&&!o&&b.notifyObservers(this,"Paste",d)},onBackspaceKeydown:function(d){var f=d.altKey,h=d.ctrlKey,o=d.shiftKey;if(Number(d.keyCode)===8&&!h&&!f&&!o){f=g.getSelection();if(f.type.toLowerCase()==="control"){d.preventDefault();f.clear()}}},onKeydown:function(d){var f=Number(d.keyCode),h=d.altKey,o=d.ctrlKey,p=d.shiftKey;if(f===86&&o&&!h&&!p)b.notifyObservers(this,"Paste",d);else if(f===13&&this.option.brNewline){d.preventDefault();this.newline()}},onKeyup:function(d){var f=Number(d.keyCode);
f===16||f===17||f===18||this.option.keepCursor&&this._private.startTimeoutSaveRange(100);this.onKeyUp(d)},onKeypress:function(d){this.onKeyUp(d)},onPaste:function(){this.option.clearNode&&this._private.startTimeoutClearNodes(200)},onDrop:function(){this.option.clearNode&&this._private.startTimeoutClearNodes()},onEditorPaste:function(d){b.notifyObservers(this,"EditorPaste",d)&&this.option.clearNode&&this._private.startTimeoutClearNodes()}};g.getSelection=function(){return document.selection?document.selection:
window.getSelection()};g.getRange=function(d){var f=g.getSelection();if(!f)return null;f=f.getRangeAt?f.rangeCount?f.getRangeAt(0):null:f.createRange();if(!f)return null;return d?g.containsRange(d,f)?f:null:f};g.contains=function(d,f,h){if(!h&&d===f)return false;if(d.compareDocumentPosition){d=d.compareDocumentPosition(f);if(d==20||d==0)return true}else if(d.contains(f))return true;return false};g.containsRange=function(d,f){var h=f.commonAncestorContainer||f.parentElement&&f.parentElement()||null;
if(h)return g.contains(d,h,true);return false};var j=new e.Class({extend:g},{init:function(d){g.callSuper(this,"init",d)}});e.ui=e.ui||{};e.ui.BaseEditor=g;e.ui.RichEditor=j});
Jx().$package(function(e){var b=e.dom,k=e.browser.ie&&(e.browser.ie<9||b.getDoc().documentMode<9),n=new e.Class({init:function(g){this.el=g;this.type=0;this.type2class=["","rotation-90deg","rotation-180deg","rotation-270deg"];k?b.createStyleNode("                    .rotation-90deg {                        filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);                    }                    .rotation-180deg {                        filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);                    }                    .rotation-270deg {                        filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);                    }                ","rotation-style"):
b.createStyleNode("                    .rotation-90deg {                        -moz-transform:rotate(90deg);                        -webkit-transform:rotate(90deg);                        -o-transform: rotate(90deg);                        -ms-transform: rotate(90deg);                        transform:rotate(90deg);                    }                    .rotation-180deg {                        -moz-transform:rotate(180deg);                        -webkit-transform:rotate(180deg);                        -o-transform: rotate(180deg);                        -ms-transform: rotate(180deg);                        transform:rotate(180deg);                    }                    .rotation-270deg {                        -moz-transform:rotate(270deg);                        -webkit-transform:rotate(270deg);                        -o-transform: rotate(270deg);                        -ms-transform: rotate(270deg);                        transform:rotate(270deg);                    }                ",
"rotation-style");styleText=null},uninit:function(){this.el=null;this.type=0},left:function(){var g=this.type;g-=1;if(-1===g)g=3;return this.rotate(g)},right:function(){var g=this.type;g+=1;if(4===g)g=0;return this.rotate(g)},rotate:function(g){g=parseInt(g,10);if(isNaN(g)||!(g in this.type2class)||g===this.type)return false;b.removeClass(this.el,this.type2class[this.type]);b.addClass(this.el,this.type2class[g]);var j=g%2!==this.type%2;this.type=g;j&&this.center();return this.type},center:function(){if(k)if("absolute"===
b.getStyle(this.el,"position")){var g=parseInt(b.getStyle(this.el,"left"),10),j=parseInt(b.getStyle(this.el,"top"),10),d=parseInt(b.getStyle(this.el,"width"),10),f=parseInt(b.getStyle(this.el,"height"),10);if(0===this.type%2){var h=d;d=f;f=h}d=(f-d)/2;g-=d;j+=d;b.setStyle(this.el,"left",g+"px");b.setStyle(this.el,"top",j+"px")}},reset:function(){b.removeClass(this.el,this.type2class[this.type]);this.type=0},isLandscape:function(){return this.type%2}});e.ui=e.ui||{};e.ui.Rotation=n});
Jx().$package(function(e){var b=e.dom,k=e.event,n;e.ui=e.ui||{};e.ui.ScrollArea=new e.Class({init:function(g,j){var d=this;n=j?j:document;this.container=g;this.scrollBar=n.createElement("div");this.scrollBar.className="scrollBar";if(e.browser.ie)this.scrollBar.innerHTML='<div class="scrollBar_bg scrollBar_bg_t"></div><div class="scrollBar_bg scrollBar_bg_b"></div>';this.container.appendChild(this.scrollBar);this.wheelThread=20;this.isScrolling=false;var f,h={onMouseDown:function(o){o.preventDefault();
o.stopPropagation();d.isScrolling=true;f=o.clientY;b.addClass(d.scrollBar,"active");k.on(n,"mousemove",h.onMouseMove);k.on(n,"mouseup",h.onMouseUp)},onMouseMove:function(o){d.scroll((o.clientY-f)/(d.offsetHeight-d.scrollBarHeight)*(d.scrollHeight-d.offsetHeight));f=o.clientY;o.preventDefault();o.stopPropagation()},onClick:function(o){o.preventDefault();o.stopPropagation()},onMouseUp:function(o){o.preventDefault();o.stopPropagation();k.off(n,"mousemove",h.onMouseMove);k.off(n,"mouseup",h.onMouseUp);
d.isScrolling=false;b.removeClass(d.scrollBar,"active")},onMouseOver:function(){b.addClass(d.scrollBar,"hover")},onMouseOut:function(){b.removeClass(d.scrollBar,"hover")},onMouseWheel:function(o){if(b.isShow(d.scrollBar)){var p=o.wheelDelta;o.returnValue=false;o=p<0?d.wheelThread:0-d.wheelThread;p=d.scrollHeight/d.scrollBarHeight/5;if(p<1)p=1;o*=p;d.scroll(o)}},onDomMouseScroll:function(o){if(b.isShow(d.scrollBar)){var p=o.detail>0?-1:1;o.stopPropagation();o.preventDefault();o=p<0?d.wheelThread:0-
d.wheelThread;p=d.scrollHeight/d.scrollBarHeight/5;if(p<1)p=1;o*=p;d.scroll(o)}}};this.observer=h;k.on(this.scrollBar,"mousedown",h.onMouseDown);k.on(this.scrollBar,"click",h.onClick);k.on(this.scrollBar,"mouseover",h.onMouseOver);k.on(this.scrollBar,"mouseout",h.onMouseOut);if(e.browser.ie||e.browser.engine.webkit||e.browser.opera){k.on(this.container,"mousewheel",h.onMouseWheel);k.on(this.scrollBar,"mousewheel",h.onMouseWheel)}else{k.on(this.container,"DOMMouseScroll",h.onDomMouseScroll);k.on(this.scrollBar,
"DOMMouseScroll",h.onDomMouseScroll)}this.update()},update:function(){if(!this.updateTimer){var g=this;this.updateTimer=setTimeout(function(){g.updateTimer=0;g.scrollBar.style.height="0";b.hide(g.scrollBar);g.scrollHeight=g.container.scrollHeight;g.offsetHeight=g.container.offsetHeight;g.scrollBarHeight=g.offsetHeight/g.scrollHeight*g.offsetHeight;if(!(g.scrollHeight<=g.offsetHeight)){b.show(g.scrollBar);if(g.scrollBarHeight<30)g.scrollBarHeight=30;g.scrollBar.style.height=g.scrollBarHeight+"px";
g.scrollBar.style.top=g.container.scrollTop+g.container.scrollTop/(g.scrollHeight-g.offsetHeight)*(g.offsetHeight-g.scrollBarHeight)+"px"}},500)}},scroll:function(g){var j=this.scrollHeight-(this.container.scrollTop+this.offsetHeight);if(g>j)g=j;g=this.container.scrollTop+g;this.scrollBar.style.top=g+g/(this.scrollHeight-this.offsetHeight)*(this.offsetHeight-this.scrollBarHeight)+"px";this.container.scrollTop=g},getScrollTop:function(){return parseInt(this.container.scrollTop)},destroy:function(){k.off(this.scrollBar,
"mousedown",this.observer.onMouseDown);k.off(this.scrollBar,"mouseover",this.observer.onMouseOver);k.off(this.scrollBar,"mouseout",this.observer.onMouseOut);if(e.browser.ie||e.browser.engine.webkit||e.browser.opera){k.off(this.container,"mousewheel",this.observer.onMouseWheel);k.off(this.scrollBar,"mousewheel",this.observer.onMouseWheel)}else{k.off(this.container,"DOMMouseScroll",this.observer.onDomMouseScroll);k.off(this.scrollBar,"DOMMouseScroll",this.observer.onDomMouseScroll)}this.container.removeChild(this.scrollBar);
this.scrollBar=this.container=null}})});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.ScrollBar=new e.Class({option:{barClass:"scrollBar",barHoverClass:null,barActiveClass:null,showBarContainer:false},init:function(n,g){var j=this;e.extend(this.option,g);this.bar=b.node("div",{"class":g.scrollBarClassName||"scrollBar"});this.obj=n;this.content=this.obj.getElementsByTagName("div")[0]||this.obj;b.setStyle(this.content,"height","100%");b.setStyle(this.content,"overflow","hidden");if(e.browser.ie)this.bar.innerHTML='<div class="scrollBar_bg scrollBar_bg_t"></div><div class="scrollBar_bg scrollBar_bg_b"></div>';
this.onscroll=g.onscroll||function(){};this.scrollToBottom=g.scrollToBottom||function(){};this.ipadTouchArea=g.ipadTouchArea||false;b.setStyle(this.bar,"marginTop",0);this.obj.appendChild(this.bar);if(g.showBarContainer){this.barBc=b.node("div",{"class":"scrollBar_bgc"});if(e.browser.ie)this.barBc.innerHTML='<div class="scrollBar_bgc_c scrollBar_bgc_t"></div><div class="scrollBar_bgc_c scrollBar_bgc_b"></div>';this.obj.appendChild(this.barBc)}this.setBarHeight();this.wheelThread=20;this.isScrolling=
false;var d={onMouseDown:function(f){var h=f.target;if(f.changedTouches)f=f.changedTouches[0];j.bar.y=f.clientY;j.bar.t=parseInt(j.bar.style.marginTop);if(e.platform.iPad)if(h==j.bar){k.on(document,"touchmove",d.onMouseMove);k.on(document,"touchend",d.onBarMouseUp)}else{k.on(document,"touchmove",d.onTouchAreaMove);k.on(document,"touchend",d.onMouseUp)}else{k.on(document,"mousemove",d.onMouseMove);k.on(document,"mouseup",d.onMouseUp);f.stopPropagation()}j.isScrolling=true;j.option.barActiveClass&&
b.addClass(j.bar,j.option.barActiveClass)},onMouseMove:function(f){if(f.changedTouches){f.preventDefault();f=f.changedTouches[0]}j.scroll(f.clientY-j.bar.y);if(!e.platform.iPad){f.preventDefault();f.stopPropagation()}},onTouchAreaMove:function(f){f.preventDefault();f.stopPropagation();if(f.changedTouches)f=f.changedTouches[0];j.scroll(-f.clientY+j.bar.y)},onBarMouseUp:function(){if(e.platform.iPad){k.off(document,"touchmove",d.onMouseMove);k.off(document,"touchend",d.onBarMouseUp)}else{k.off(document,
"mousemove",d.onMouseMove);k.off(document,"mouseup",d.onMouseUp)}j.isScrolling=false;j.option.barActiveClass&&b.removeClass(j.bar,j.option.barActiveClass)},onMouseUp:function(){if(e.platform.iPad){k.off(document,"touchmove",d.onTouchAreaMove);k.off(document,"touchend",d.onMouseUp)}else{k.off(document,"mousemove",d.onMouseMove);k.off(document,"mouseup",d.onMouseUp)}j.isScrolling=false;j.option.barActiveClass&&b.removeClass(j.bar,j.option.barActiveClass)},onMouseOver:function(){b.addClass(j.bar,j.option.barHoverClass)},
onMouseOut:function(){b.removeClass(j.bar,j.option.barHoverClass)},onMouseWheel:function(f){if(b.isShow(j.bar)){j.D=f.wheelDelta;f.returnValue=false;var h=j.D<0?j.wheelThread:0-j.wheelThread;j.bar.y=f.clientY;j.bar.t=parseInt(j.bar.style.marginTop);j.scroll(h)}else j.scrollToBottom(f)},onClick:function(f){f.stopPropagation()},onDomMouseScroll:function(f){if(b.isShow(j.bar)){j.D=f.detail>0?-1:1;if(!e.platform.iPad){f.stopPropagation();f.preventDefault()}j.bar.y=f.clientY;j.bar.t=parseInt(j.bar.style.marginTop);
j.scroll(j.D<0?j.wheelThread:0-j.wheelThread)}else j.scrollToBottom(f)}};this.option.stopClick&&k.on(this.bar,"click",d.onClick);if(this.option.barHoverClass){k.on(this.bar,"mouseover",d.onMouseOver);k.on(this.bar,"mouseout",d.onMouseOut)}if(e.platform.iPad){k.on(this.bar,"touchstart",d.onMouseDown);this.ipadTouchArea&&k.on(this.content,"touchstart",d.onMouseDown)}else{k.on(this.bar,"mousedown",d.onMouseDown);if(e.browser.ie||e.browser.engine.webkit||e.browser.opera){k.on(this.content,"mousewheel",
d.onMouseWheel);k.on(this.bar,"mousewheel",d.onMouseWheel)}else{k.on(this.content,"DOMMouseScroll",d.onDomMouseScroll);k.on(this.bar,"DOMMouseScroll",d.onDomMouseScroll)}}},scrollBack:function(){this.content.scrollTop="0px";this.bar.t=0;this.scroll(0)},refresh:function(){this.update()},update:function(){this.setBarHeight()},setBarHeight:function(){this.onscroll(0,0);this.bar.style.height="0";b.hide(this.bar);if(this.content.offsetHeight-this.content.scrollHeight>=0){this.barBc&&b.hide(this.barBc);
this.bar.t=0}else{this.bar.style.height=parseInt(this.content.offsetHeight/this.content.scrollHeight*this.content.offsetHeight)+"px";b.show(this.bar);this.barBc&&b.show(this.barBc);this.bar.t=parseInt(this.bar.style.marginTop)}this.scroll(0)},scroll:function(n){this.marginTop=(this.bar.t||0)+n;if(this.marginTop<0)this.marginTop=0;if(this.marginTop>this.content.clientHeight-this.bar.offsetHeight){this.marginTop=this.content.clientHeight-this.bar.offsetHeight;this.scrollToBottom()}this.bar.style.marginTop=
this.marginTop+"px";n==0&&this.onscroll(n,n);var g=(this.content.scrollHeight-this.content.offsetHeight)*parseInt(this.marginTop)/(this.content.offsetHeight-this.bar.offsetHeight);this.content.scrollTop=g;this.onscroll(g,n)},getScrollTop:function(){return parseInt(this.content.scrollTop)},contentScroll:function(n){n=parseInt(this.obj.offsetHeight/this.content.scrollHeight*n);this.scroll(n)},contentPosition:function(){return this.content.scrollTop}})});
Jx().$package(function(e){var b=e.dom,k=e.event,n=false,g=false;e.ui=e.ui||{};e.ui.Sortables=new e.Class({init:function(j,d,f){this.dropTargets=j.concat();this.sortStr=d;this.option=f||{};this.limiteOption=this.option.limiteOption||{};this.dragController={};this._isLock=false},addDropTarget:function(j){this.dropTargets.push(j)},addEffect:function(j){this.effectEl=j},removeDropTarget:function(j){e.array.remove(this.dropTargets,j)},refreshDropTarget:function(j){var d,f,h,o=this.dropTargets;this.dropPos=
[];if(j)for(p in o){dropTargetEl=o[p].el;if(j.el===dropTargetEl){d={};f=b.getXY(dropTargetEl);h=b.getClientWidth(dropTargetEl);j=b.getClientHeight(dropTargetEl);d.x=f[0];d.y=f[1];d.w=h;d.h=j;this.dropPos[p]=d;break}}else for(var p in o){j=o[p].el;d={};f=b.getXY(j);h=b.getClientWidth(j);j=b.getClientHeight(j);d.x=f[0];d.y=f[1];d.w=h;d.h=j;this.dropPos[p]=d}},addDragClass:function(j){var d=j.parentNode,f=j,h=false,o=this,p=null;b.getXY(d);var s=b.getXY(f),i=j.getAttribute(this.sortStr)||"",a=this.dropTargets,
c,l;this.dropPos=[];this.dragController[i]=new e.ui.Drag(j,h,this.limiteOption);k.addObserver(this.dragController[i],"beforeStart",e.bind(function(){n=b.getClientWidth(f);g=b.getClientHeight(f);var m={};m.top=parseInt(b.getStyle(f,"marginTop")||0);m.buttom=parseInt(b.getStyle(f,"marginbottom")||0);m.left=parseInt(b.getStyle(f,"marginLeft")||0);m.right=parseInt(b.getStyle(f,"marginRight")||0);n+=m.left+m.right;g+=m.top+m.buttom;a=this.dropTargets;h=o.effectEl||o.clone(f);o.dragController[i].setEffect(h);
s=b.getXY(f);m=s[0];var r=s[1];l=[m,r];b.setStyle(h,"left",m+"px");b.setStyle(h,"top",r+"px");this.refreshDropTarget();d=f.parentNode;c=f.nextSibling;document.body.appendChild(h);k.notifyObservers(o,"beforeStart")},this));k.addObserver(this.dragController[i],"start",e.bind(function(){p=null;if(o.option.isDash)f=o.cloneDashedEl(f);else e.browser.ie||b.addClass(f,"ui_halfOpacity");k.notifyObservers(o,"start")},this));k.addObserver(this.dragController[i],"move",e.bind(function(m){var r=m.orientEvent,
u=r.pageX;r=r.pageY;if(!(Math.abs(u-l[0])+Math.abs(r-l[1])<1)){var x=u-l[0]>0?"right":"left";l=[u,r];var v={el:null,level:-1,index:0},E;for(E in this.dropPos)if(u>this.dropPos[E].x&&u<this.dropPos[E].x+this.dropPos[E].w&&r>this.dropPos[E].y&&r<this.dropPos[E].y+this.dropPos[E].h){var D=a[E],K=D.el,H=b.getClientWidth(K);H=Math.floor(H/n);var z=b.getXY(K);K=u-z[0];z=Math.floor((r-z[1])/g);if(x=="right")var q=Math.ceil(K/n);else if(x=="left")q=Math.floor(K/n);H=q+z*H;if(v.level<D.level){v.level=D.level;
v.el=D.el;v.index=H}}if(p=v.el)if(p.getAttribute("customAcceptDrop"))k.notifyObservers(p,"dragmove",m);else p.childNodes[H]?p.insertBefore(f,p.childNodes[H]):p.appendChild(f);k.notifyObservers(o,"move",m)}},this));k.addObserver(this.dragController[i],"overFlowBorder",e.bind(function(m){m.el=h;k.notifyObservers(o,"overFlowBorder",m)},this));k.addObserver(this.dragController[i],"end",e.bind(function(m){var r=m.orientEvent,u=r.pageX;r=r.pageY;p&&p.getAttribute&&p.getAttribute("customAcceptDrop")&&k.notifyObservers(p,
"drop",{dragEl:j,queue:x,pos:{x:u,y:r},apperceiveEl:f,nextEl:c,parentEl:d,currentDropTarget:p});document.body.removeChild(h);if(o.option.isDash){o.removeDashedEl();f=o.tempEl}else e.browser.ie||b.removeClass(f,"ui_halfOpacity");var x=[],v;for(v in a){x[v]=[];for(var E=a[v].el.childNodes,D=0;D<E.length;D++){if(!E[D].getAttribute)break;var K=E[D].getAttribute(o.sortStr);K&&x[v].push(K)}}try{k.notifyObservers(o,"end",{queue:x,pos:m,apperceiveEl:f,nextEl:c,parentEl:d})}catch(H){e.out("drop error")}(m=
document.elementFromPoint(u,r))&&k.notifyObservers(e.ui,"drop",{dragEl:j,pos:{x:u,y:r},apperceiveEl:f,dropEl:m})},this))},setLimite:function(j){for(var d in this.dragController)this.dragController[d].setLimite(j)},cloneDashedEl:function(j){var d=b.node("div"),f=this.option.className;if(f)b.setClass(d,f);else{b.setStyle(d,"border","dashed 2px #fff");b.setClass(d,j.className);b.setStyle(d,"position","relative");b.setStyle(d,"float","left");f=j.offsetWidth-10*parseInt(d.style.borderWidth)+"px";var h=
j.offsetHeight-10*parseInt(d.style.borderWidth)+"px";b.setStyle(d,"width",f);b.setStyle(d,"height",h)}this.dashedEl=d;j.nextSibling?j.parentNode.insertBefore(d,j.nextSibling):j.parentNode.appendChild(d);this.tempEl=j;j.parentNode.removeChild(j);return d},removeDashedEl:function(){this.dashedEl.nextSibling?this.dashedEl.parentNode.insertBefore(this.tempEl,this.dashedEl.nextSibling):this.dashedEl.parentNode.appendChild(this.tempEl);this.dashedEl.parentNode.removeChild(this.dashedEl)},clone:function(j){j=
j.cloneNode(true);j.setAttribute("id","");b.setStyle(j,"position","absolute");b.setStyle(j,"zIndex","9999999");b.setStyle(j,"background","none");return j},lock:function(){this._isLock=true;for(var j in this.dragController)this.dragController[j].lock()},unlock:function(){this._isLock=false;for(var j in this.dragController)this.dragController[j].unlock()},isLock:function(){return this._isLock},forEachNode:function(j,d,f){var h=j.length;if(typeof d!="function")throw new TypeError;for(var o=0;o<h;o++)o in
j&&d.call(f,j[o],o,j)}})});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.Tab=function(n,g,j){this.tabs=[];this.currentTab=null;this.config={defaultIndex:0,triggerEvent:"click",slideEnabled:false,slideInterval:5E3,slideDelay:300,autoInit:true,onShow:function(){}};this.setConfig(j);if(n&&g){this.addRange(n,g);this.config.autoInit&&this.init()}};e.ui.Tab.prototype={init:function(){var n=this.config,g=this;e.array.forEach(this.tabs,function(j){k.on(j.trigger,n.triggerEvent,function(){g.select.call(g,j)});if(j.sheet)j.sheet.style.display=
"none"});this.select(this.tabs[n.defaultIndex]);n.slideEnabled&&this.slide()},setConfig:function(n){if(n)for(var g in n)this.config[g]=n[g]},add:function(n){if(n)if(n.trigger){this.tabs.push(n);n.trigger.style.display="block"}},addRange:function(n,g){if(n&&g)if(n.length&&g.length&&n.length==g.length)for(var j=0,d=n.length;j<d;j++)this.add({trigger:n[j],sheet:g[j]})},select:function(n){if(!(!n||this.currentTab&&n.trigger==this.currentTab.trigger)){if(this.currentTab){b.removeClass(this.currentTab.trigger,
"current");if(this.currentTab.sheet)this.currentTab.sheet.style.display="none"}this.currentTab=n;this.show()}},remove:function(n){if(n){if(n.trigger){b.removeClass(n.trigger,"current");n.trigger.style.display="none"}if(n.sheet)n.sheet.style.display="none";var g=this.indexOf(n);this.tabs.splice(g,g);if(n.trigger==this.currentTab.trigger)g==0?this.select(this.tabs[g+1]):this.select(this.tabs[g-1])}},show:function(){if(this.currentTab.trigger)this.currentTab.trigger.style.display="block";b.addClass(this.currentTab.trigger,
"current");if(this.currentTab.sheet)this.currentTab.sheet.style.display="block";this.config.onShow.call(this);k.notifyObservers(this,"show",this.currentTab)},slide:function(){function n(){var p=f.indexOf(f.currentTab);if(p!=-1)h=window.setInterval(function(){var s=f.tabs[++p%f.tabs.length];s&&f.select(s)},d.slideInterval)}function g(){window.clearTimeout(o);window.clearInterval(h)}function j(){o=window.setTimeout(n,d.slideDelay)}var d=this.config,f=this,h,o;e.array.forEach(this.tabs,function(p){k.on(p.trigger,
"mouseover",g);k.on(p.sheet,"mouseover",g);k.on(p.trigger,"mouseout",j);k.on(p.sheet,"mouseout",j)});n()},next:function(){var n=this.indexOf(this.currentTab);if(n!=-1){if(++n==this.tabs.length)n=0;(n=this.tabs[n])&&this.select(n)}},prev:function(){var n=this.indexOf(this.currentTab);if(n!=-1){if(--n==-1)n=this.tabs.length-1;(n=this.tabs[n])&&this.select(n)}},indexOf:function(n){for(var g=0,j=this.tabs.length;g<j;g++)if(n.trigger==this.tabs[g].trigger)return g;return-1}}});
Jet().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.TextBox=new e.Class({init:function(n){var g="share_box_"+(n.id||(new Date).getTime()),j=n.name||g,d=n.container||document.body,f=n.className||"",h=n.text||"";this._titleHeight=22;this._footerHeight=26;this._margin=this._padding=8;n.width=n.width||200;n.height=n.height||100;n.limit=n.limit||0;n.isPopup=n.isPopup||false;n.readOnly=n.readOnly||false;n.maskIframe=n.maskIframe||false;n.hasCloseButton=n.hasCloseButton===false?false:true;
this._isShow=false;f=this._el=b.node("div",{id:g,"class":"share_box "+f});var o='                <div class="share_box_title" id="'+g+'_title">                    <div class="share_box_titleTxt" id="'+g+'_titleTxt"></div>                </div>                <div class="share_box_body" id="'+g+'_body">                    <!--textarea class="share_box_text" id="'+g+'_text"></textarea--\>                </div>                <div class="share_box_footer" id="'+g+'_footer">                    <div class="share_box_showthumb" id="'+
g+'_showthumb"></div>                    <div class="share_box_hint" id="'+g+'_hint"></div>                    <div class="share_box_count" id="'+g+'_count"></div>                </div>                <div>                    <img id="'+g+'_thumb" class="share_box_thumb" src="'+n.thumb+'" width=211 height=127 />                </div>';if(n.maskIframe)o+='<iframe class="ui_maskBgIframe" src="'+alloy.CONST.MAIN_URL+'domain.html;" border="0"></iframe>';f.innerHTML=o;d.appendChild(f);this._panel=n.isPopup?
new e.ui.PopupBox({id:g,name:j,container:f}):new e.ui.Panel({id:g,name:j,container:f});this._shareBoxTitleTxt=b.id(g+"_titleTxt");this._shareBoxTitle=b.id(g+"_title");this._shareBoxHint=b.id(g+"_hint");this._shareBoxFooter=b.id(g+"_footer");this._shareBoxBody=b.id(g+"_body");this._shareBoxCount=b.id(g+"_count");this._shareBoxShowthumb=b.id(g+"_showthumb");this._shareBoxThumb=b.id(g+"_thumb");j='<strong class="share_big_quote share_left_quote">\u201c</strong><textarea class="share_box_text" id="'+
g+'_text"></textarea><strong class="share_big_quote share_right_quote">\u201d</strong>';if(n.readOnly)j='<strong class="share_big_quote share_left_quote">\u201c</strong><textarea class="share_box_text" id="'+g+'_text" readOnly="readonly"></textarea><strong class="share_big_quote share_right_quote">\u201d</strong>';n.thumb||b.hide(this._shareBoxShowthumb);this._shareBoxBody.innerHTML=j;this._shareBoxText=b.id(g+"_text");var p=this;g={onSendButtonClick:function(s){s.preventDefault();s.stopPropagation();
k.notifyObservers(p,"clickSendButton")},onCloseButtonClick:function(s){s.preventDefault();s.stopPropagation();p.hide();k.notifyObservers(p,"clickCloseButton")},onTextAreaKeyUp:function(s){s.stopPropagation();s.preventDefault();alloy.util.subStringByChar(s,n.limit)},toggleThumb:function(s){s.preventDefault();s.stopPropagation();b.isShow(p._shareBoxThumb)?b.hide(p._shareBoxThumb):b.show(p._shareBoxThumb)}};this._sendButton=new e.ui.Button({appendTo:this._shareBoxFooter,className:"window_button window_ok",
isStopPropagation:true,text:"\u53d1\u8868",event:{click:g.onSendButtonClick}});this._sendButton.show();if(n.hasCloseButton){this._closeButton=new e.ui.Button({appendTo:this._shareBoxTitle,className:"textbox_button",isStopPropagation:true,title:"\u5173\u95ed",event:{click:g.onCloseButtonClick}});this._closeButton.show()}this._shareBoxText.innerHTML=h;if(n.title){this._shareBoxTitleTxt.innerHTML=n.title;b.show(this._shareBoxTitle)}if(n.hint){h=null;for(j=0;j<n.hint.length;j++){h=b.node("a",{href:"###",
"class":"share_box_hintLink"});h.innerHTML=n.hint[j].text;k.on(h,"click",n.hint[j].click);this._shareBoxHint.appendChild(h)}}n.limit&&k.on(this._shareBoxText,"keyup",g.onTextAreaKeyUp);k.on(this._shareBoxShowthumb,"click",g.toggleThumb);this.setHeight(n.height);this.setWidth(n.width)},setHeight:function(n){b.setStyle(this._shareBoxText,"height",n-this._titleHeight-this._footerHeight+"px")},setWidth:function(n){b.setStyle(this._el,"width",n+"px");b.setStyle(this._shareBoxText,"width",n-this._padding-
this._margin+"px")},addMask:function(n){if(e.browser.ie)if(e.isString(n)){var g='<iframe class="ui_maskBgIframe" src="'+alloy.CONST.MAIN_URL+'domain.html"></iframe>';return n+g}else{g=b.node("iframe",{"class":"ui_maskBgIframe",src:"about:blank"});n.appendChild(g)}},getElement:function(){return this._el},isShow:function(){return this._isShow},show:function(n,g){n&&g&&this._panel.setXY(n,g);this._panel.show();this._isShow=true},hide:function(){this._panel.hide();this._isShow=false;k.notifyObservers(this,
"hide")},getValue:function(){return this._shareBoxText.value},setValue:function(n){this._shareBoxText.value=n},setHint:function(n){this._shareBoxHint.innerHTML="";this._shareBoxHint.appendChild(n);b.show(this._shareBoxHint)},setThumb:function(n){this._shareBoxThumb.src=n}})});
Jx().$package(function(e){var b=e.dom,k=e.array,n=e.event,g=e.fx.transitions,j=new e.Class({init:function(d,f){var h=this;f=f||{};h.id=j.count;j.count++;k.forEach(d,function(o){var p=f.text||o.getAttribute("title"),s,i=b.node("div",{style:"float:left;width:auto;background:blue;visibility:hidden;"});document.body.appendChild(i);i.innerHTML=p;s=b.getClientWidth(i,"width");s+=s%2;document.body.removeChild(i);i=null;o.removeAttribute("title");if(!e.isUndefined(p)){h.mouseMove=function(a){var c=h.tooltipEL,
l=a.pageX+24;a=a.pageY-18;b.getWidth(c);b.getHeight(c);b.setXY(c,l,a)};n.on(o,"mouseover",function(){h.tooltipEL||h.createTooltip();h.tooltipTextEL.innerHTML=p;h.showIn({width:s})});n.on(o,"mouseout",function(){h.tooltipEL&&h.showOut({width:s})})}})},createTooltip:function(){var d,f,h,o;f="background:url(http://qplus1.idqqimg.com/jx/style/image/tooltip_c.png?t=20111011001);";h="background:url(http://qplus1.idqqimg.com/jx/style/image/tooltip.png?t=20111011001) no-repeat;";o=" background:url(http://qplus1.idqqimg.com/jx/style/image/tooltip.png?t=20111011001) no-repeat right";
if(e.browser.ie&&e.browser.ie==6){f='filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://qplus1.idqqimg.com/jx/style/image/tooltip_c.png?t=20111011001", sizingMethod="scale");';h='filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://qplus1.idqqimg.com/jx/style/image/tooltip_l.png?t=20111011001", sizingMethod="scale");';o='filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="http://qplus1.idqqimg.com/jx/style/image/tooltip_r.png?t=20111011001", sizingMethod="scale");'}this.tooltipEL=
d=b.node("div",{id:"jxTooltip_"+this.id,style:"position: absolute; margin:10px; width:107px; height:38px; z-index: 10000; display: none;"});this.tooltipTextEL=f=b.node("div",{id:"jxTooltipText_"+this.id,style:"line-height:30px; width:100%; height:38px; color:white; overflow:hidden;"+f});h=b.node("div",{style:"position:absolute; left:-12px; width:12px; height:38px; overflow:hidden;"+h});o=b.node("div",{style:"position:absolute; right:-12px; width:12px; height:38px; overflow:hidden;"+o});d.appendChild(h);
d.appendChild(o);d.appendChild(f);document.body.appendChild(d);this.showInAnimation=new e.fx.Animation({element:d,property:"width",from:0,to:1,unit:"px",duration:300,transition:g.sinusoidal.easeOut});this.showOutAnimation=new e.fx.Animation({element:d,property:"width",from:1,to:0,unit:"px",duration:300,transition:g.sinusoidal.easeOut});n.addObserver(this.showOutAnimation,"end",function(){b.hide(d)})},showIn:function(d){var f=this.tooltipEL;this.showOutAnimation.end();n.on(document,"mousemove",this.mouseMove);
b.show(f);this.showInAnimation.start(0,d.width)},showOut:function(d){var f=this;f.showInAnimation.end();f.showOutAnimation.start(d.width,0);n.addObserver(f.showOutAnimation,"end",function(){n.off(document,"mousemove",f.mouseMove)})},about:function(){alert("Jx().ui.Tooltip() by Jetyu of Tencent!")}});j.count=0;e.ui=e.ui||{};e.ui.Tooltip=j});
Jx().$package(function(e){var b=e.dom,k=e.event;e.ui=e.ui||{};e.ui.TouchScroller=new e.Class({container:null,_dx:0,_dy:0,_posy:0,_posx:0,_maxOffsetX:0,_maxOffsetY:0,init:function(n,g){this.container=e.isString(n)?b.id(n):n;this.touchContainer=g||this.container;var j=this;this.observer={onTouchStart:function(d){if(!(d.changedTouches.length>1)){d=d.changedTouches[0];j._dx=j.container.scrollLeft;j._dy=j.container.scrollTop;j._posx=d.pageX;j._posy=d.pageY;j.maxOffsetX=j.container.scrollWidth-j.container.clientWidth;
j.maxOffsetY=j.container.scrollHeight-j.container.clientHeight;k.on(j.touchContainer,"touchmove",j.observer.onTouchMove);k.on(j.touchContainer,"touchend",j.observer.onTouchEnd)}},onTouchMove:function(d){var f=d.changedTouches[0];d=f.pageX;f=f.pageY;j._dx+=j._posx-d;j._dy+=j._posy-f;j._posx=d;j._posy=f;if(j._dx<0)j._dx=0;if(j._dy<0)j._dy=0;if(j._dx>j.maxOffsetX)j._dx=j.maxOffsetX;if(j._dy>j.maxOffsetY)j._dy=j.maxOffsetY;j.container.scrollLeft=j._dx;j.container.scrollTop=j._dy},onTouchEnd:function(){k.off(j.touchContainer,
"touchmove",j.observer.onTouchMove);k.off(j.touchContainer,"touchend",j.observer.onTouchEnd)}};k.on(this.touchContainer,"touchstart",this.observer.onTouchStart)},destroy:function(){k.off(this.touchContainer,"touchstart",this.observer.onTouchStart);this.container=null},disable:function(){k.off(this.touchContainer,"touchstart",this.observer.onTouchStart)},enable:function(){k.on(this.touchContainer,"touchstart",this.observer.onTouchStart)}})});
Jet().$package(function(e){var b=e.dom,k=e.event,n=1,g=function(){function j(z,q,t){q=parseInt(q);if(typeof t=="string")t=new Date(t.split("-")[0],t.split("-")[1],t.split("-")[2]);switch(z){case "y":return new Date(t.getFullYear()+q,t.getMonth(),t.getDate());case "m":z=Date;var w=t.getFullYear(),B=t.getMonth()+q,G=t.getFullYear();q=t.getMonth()+q;t=t.getDate();var M=["31","28","31","30","31","30","31","31","30","31","30","31"],O="";if(G%4==0)M[1]="29";O=t>M[q]?M[q]:t;return new z(w,B,O);case "d":return new Date(t.getFullYear(),
t.getMonth(),t.getDate()+q);case "w":return new Date(t.getFullYear(),t.getMonth(),7*q+t.getDate())}}function d(){var z="",q=arguments[0],t;if(typeof q=="string"){q=q.split("-");t=q[0];var w=parseInt(q[1])-1+"";q=q[2];t=new Date(t,w,q)}else if(typeof q=="object")t=q;l.year=t.getFullYear();l.month=t.getMonth();l.date=t.getDate();q=l.year+"-"+l.month;var B=j("d","-1",q+"-01").getDate(),G;q=q+"-01";var M;if(typeof q=="string")M=new Date(q.split("-")[0],q.split("-")[1],q.split("-")[2]);if(typeof q=="object")M=
q;G=M.getDay();q=j("d","-1",l.year+"-"+(parseInt(l.month)+1).toString()+"-01");M=q.getDate();q=q.getDay();w=m.getFullYear()+"-";var O=m.getMonth()+1;w+=O<10?"0":"";w+=O.toString()+"-";w+=m.getDate()<10?"0":"";w+=m.getDate().toString();for(t=0;t<G;t++){z="<li class='lastMonthDate'>"+B+"</li>"+z;B--}O=parseInt(l.month)+1;O=O<10?"0"+O.toString():O;for(t=1;t<=M;t++){var S=t<10?"0"+t.toString():t;S=l.year+"-"+O+"-"+S;a:{B=void 0;for(B in r)if(r[B]==S){B=true;break a}B=false}G=B?' class="have"':"";var R=
w==S?' class="today"':"";z+=u?B?"<li "+G+"><a href='###' "+R+" title='"+S+"'>"+t+"</a></li>":"<li "+G+">"+t+"</li>":"<li "+G+"><a href='###' "+R+" title='"+S+"'>"+t+"</a></li>"}M=1;for(t=q;t<6;t++){z+="<li class='nextMonthDate'>"+M+"</li>";M++}M="<a href='###' class='nextMonth' title='\u4e0b\u4e00\u4e2a\u6708'>\u00bb</a>";M+="<a href='###' class='lastMonth' title='\u4e0a\u4e00\u4e2a\u6708'>\u00ab</a>";M+="<span class='selectThisYear'><a href='###' class='toSelectYear' title='\u70b9\u51fb\u8fd9\u91cc\u9009\u62e9\u5e74\u4efd' >"+
l.year+"</a></span>\u5e74<span class='selectThisMonth'><a href='###' class='toSelectMonth' title='\u70b9\u51fb\u8fd9\u91cc\u9009\u62e9\u6708\u4efd'>"+(parseInt(l.month)+1).toString()+"</a></span>\u6708";if(arguments.length>1){c.date.innerHTML=z;c.title.innerHTML=M;H();D();K()}else return"<div id='calender' class='calender'>                                    <div class='calenderTitle'>"+M+"</div>                                    <div class='calenderBody'>                                        <ul class='day'>                                            <li>\u65e5</li><li>\u4e00</li><li>\u4e8c</li><li>\u4e09</li><li>\u56db</li><li>\u4e94</li><li>\u516d</li>                                        </ul>                                        <ul class='date' id='thisMonthDate'>"+
z+"</ul>                                    </div>                                    <div class='calenderBottom'>                                        <span><a href='###' class='closeCalender' >\u5173\u95ed</a><span></span>                                        <span><a href='###' class='calToToday' title='"+S+"'>\u4eca\u5929</a></span>                                        <span><a href='###' class='calEmptyInput' title=''>\u7f6e\u7a7a</a></span>                                    </div>                                  </div>"}
function f(z){if(c.target.tagName=="INPUT")c.target.value=z.title;else c.target.innerHTML=z.title;x(z.title);a.close()}function h(z){var q="",t=z.innerHTML,w;for(w=1970;w<=2020;w++)q+=w==t?"<option value="+w+" selected>"+w+"</option>":"<option value="+w+">"+w+"</option>";q="<select class='selectYear'>"+q+"</select>";z.parentNode.innerHTML=q;c.selectYear=b.mini(".selectYear",c.title)[0];k.on(c.selectYear,"onblur",function(){o(this)});k.on(c.selectYear,"change",function(){o(this)})}function o(z){var q=
"";q=c.selectMonth?c.selectMonth.value:z.value+"-"+z.parentNode.parentNode.getElementsByTagName("span")[1].getElementsByTagName("a")[0].innerHTML;d(q+"-1",z.parentNode)}function p(z){var q="",t=z.innerHTML,w;for(w=1;w<=12;w++)q+=w==t?"<option value="+w+" selected>"+w+"</option>":"<option value="+w+">"+w+"</option>";q="<select class='selectMonth'>"+q+"</select>";z.parentNode.innerHTML=q;c.selectMonth=b.mini(".selectMonth",c.title)[0];k.on(c.selectMonth,"onblur",function(){s(this)});k.on(c.selectMonth,
"change",function(){s(this)})}function s(z){var q="";q=c.selectYear?c.selectYear.value:z.parentNode.parentNode.getElementsByTagName("span")[0].getElementsByTagName("a")[0].innerHTML;d(q+"-"+z.value+"-1",z.parentNode)}var i=navigator.userAgent;i.indexOf("Opera");i.indexOf("compatible")>-1&&i.indexOf("MSIE");var a=this,c={main:null,target:null,title:null,date:null,selectMonth:null,selectYear:null},l={year:null,month:null,date:null},m=null,r=[],u=false,x=null,v=true,E=function(){k.on(b.mini(".closeCalender",
c.main)[0],"click",a.close);k.on(b.mini(".calToToday",c.main)[0],"click",function(){f(this)});k.on(b.mini(".calEmptyInput",c.main)[0],"click",function(){if(c.target.tagName=="INPUT")c.target.value="";else c.target.innerHTML="";c.main&&b.hide(c.main)})},D=function(){var z=b.mini("a",c.date),q;for(q in z)k.on(z[q],"click",function(){f(this)})},K=function(){var z=b.mini(".toSelectYear",c.title)[0],q=b.mini(".toSelectMonth",c.title)[0];if(!v){z.title="";b.setStyle(z,"cursor","default");q.title="";b.setStyle(q,
"cursor","default");return false}k.on(z,"click",function(){h(this)});k.on(q,"click",function(){p(this)})},H=function(){var z=l.year+"-"+l.month+"-"+l.date;k.on(b.mini(".nextMonth",c.title)[0],"click",function(){d(j("m",1,z),this)});k.on(b.mini(".lastMonth",c.title)[0],"click",function(){d(j("m",-1,z),this)})};this.close=function(){c.main&&b.hide(c.main)};this.show=function(){if(c.main){b.show(c.main);for(var z=c.target,q=c.main.style,t=z,w=t.offsetLeft;t=t.offsetParent;)w+=t.offsetLeft;q.left=w+"px";
q=c.main.style;z=z;for(t=z.offsetTop;z=z.offsetParent;)t+=z.offsetTop;q.top=t+20+"px"}};this.destroy=function(){if(c.main){c.main.parentNode.removeChild(c.main);c.main=null}};this.setCalendar=function(z,q,t){q=q||{};q.showBottom=q.showBottom||false;r=q.hightList||[];u=q.isOnlyHight||false;v=e.isUndefined(q.needSelect)?true:q.needSelect;q.today=q.today||0;e.isUndefined(t)||(x=t);if(!c.main){c.main=document.createElement("span");c.main.id="calenderspan_"+n++;m=new Date;q.today!=0&&m.setTime(q.today);
c.main.innerHTML=d(m);c.main.className="calendarBox";c.main.style.display="none";document.body.insertBefore(c.main,document.body.lastChild);c.title=b.mini(".calenderTitle",c.main)[0];c.date=b.mini(".date",c.main)[0];H();E();D();K();q.showBottom||c.main&&b.hide(b.mini(".calenderBottom",c.main)[0]);k.on(c.main,"mouseout",function(w){var B=c.main;w=w.relatedTarget?w.relatedTarget:w.toElement;try{(B.contains?B!=w&&B.contains(w):!!(B.compareDocumentPosition(w)&16))||a.close()}catch(G){}})}c.target=z}};
e.ui=e.ui||{};if(!e.ui.calendar)e.ui.calendar=new g;e.ui.CalendarClass=g});
Jx().$package(function(e){function b(i,a){var c;this.element=typeof i=="object"?i:document.getElementById(i);this.wrapper=this.element.parentNode;this.element.style.webkitTransitionProperty="-webkit-transform";this.element.style.webkitTransitionTimingFunction="cubic-bezier(0,0,0.25,1)";this.element.style.webkitTransitionDuration="0";this.element.style.webkitTransform=o+"0,0"+p;this.options={bounce:n,momentum:n,checkDOMChanges:true,topOnDOMChanges:false,hScrollbar:n,vScrollbar:n,fadeScrollbar:g||!j,
shrinkScrollbar:g||!j,desktopCompatibility:false,overflow:"auto",snap:false,bounceLock:false,scrollbarColor:"rgba(0,0,0,0.5)",onScrollEnd:function(){}};if(typeof a=="object")for(c in a)this.options[c]=a[c];if(this.options.desktopCompatibility)this.options.overflow="hidden";this.onScrollEnd=this.options.onScrollEnd;delete this.options.onScrollEnd;this.wrapper.style.overflow=this.options.overflow;this.refresh();window.addEventListener("onorientationchange"in window?"orientationchange":"resize",this,
false);if(j||this.options.desktopCompatibility){this.element.addEventListener(d,this,false);this.element.addEventListener(f,this,false);this.element.addEventListener(h,this,false)}this.options.checkDOMChanges&&this.element.addEventListener("DOMSubtreeModified",this,false)}function k(i,a,c,l,m){var r=document;this.dir=i;this.fade=c;this.shrink=l;this.uid=++s;this.bar=r.createElement("div");this.bar.style.cssText="position:absolute;top:0;left:0;-webkit-transition-timing-function:cubic-bezier(0,0,0.25,1);pointer-events:none;-webkit-transition-duration:0;-webkit-transition-delay:0;-webkit-transition-property:-webkit-transform;z-index:10;background:"+
m+";-webkit-transform:"+o+"0,0"+p+";"+(i=="horizontal"?"-webkit-border-radius:3px 2px;min-width:6px;min-height:5px":"-webkit-border-radius:2px 3px;min-width:5px;min-height:6px");this.wrapper=r.createElement("div");this.wrapper.style.cssText="-webkit-mask:-webkit-canvas(scrollbar"+this.uid+this.dir+");position:absolute;z-index:10;pointer-events:none;overflow:hidden;opacity:0;-webkit-transition-duration:"+(c?"300ms":"0")+";-webkit-transition-delay:0;-webkit-transition-property:opacity;"+(this.dir==
"horizontal"?"bottom:2px;left:2px;right:7px;height:5px":"top:2px;right:2px;bottom:7px;width:5px;");this.wrapper.appendChild(this.bar);a.appendChild(this.wrapper)}b.prototype={x:0,y:0,enabled:true,handleEvent:function(i){switch(i.type){case d:this.touchStart(i);break;case f:this.touchMove(i);break;case h:this.touchEnd(i);break;case "webkitTransitionEnd":this.transitionEnd();break;case "orientationchange":case "resize":this.refresh();break;case "DOMSubtreeModified":this.onDOMModified(i)}},onDOMModified:function(i){var a=
this;if(i.target.parentNode==a.element){setTimeout(function(){a.refresh()},0);if(a.options.topOnDOMChanges&&(a.x!=0||a.y!=0))a.scrollTo(0,0,"0")}},refresh:function(){var i=this.x,a=this.y;this.scrollWidth=this.wrapper.clientWidth;this.scrollHeight=this.wrapper.clientHeight;this.scrollerWidth=this.element.offsetWidth;this.scrollerHeight=this.element.offsetHeight;this.maxScrollX=this.scrollWidth-this.scrollerWidth;this.maxScrollY=this.scrollHeight-this.scrollerHeight;this.directionY=this.directionX=
0;if(this.scrollX)if(this.maxScrollX>=0)i=0;else if(this.x<this.maxScrollX)i=this.maxScrollX;if(this.scrollY)if(this.maxScrollY>=0)a=0;else if(this.y<this.maxScrollY)a=this.maxScrollY;if(this.options.snap){this.maxPageX=-Math.floor(this.maxScrollX/this.scrollWidth);this.maxPageY=-Math.floor(this.maxScrollY/this.scrollHeight);a=this.snap(i,a);i=a.x;a=a.y}if(i!=this.x||a!=this.y){this.setTransitionTime("0");this.setPosition(i,a,true)}this.scrollX=this.scrollerWidth>this.scrollWidth;this.scrollY=!this.options.bounceLock&&
!this.scrollX||this.scrollerHeight>this.scrollHeight;if(this.options.hScrollbar&&this.scrollX){this.scrollBarX=this.scrollBarX||new k("horizontal",this.wrapper,this.options.fadeScrollbar,this.options.shrinkScrollbar,this.options.scrollbarColor);this.scrollBarX.init(this.scrollWidth,this.scrollerWidth)}else if(this.scrollBarX)this.scrollBarX=this.scrollBarX.remove();if(this.options.vScrollbar&&this.scrollY&&this.scrollerHeight>this.scrollHeight){this.scrollBarY=this.scrollBarY||new k("vertical",this.wrapper,
this.options.fadeScrollbar,this.options.shrinkScrollbar,this.options.scrollbarColor);this.scrollBarY.init(this.scrollHeight,this.scrollerHeight)}else if(this.scrollBarY)this.scrollBarY=this.scrollBarY.remove()},setPosition:function(i,a,c){this.x=i;this.y=a;this.element.style.webkitTransform=o+this.x+"px,"+this.y+"px"+p;if(!c){this.scrollBarX&&this.scrollBarX.setPosition(this.x);this.scrollBarY&&this.scrollBarY.setPosition(this.y)}},setTransitionTime:function(i){i=i||"0";this.element.style.webkitTransitionDuration=
i;if(this.scrollBarX){this.scrollBarX.bar.style.webkitTransitionDuration=i;this.scrollBarX.wrapper.style.webkitTransitionDuration=n&&this.options.fadeScrollbar?"300ms":"0"}if(this.scrollBarY){this.scrollBarY.bar.style.webkitTransitionDuration=i;this.scrollBarY.wrapper.style.webkitTransitionDuration=n&&this.options.fadeScrollbar?"300ms":"0"}},touchStart:function(i){var a;if(this.enabled){i.preventDefault();i.stopPropagation();this.scrolling=true;this.moved=false;this.distY=this.distX=0;this.setTransitionTime("0");
if(this.options.momentum||this.options.snap){a=new WebKitCSSMatrix(window.getComputedStyle(this.element).webkitTransform);if(a.e!=this.x||a.f!=this.y){document.removeEventListener("webkitTransitionEnd",this,false);this.setPosition(a.e,a.f);this.moved=true}}this.touchStartX=j?i.changedTouches[0].pageX:i.pageX;this.scrollStartX=this.x;this.touchStartY=j?i.changedTouches[0].pageY:i.pageY;this.scrollStartY=this.y;this.scrollStartTime=i.timeStamp;this.directionY=this.directionX=0}},touchMove:function(i){if(this.scrolling){var a=
j?i.changedTouches[0].pageX:i.pageX,c=j?i.changedTouches[0].pageY:i.pageY,l=this.scrollX?a-this.touchStartX:0,m=this.scrollY?c-this.touchStartY:0,r=this.x+l,u=this.y+m;i.stopPropagation();this.touchStartX=a;this.touchStartY=c;if(r>=0||r<this.maxScrollX)r=this.options.bounce?Math.round(this.x+l/3):r>=0||this.maxScrollX>=0?0:this.maxScrollX;if(u>=0||u<this.maxScrollY)u=this.options.bounce?Math.round(this.y+m/3):u>=0||this.maxScrollY>=0?0:this.maxScrollY;if(this.distX+this.distY>5){if(this.distX-3>this.distY){u=
this.y;m=0}else if(this.distY-3>this.distX){r=this.x;l=0}this.setPosition(r,u);this.moved=true;this.directionX=l>0?-1:1;this.directionY=m>0?-1:1}else{this.distX+=Math.abs(l);this.distY+=Math.abs(m)}}},touchEnd:function(i){if(this.scrolling){var a=i.timeStamp-this.scrollStartTime,c=j?i.changedTouches[0]:i,l,m;l=0;m=this.x;var r=this.y;this.scrolling=false;if(this.moved)if(!this.options.snap&&a>250)this.resetPosition();else{if(this.options.momentum){i=this.scrollX===true?this.momentum(this.x-this.scrollStartX,
a,this.options.bounce?-this.x+this.scrollWidth/5:-this.x,this.options.bounce?this.x+this.scrollerWidth-this.scrollWidth+this.scrollWidth/5:this.x+this.scrollerWidth-this.scrollWidth):{dist:0,time:0};c=this.scrollY===true?this.momentum(this.y-this.scrollStartY,a,this.options.bounce?-this.y+this.scrollHeight/5:-this.y,this.options.bounce?(this.maxScrollY<0?this.y+this.scrollerHeight-this.scrollHeight:0)+this.scrollHeight/5:this.y+this.scrollerHeight-this.scrollHeight):{dist:0,time:0};l=Math.max(Math.max(i.time,
c.time),1);m=this.x+i.dist;r=this.y+c.dist}if(this.options.snap){i=this.snap(m,r);m=i.x;r=i.y;l=Math.max(i.time,l)}this.scrollTo(m,r,l+"ms")}else{this.resetPosition();if(j){for(l=c.target;l.nodeType!=1;)l=l.parentNode;m=document.createEvent("MouseEvents");m.initMouseEvent("click",true,true,i.view,1,c.screenX,c.screenY,c.clientX,c.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,0,null);m._fake=true;l.dispatchEvent(m)}}}},transitionEnd:function(){document.removeEventListener("webkitTransitionEnd",this,
false);this.resetPosition()},resetPosition:function(){var i=this.x,a=this.y;if(this.x>=0)i=0;else if(this.x<this.maxScrollX)i=this.maxScrollX;if(this.y>=0||this.maxScrollY>0)a=0;else if(this.y<this.maxScrollY)a=this.maxScrollY;if(i!=this.x||a!=this.y)this.scrollTo(i,a);else{if(this.moved){this.onScrollEnd();this.moved=false}this.scrollBarX&&this.scrollBarX.hide();this.scrollBarY&&this.scrollBarY.hide()}},snap:function(i,a){i=this.directionX>0?Math.floor(i/this.scrollWidth):this.directionX<0?Math.ceil(i/
this.scrollWidth):Math.round(i/this.scrollWidth);this.pageX=-i;i*=this.scrollWidth;if(i>0)i=this.pageX=0;else if(i<this.maxScrollX){this.pageX=this.maxPageX;i=this.maxScrollX}a=this.directionY>0?Math.floor(a/this.scrollHeight):this.directionY<0?Math.ceil(a/this.scrollHeight):Math.round(a/this.scrollHeight);this.pageY=-a;a*=this.scrollHeight;if(a>0)a=this.pageY=0;else if(a<this.maxScrollY){this.pageY=this.maxPageY;a=this.maxScrollY}return{x:i,y:a,time:Math.round(Math.max(Math.abs(this.x-i)/this.scrollWidth*
500,Math.abs(this.y-a)/this.scrollHeight*500))}},scrollTo:function(i,a,c){if(this.x==i&&this.y==a)this.resetPosition();else{this.moved=true;this.setTransitionTime(c||"350ms");this.setPosition(i,a);c==="0"||c=="0s"||c=="0ms"?this.resetPosition():document.addEventListener("webkitTransitionEnd",this,false)}},scrollToPage:function(i,a,c){if(!this.options.snap){this.pageX=-Math.round(this.x/this.scrollWidth);this.pageY=-Math.round(this.y/this.scrollHeight)}if(i=="next")i=++this.pageX;else if(i=="prev")i=
--this.pageX;if(a=="next")a=++this.pageY;else if(a=="prev")a=--this.pageY;i=-i*this.scrollWidth;a=-a*this.scrollHeight;a=this.snap(i,a);i=a.x;a=a.y;this.scrollTo(i,a,c||"500ms")},scrollToElement:function(i,a){if(i=typeof i=="object"?i:this.element.querySelector(i)){var c=this.scrollX?-i.offsetLeft:0,l=this.scrollY?-i.offsetTop:0;if(c>=0)c=0;else if(c<this.maxScrollX)c=this.maxScrollX;if(l>=0)l=0;else if(l<this.maxScrollY)l=this.maxScrollY;this.scrollTo(c,l,a)}},momentum:function(i,a,c,l){a=Math.abs(i)/
a*1E3;var m=a*a/2.5/1E3,r=0;if(i>0&&m>c){a=a*c/m/2.5;m=c}else if(i<0&&m>l){a=a*l/m/2.5;m=l}m*=i<0?-1:1;r=a/1.2;return{dist:Math.round(m),time:Math.round(r)}},destroy:function(i){window.removeEventListener("onorientationchange"in window?"orientationchange":"resize",this,false);this.element.removeEventListener(d,this,false);this.element.removeEventListener(f,this,false);this.element.removeEventListener(h,this,false);document.removeEventListener("webkitTransitionEnd",this,false);this.options.checkDOMChanges&&
this.element.removeEventListener("DOMSubtreeModified",this,false);if(this.scrollBarX)this.scrollBarX=this.scrollBarX.remove();if(this.scrollBarY)this.scrollBarY=this.scrollBarY.remove();i&&this.wrapper.parentNode.removeChild(this.wrapper);return null}};k.prototype={init:function(i,a){var c=document,l=Math.PI;if(this.dir=="horizontal"){if(this.maxSize!=this.wrapper.offsetWidth){this.maxSize=this.wrapper.offsetWidth;c=c.getCSSCanvasContext("2d","scrollbar"+this.uid+this.dir,this.maxSize,5);c.fillStyle=
"rgb(0,0,0)";c.beginPath();c.arc(2.5,2.5,2.5,l/2,-l/2,false);c.lineTo(this.maxSize-2.5,0);c.arc(this.maxSize-2.5,2.5,2.5,-l/2,l/2,false);c.closePath();c.fill()}}else if(this.maxSize!=this.wrapper.offsetHeight){this.maxSize=this.wrapper.offsetHeight;c=c.getCSSCanvasContext("2d","scrollbar"+this.uid+this.dir,5,this.maxSize);c.fillStyle="rgb(0,0,0)";c.beginPath();c.arc(2.5,2.5,2.5,l,0,false);c.lineTo(5,this.maxSize-2.5);c.arc(2.5,this.maxSize-2.5,2.5,0,l,false);c.closePath();c.fill()}this.size=Math.max(Math.round(this.maxSize*
this.maxSize/a),6);this.maxScroll=this.maxSize-this.size;this.toWrapperProp=this.maxScroll/(i-a);this.bar.style[this.dir=="horizontal"?"width":"height"]=this.size+"px"},setPosition:function(i){this.wrapper.style.opacity!="1"&&this.show();i=Math.round(this.toWrapperProp*i);if(i<0){i=this.shrink?i+i*3:0;if(this.size+i<7)i=-this.size+6}else if(i>this.maxScroll){i=this.shrink?i+(i-this.maxScroll)*3:this.maxScroll;if(this.size+this.maxScroll-i<7)i=this.size+this.maxScroll-6}i=this.dir=="horizontal"?o+
i+"px,0"+p:o+"0,"+i+"px"+p;this.bar.style.webkitTransform=i},show:function(){if(n)this.wrapper.style.webkitTransitionDelay="0";this.wrapper.style.opacity="1"},hide:function(){if(n)this.wrapper.style.webkitTransitionDelay="350ms";this.wrapper.style.opacity="0"},remove:function(){this.wrapper.parentNode.removeChild(this.wrapper);return null}};var n="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,g=/iphone|ipad/gi.test(navigator.appVersion),j="ontouchstart"in window,d=j?"touchstart":"mousedown",
f=j?"touchmove":"mousemove",h=j?"touchend":"mouseup",o="translate"+(n?"3d(":"("),p=n?",0)":")",s=0;e.ui=e.ui||{};e.ui.iScroll=b});
